(()=>{var e,t,n={6999:(e,t,n)=>{"use strict";n.d(t,{E:()=>y,Ll:()=>h,Qp:()=>A,Wq:()=>l,cQ:()=>p,qh:()=>f});var i=n(13522),s=n(60782),a=n(55237),o=n(3192),r=n(67606),d=n(15023),u=n(18935),c=n(81900);function f(e,t){const{id:n,type:i,title:s,description:a,url:r,thumb:d}=e;return{id:n,queryId:t,type:i,title:s,description:a,url:r,webThumbnail:(0,o.Bc)(d)}}function p(e,t){const{id:n,type:s,title:d,description:u,photo:c,document:f}=e;return{id:n,queryId:t,type:s,title:d,description:u,..."sticker"===s&&f instanceof i.Api.Document&&{sticker:(0,r.lW)(f)},...c instanceof i.Api.Photo&&{photo:(0,a.lq)(c)},..."gif"===s&&f instanceof i.Api.Document&&{gif:(0,o.gi)(f)},..."video"===s&&f instanceof i.Api.Document&&{thumbnail:(0,a.Gv)(f.thumbs)}}}function l(e){return e?(0,s.ei)(e,["text","startParam"]):void 0}function h(e){return{id:e.botId.toString(),hasSettings:e.hasSettings,shouldRequestWriteAccess:e.requestWriteAccess,shortName:e.shortName,peerTypes:e.peerTypes.map(m),icons:e.icons.map(g).filter(Boolean)}}function m(e){return e instanceof i.Api.AttachMenuPeerTypeBotPM?"bots":e instanceof i.Api.AttachMenuPeerTypePM?"users":e instanceof i.Api.AttachMenuPeerTypeChat?"chats":e instanceof i.Api.AttachMenuPeerTypeBroadcast?"channels":e instanceof i.Api.AttachMenuPeerTypeSameBotPM?"self":void 0}function g(e){if(!(e.icon instanceof i.Api.Document))return;const t=(0,o.Qu)(e.icon);return t?(d.ZP.documents[String(e.icon.id)]=e.icon,{name:e.name,document:t}):void 0}function y(e,t){const{description:n,descriptionPhoto:s,descriptionDocument:r,userId:d,commands:f,menuButton:p}=e,l=d&&(0,u.Xo)(d,"user"),h=s instanceof i.Api.Photo?(0,a.lq)(s):void 0,m=r instanceof i.Api.Document?(0,o.gi)(r):void 0,g=f?.map((e=>function(e,t){return{botId:e,...(0,c.f)(t)}}(l||t,e)));return{botId:l||t,description:n,gif:m,photo:h,menuButton:A(p),commands:g?.length?g:void 0}}function A(e){return e instanceof i.Api.BotMenuButton?{type:"webApp",text:e.text,url:e.url}:{type:"commands"}}},14288:(e,t,n)=>{"use strict";n.d(t,{$J:()=>u,Au:()=>a,PR:()=>f,eP:()=>c,n$:()=>h,vp:()=>d});var i=n(13522),s=n(18935);function a(e){const{self:t,min:n,about:i,date:a,versioned:r,canSelfUnmute:d,justJoined:u,left:c,muted:f,mutedByYou:p,source:l,volume:h,volumeByAdmin:m,videoJoined:g,peer:y,video:A,presentation:w,raiseHandRating:v}=e;return{isSelf:t,isMin:n,canSelfUnmute:d,isLeft:c,isMuted:f,isMutedByMe:p,hasJustJoined:u,isVolumeByAdmin:m,isVersioned:r,isVideoJoined:g,about:i,source:l,raiseHandRating:v?.toString(),volume:h,date:new Date(a),isUser:(0,s.Qk)(y),id:(0,s.iC)(y),video:A?o(A):void 0,presentation:w?o(w):void 0}}function o(e){const{audioSource:t,endpoint:n,paused:i,sourceGroups:s}=e;return{audioSource:t,endpoint:n,isPaused:i,sourceGroups:s.map(r)}}function r(e){return{semantics:e.semantics,sources:e.sources}}function d(e){const{id:t,accessHash:n}=e;if(e instanceof i.Api.GroupCallDiscarded)return{connectionState:"discarded",id:t.toString(),accessHash:n.toString(),participantsCount:0,version:0,participants:{}};const{version:s,participantsCount:a,streamDcId:o,scheduleDate:r,canChangeJoinMuted:d,joinMuted:u,canStartVideo:c,scheduleStartSubscribed:f}=e;return{connectionState:"disconnected",isLoaded:!0,id:t.toString(),accessHash:n.toString(),version:s,participantsCount:a,streamDcId:o,scheduleDate:r,canChangeJoinMuted:d,joinMuted:u,canStartVideo:c,scheduleStartSubscribed:f,participants:{}}}function u(e){return e.id.toString()}function c(e){const{id:t}=e;let n={id:t.toString()};if(e instanceof i.Api.PhoneCallAccepted||e instanceof i.Api.PhoneCallWaiting||e instanceof i.Api.PhoneCall||e instanceof i.Api.PhoneCallRequested){const{accessHash:t,adminId:i,date:s,video:a,participantId:o,protocol:r}=e;n={...n,accessHash:t.toString(),adminId:i.toString(),participantId:o.toString(),date:s,isVideo:a,protocol:l(r)}}if(e instanceof i.Api.PhoneCall){const{p2pAllowed:t,gAOrB:i,keyFingerprint:s,connections:a,startDate:o}=e;n={...n,state:"active",gAOrB:Array.from(i),keyFingerprint:s.toString(),startDate:o,p2pAllowed:t,connections:a.map(p).filter(Boolean)}}return e instanceof i.Api.PhoneCallDiscarded&&(n={...n,state:"discarded",duration:e.duration,reason:f(e.reason),needRating:e.needRating,needDebug:e.needDebug}),e instanceof i.Api.PhoneCallWaiting&&(n={...n,state:"waiting",receiveDate:e.receiveDate}),e instanceof i.Api.PhoneCallAccepted&&(n={...n,state:"accepted",gB:Array.from(e.gB)}),e instanceof i.Api.PhoneCallRequested&&(n={...n,state:"requested",gAHash:Array.from(e.gAHash)}),n}function f(e){return e instanceof i.Api.PhoneCallDiscardReasonMissed?"missed":e instanceof i.Api.PhoneCallDiscardReasonBusy?"busy":e instanceof i.Api.PhoneCallDiscardReasonHangup?"hangup":"disconnect"}function p(e){if(e instanceof i.Api.PhoneConnectionWebrtc){const{username:t,password:n,turn:i,stun:s,ip:a,ipv6:o,port:r}=e;return{username:t,password:n,isTurn:i,isStun:s,ip:a,ipv6:o,port:r}}}function l(e){const{libraryVersions:t,minLayer:n,maxLayer:i,udpP2p:s,udpReflector:a}=e;return{libraryVersions:t,minLayer:n,maxLayer:i,isUdpP2p:s,isUdpReflector:a}}function h(){return new i.Api.PhoneCallProtocol({libraryVersions:["4.0.0"],minLayer:92,maxLayer:92,udpReflector:!0,udpP2p:!0})}},66175:(e,t,n)=>{"use strict";n.d(t,{B0:()=>I,BW:()=>T,Cq:()=>C,EP:()=>B,Ep:()=>b,Jm:()=>R,Rl:()=>M,a0:()=>E,ab:()=>y,am:()=>f,bZ:()=>P,eb:()=>v,j7:()=>S,lV:()=>U,vX:()=>m,vv:()=>k});var i=n(13522),s=n(60782),a=n(18935),o=n(81900),r=n(82267),d=n(3192),u=n(55237);function c(e,t=!1){const n=Boolean("min"in e&&e.min),i="accessHash"in e&&String(e.accessHash),s="photo"in e&&e.photo&&"hasVideo"in e.photo&&e.photo.hasVideo,a="photo"in e&&e.photo&&v(e.photo),o=Boolean("signatures"in e&&e.signatures),r=Boolean("hasLink"in e&&e.hasLink),d=Boolean("scam"in e&&e.scam),c=Boolean("fake"in e&&e.fake),f=Boolean("joinToSend"in e&&e.joinToSend),m=Boolean("joinRequest"in e&&e.joinRequest),g=(0,u.T4)(e),y=Boolean("forum"in e&&e.forum);return{isMin:n,hasPrivateLink:r,isSignaturesShown:o,usernames:g,...i&&{accessHash:i},hasVideoAvatar:s,...a&&{avatarHash:a},..."verified"in e&&{isVerified:e.verified},..."callActive"in e&&{isCallActive:e.callActive},..."callNotEmpty"in e&&{isCallNotEmpty:e.callNotEmpty},..."date"in e&&{joinDate:e.date},..."participantsCount"in e&&void 0!==e.participantsCount&&{membersCount:e.participantsCount},..."noforwards"in e&&{isProtected:Boolean(e.noforwards)},...t&&{isSupport:!0},...p(e),..."creator"in e&&{isCreator:e.creator},...l(e),...h(e),fakeType:d?"scam":c?"fake":void 0,isJoinToSend:f,isJoinRequest:m,isForum:y}}function f(e,t){const{peer:n,folderId:s,unreadMark:o,unreadCount:d,unreadMentionsCount:u,unreadReactionsCount:f,notifySettings:{silent:p,muteUntil:l},readOutboxMaxId:h,readInboxMaxId:m,draft:y}=e,w=p||"number"==typeof l&&(0,r.bp)()<l;return{id:(0,a.iC)(n),...s&&{folderId:s},type:g(t),title:A(n,t),lastReadOutboxMessageId:h,lastReadInboxMessageId:m,unreadCount:d,unreadMentionsCount:u,unreadReactionsCount:f,isMuted:w,...o&&{hasUnreadMark:!0},...y instanceof i.Api.DraftMessage&&{draftDate:y.date},...c(t)}}function p(e){return e instanceof i.Api.Chat||e instanceof i.Api.Channel?{adminRights:e.adminRights?(0,o.f)(e.adminRights):void 0,currentUserBannedRights:"bannedRights"in e&&e.bannedRights?(0,o.f)(e.bannedRights):void 0,defaultBannedRights:e.defaultBannedRights?(0,o.f)(e.defaultBannedRights):void 0}:{}}function l(e){if(e instanceof i.Api.ChatForbidden)return{isForbidden:!0};if(e instanceof i.Api.ChannelForbidden)return{isRestricted:!0};const t={};if("restricted"in e){const n=e.restricted?function(e){if(!e)return;const t=e.find((({platform:e})=>"all"===e));return t?(0,s.ei)(t,["reason","text"]):void 0}(e.restrictionReason):void 0;n&&Object.assign(t,{isRestricted:!0,restrictionReason:n})}return e instanceof i.Api.Chat&&Object.assign(t,{isNotJoined:e.left}),e instanceof i.Api.Channel&&Object.assign(t,{isNotJoined:e.left}),t}function h(e){return!("migratedTo"in e)||!e.migratedTo||e.migratedTo instanceof i.Api.InputChannelEmpty?{}:{migratedTo:{chatId:(0,a.iC)(e.migratedTo),...e.migratedTo instanceof i.Api.InputChannel&&{accessHash:String(e.migratedTo.accessHash)}}}}function m(e,t=!1){if(!(e instanceof i.Api.ChatEmpty||e instanceof i.Api.UserEmpty))return{id:(0,a.Xo)(e.id,e instanceof i.Api.User?"user":"chat"),type:g(e),title:e instanceof i.Api.User?w(e):e.title,...c(e,t)}}function g(e){return e instanceof i.Api.User||e instanceof i.Api.UserEmpty?"chatTypePrivate":e instanceof i.Api.Chat||e instanceof i.Api.ChatForbidden||e instanceof i.Api.ChatEmpty?"chatTypeBasicGroup":e.megagroup?"chatTypeSuperGroup":"chatTypeChannel"}function y(e){return(0,a.Qk)(e)?`user${e.userId}`:(0,a.$L)(e)?`chat${e.chatId}`:`chat${e.channelId}`}function A(e,t){return(0,a.Qk)(e)?w(t):t.title}function w(e){return e.firstName?`${e.firstName}${e.lastName?` ${e.lastName}`:""}`:e.lastName||""}function v(e){if("photoId"in e)return String(e.photoId)}function b(e){return{userId:e instanceof i.Api.ChannelParticipantBanned||e instanceof i.Api.ChannelParticipantLeft?(0,a.iC)(e.peer):(0,a.Xo)(e.userId,"user"),inviterId:"inviterId"in e&&e.inviterId?(0,a.Xo)(e.inviterId,"user"):void 0,joinedDate:"date"in e?e.date:void 0,kickedByUserId:"kickedBy"in e&&e.kickedBy?(0,a.Xo)(e.kickedBy,"user"):void 0,promotedByUserId:"promotedBy"in e&&e.promotedBy?(0,a.Xo)(e.promotedBy,"user"):void 0,bannedRights:"bannedRights"in e?(0,o.f)(e.bannedRights):void 0,adminRights:"adminRights"in e?(0,o.f)(e.adminRights):void 0,customTitle:"rank"in e?e.rank:void 0,...(e instanceof i.Api.ChannelParticipantAdmin||e instanceof i.Api.ChatParticipantAdmin)&&{isAdmin:!0},...(e instanceof i.Api.ChannelParticipantCreator||e instanceof i.Api.ChatParticipantCreator)&&{isOwner:!0}}}function I(e){return e instanceof i.Api.ChatParticipants||e instanceof i.Api.channels.ChannelParticipants?e.participants.map(b).filter(Boolean):void 0}function S(e){let t,n="";if(!(e.action instanceof i.Api.SendMessageCancelAction)){if(e.action instanceof i.Api.SendMessageTypingAction)n="lng_user_typing";else if(e.action instanceof i.Api.SendMessageRecordVideoAction)n="lng_send_action_record_video";else if(e.action instanceof i.Api.SendMessageUploadVideoAction)n="lng_send_action_upload_video";else if(e.action instanceof i.Api.SendMessageRecordAudioAction)n="lng_send_action_record_audio";else if(e.action instanceof i.Api.SendMessageUploadAudioAction)n="lng_send_action_upload_audio";else if(e.action instanceof i.Api.SendMessageUploadPhotoAction)n="lng_send_action_upload_photo";else if(e.action instanceof i.Api.SendMessageUploadDocumentAction)n="lng_send_action_upload_file";else if(e.action instanceof i.Api.SendMessageGeoLocationAction)n="selecting a location to share";else if(e.action instanceof i.Api.SendMessageChooseContactAction)n="selecting a contact to share";else if(e.action instanceof i.Api.SendMessageGamePlayAction)n="lng_playing_game";else if(e.action instanceof i.Api.SendMessageRecordRoundAction)n="lng_send_action_record_round";else if(e.action instanceof i.Api.SendMessageUploadRoundAction)n="lng_send_action_upload_round";else if(e.action instanceof i.Api.SendMessageChooseStickerAction)n="lng_send_action_choose_sticker";else{if(e.action instanceof i.Api.SpeakingInGroupCallAction)return;if(e.action instanceof i.Api.SendMessageEmojiInteractionSeen)n="lng_user_action_watching_animations",t=e.action.emoticon;else if(e.action instanceof i.Api.SendMessageEmojiInteraction)return}return{action:n,...t&&{emoji:t},...!(e instanceof i.Api.UpdateUserTyping)&&{userId:(0,a.iC)(e.fromId)},timestamp:Date.now()+1e3*(0,r.Qj)()}}}function P(e){return{...(0,s.q0)(e,["id","title","emoticon","contacts","nonContacts","groups","bots","excludeMuted","excludeRead","excludeArchived"]),channels:e.broadcasts,pinnedChatIds:e.pinnedPeers.map(a.iC).filter(Boolean),includedChatIds:e.includePeers.map(a.iC).filter(Boolean),excludedChatIds:e.excludePeers.map(a.iC).filter(Boolean)}}function C({filter:e,description:t}){if(e instanceof i.Api.DialogFilter)return{...P(e),description:t}}function M(e){return e.reduce(((e,t)=>{const n=(0,a.Xo)(t.userId,"user");return t.commands&&(e=e.concat(t.commands.map((e=>({botId:n,...(0,o.f)(e)}))))),e}),[])}function E(e){const{revoked:t,date:n,expireDate:i,link:s,permanent:o,startDate:r,usage:d,usageLimit:u,requested:c,requestNeeded:f,title:p,adminId:l}=e;return{isRevoked:t,date:n,expireDate:i,link:s,isPermanent:o,startDate:r,usage:d,usageLimit:u,isRequestNeeded:f,requested:c,title:p,adminId:(0,a.Xo)(l,"user")}}function R(e){const{userId:t,date:n,about:i,requested:s}=e;return{userId:(0,a.Xo)(t,"user"),date:n,about:i,isRequested:s}}function U({autoarchived:e,reportSpam:t,addContact:n,blockContact:i}){return{isAutoArchived:Boolean(e),canReportSpam:Boolean(t),canAddContact:Boolean(n),canBlockContact:Boolean(i)}}function k(e){return e instanceof i.Api.ChatReactionsAll?{type:"all",areCustomAllowed:e.allowCustom}:e instanceof i.Api.ChatReactionsSome?{type:"some",allowed:e.reactions.map(d.uN).filter(Boolean)}:void 0}function T(e){return{id:(0,a.iC)(e.peer),isPremium:e.premiumRequired}}function B(e){if(e instanceof i.Api.ForumTopicDeleted)return;const{id:t,my:n,closed:s,pinned:o,hidden:r,short:d,date:u,title:c,iconColor:f,iconEmojiId:p,topMessage:l,unreadCount:h,unreadMentionsCount:m,unreadReactionsCount:g,fromId:y,notifySettings:{silent:A,muteUntil:w}}=e;return{id:t,isClosed:s,isPinned:o,isHidden:r,isOwner:n,isMin:d,date:u,title:c,iconColor:f,iconEmojiId:p?.toString(),lastMessageId:l,unreadCount:h,unreadMentionsCount:m,unreadReactionsCount:g,fromId:(0,a.iC)(y),isMuted:A||(void 0!==w?w>0:void 0)}}},55237:(e,t,n)=>{"use strict";n.d(t,{Gv:()=>u,T4:()=>m,T8:()=>c,lq:()=>p,mx:()=>h,wu:()=>f});var i=n(13522),s=n(48960),a=n(81900),o=n(28441),r=n(60782);const d={w:100,h:100};function u(e,t){if(!e||!e.length)return;const n=e.find((e=>e instanceof i.Api.PhotoStrippedSize));if(!n)return;const o=e.filter((e=>e instanceof i.Api.PhotoSize)),{w:r,h:u}=o.length?o[o.length-1]:d,{bytes:c}=n;return{dataUri:(0,a.P)(t&&"image/jpeg"!==t?c:(0,s.strippedPhotoToJpg)(c),void 0,t),width:r,height:u}}function c(e){const{w:t,h:n,bytes:i}=e;return{dataUri:(0,a.P)(i,void 0,"image/webp"),width:t,height:n}}function f(e,t){const{w:n,h:i}=t;return{dataUri:`data:image/svg+xml;utf8,${(0,o.G)(e.bytes,n,i)}`,width:n,height:i}}function p(e,t){const n=e.sizes.filter((e=>e instanceof i.Api.PhotoSize||e instanceof i.Api.PhotoSizeProgressive)).map(h);return{id:String(e.id),thumbnail:u(e.sizes),sizes:n,isSpoiler:t,...e.videoSizes&&{videoSizes:(0,r.oA)(e.videoSizes.map(l)),isVideo:!0}}}function l(e){if(!(e instanceof i.Api.VideoSize))return;const{videoStartTs:t,size:n,h:s,w:a,type:o}=e;return{videoStartTs:t,size:n,height:s,width:a,type:o}}function h(e){const{w:t,h:n,type:i}=e;return{width:t,height:n,type:i}}function m(e){if(!(e.usernames||"username"in e&&e.username))return;const t=[];return"username"in e&&e.username&&t.push({username:e.username,isActive:!0,isEditable:!0}),e.usernames&&e.usernames.forEach((({username:e,active:n,editable:i})=>{t.push({username:e,...n&&{isActive:!0},...i&&{isEditable:!0}})})),t}},81900:(e,t,n)=>{"use strict";function i(e,t=!1,n="image/jpeg"){return`${t?"":`data:${n};base64,`}${btoa(String.fromCharCode(...e))}`}function s(e){const{flags:t,CONSTRUCTOR_ID:n,SUBCLASS_OF_ID:i,className:s,classType:a,getBytes:o,...r}=e;return r}n.d(t,{P:()=>i,f:()=>s})},3192:(e,t,n)=>{"use strict";n.d(t,{$m:()=>E,Ax:()=>J,Bc:()=>Q,FD:()=>T,Jf:()=>X,K7:()=>U,Pb:()=>Y,Qu:()=>q,RI:()=>te,Rj:()=>x,VS:()=>C,bE:()=>R,dJ:()=>P,dq:()=>L,eL:()=>M,gF:()=>Z,gK:()=>S,gi:()=>F,jZ:()=>O,kc:()=>K,p4:()=>j,qY:()=>z,s2:()=>G,uN:()=>N,wo:()=>H});var i=n(13522),s=n(59187),a=n(83716),o=n(60782),r=n(67606),d=n(55237),u=n(1735),c=n(4973),f=n(64250),p=n(18935),l=n(14288),h=n(78058),m=n(82267);const g=1676e9,y=100,A=1e6,w="temp",v=63;let b,I=a.MPN;function S(){const e=Math.round((Date.now()-g)/y);return a.MPN+e+ ++I/A}function P(e){b=e}function C(e){const{fromId:t,message:n,entities:s,startParam:o,channelPost:r,chatInvite:d,chatInviteHash:u,randomId:c,recommended:l}=e,h=t?(0,p.iC)(t):void 0,m=d?d instanceof i.Api.ChatInvite?d.title:d.chat instanceof i.Api.ChatEmpty?void 0:d.chat.title:void 0;return{randomId:(0,f.TC)(c),isBot:!!t&&(0,p.Qk)(t),text:G(n,s),expiresAt:Math.round(Date.now()/1e3)+a.ZOc,isRecommended:Boolean(l),...h&&{chatId:h},...u&&{chatInviteHash:u},...d&&{chatInviteTitle:m},...o&&{startParam:o},...r&&{channelPostId:r}}}function M(e){const t=(0,f.MZ)(e);if(t&&(e instanceof i.Api.Message||e instanceof i.Api.MessageService))return k(t,e)}function E(e){return k((0,p.Xo)(e.userId,"user"),{...e,fromId:(0,c.GB)(e.out?b:(0,p.Xo)(e.userId,"user"))})}function R(e){return k((0,p.Xo)(e.chatId,"chat"),{...e,fromId:(0,c.GB)((0,p.Xo)(e.fromId,"user"))})}function U(e,t){const n=S(),i=_(e);return{id:n,chatId:a.awM,date:e.inboxDate||t,content:i,isOutgoing:!1}}function k(e,t){const n=t.fromId?(0,p.iC)(t.fromId):void 0,s=t.peerId?(0,p.iC)(t.peerId):void 0,a=!n&&e===b,o=t.out&&!t.post||a&&!t.fwdFrom,r=_(t),u=t.action&&function(e,t,n,s,a){if(e instanceof i.Api.MessageActionEmpty)return;let o,r,u,c,h;const m=[];let g,y,A,w,v,I="other";const S="users"in e?e.users&&e.users.map((e=>(0,p.Xo)(e,"user"))):"userId"in e&&[(0,p.Xo)(e.userId,"user")]||[];let P;if(e instanceof i.Api.MessageActionChatCreate)h="Notification.CreatedChatWithTitle",m.push("%action_origin%",e.title),I="chatCreate";else if(e instanceof i.Api.MessageActionChatEditTitle)s?(h="Channel.MessageTitleUpdated",m.push(e.title)):(h="Notification.ChangedGroupName",m.push("%action_origin%",e.title));else if(e instanceof i.Api.MessageActionChatEditPhoto)s?h="Channel.MessagePhotoUpdated":(h="Notification.ChangedGroupPhoto",m.push("%action_origin%"));else if(e instanceof i.Api.MessageActionChatDeletePhoto)h=s?"Channel.MessagePhotoRemoved":"Group.MessagePhotoRemoved";else if(e instanceof i.Api.MessageActionChatAddUser)!t||S.includes(t)?(h="Notification.JoinedChat",m.push("%target_user%")):(h="Notification.Invited",m.push("%action_origin%","%target_user%"));else if(e instanceof i.Api.MessageActionChatDeleteUser)!t||S.includes(t)?(h="Notification.LeftChat",m.push("%target_user%")):(h="Notification.Kicked",m.push("%action_origin%","%target_user%"));else if(e instanceof i.Api.MessageActionChatJoinedByLink)h="Notification.JoinedGroupByLink",m.push("%action_origin%");else if(e instanceof i.Api.MessageActionChannelCreate)h="Notification.CreatedChannel";else if(e instanceof i.Api.MessageActionChatMigrateTo)P=(0,p.iC)(e),h="Migrated to %target_chat%",m.push("%target_chat%");else if(e instanceof i.Api.MessageActionChannelMigrateFrom)P=(0,p.iC)(e),h="Migrated from %target_chat%",m.push("%target_chat%");else if(e instanceof i.Api.MessageActionPinMessage)h="Chat.Service.Group.UpdatedPinnedMessage1",m.push("%action_origin%","%message%");else if(e instanceof i.Api.MessageActionHistoryClear)h="HistoryCleared",I="historyClear";else if(e instanceof i.Api.MessageActionPhoneCall){const t=Boolean(e.duration);if(h=[t?"ChatList.Service":"Chat",e.video?"VideoCall":"Call",a?t?"outgoing":"Outgoing":t?"incoming":"Incoming"].join("."),t){const t=Math.max(Math.round(e.duration/60),1);m.push(`${t} min${t>1?"s":""}`)}o={isOutgoing:a,isVideo:e.video,duration:e.duration,reason:(0,l.PR)(e.reason)}}else if(e instanceof i.Api.MessageActionInviteToGroupCall)h="Notification.VoiceChatInvitation",r={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()},m.push("%action_origin%","%target_user%");else if(e instanceof i.Api.MessageActionContactSignUp)h="Notification.Joined",m.push("%action_origin%"),I="contactSignUp";else if(e instanceof i.Api.MessageActionPaymentSent)u=Number(e.totalAmount),c=e.currency,h="PaymentSuccessfullyPaid",n&&S.push(n),m.push("%payment_amount%","%target_user%","%product%");else if(e instanceof i.Api.MessageActionGroupCall)if(e.duration){const t=Math.max(Math.round(e.duration/60),1);h="Notification.VoiceChatEnded",m.push(`${t} min${t>1?"s":""}`)}else h="Notification.VoiceChatStartedChannel",r={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()};else if(e instanceof i.Api.MessageActionBotAllowed)h="Chat.Service.BotPermissionAllowed",m.push(e.domain);else if(e instanceof i.Api.MessageActionCustomAction)h=e.message;else if(e instanceof i.Api.MessageActionChatJoinedByRequest)h="ChatService.UserJoinedGroupByRequest",m.push("%action_origin%");else if(e instanceof i.Api.MessageActionGameScore)h=t===b?"ActionYouScoredInGame":"ActionUserScoredInGame",m.push("%score%"),y=e.score;else if(e instanceof i.Api.MessageActionWebViewDataSent)h="Notification.WebAppSentData",m.push(e.text);else if(e instanceof i.Api.MessageActionGiftPremium)h=a?"ActionGiftOutbound":"ActionGiftInbound",a?m.push("%gift_payment_amount%"):m.push("%action_origin%","%gift_payment_amount%"),n&&S.push(n),c=e.currency,u=e.amount.toJSNumber(),A=e.months;else if(e instanceof i.Api.MessageActionTopicCreate)h="TopicWasCreatedAction",I="topicCreate",m.push(e.title);else if(e instanceof i.Api.MessageActionTopicEdit)void 0!==e.closed?(h=e.closed?"TopicWasClosedAction":"TopicWasReopenedAction",m.push("%action_origin%","%action_topic%")):void 0!==e.hidden?h=e.hidden?"TopicHidden2":"TopicShown":e.title?(h="TopicRenamedTo",m.push("%action_origin%",e.title)):e.iconEmojiId?(h="TopicWasIconChangedToAction",m.push("%action_origin%","%action_topic_icon%"),w=e.iconEmojiId.toString()):h="ChatList.UnsupportedMessage",v=!0;else if(e instanceof i.Api.MessageActionAttachMenuBotAllowed)h="ActionAttachMenuBotAllowed";else if(e instanceof i.Api.MessageActionSuggestProfilePhoto){const s=e.photo instanceof i.Api.Photo&&e.photo.videoSizes?.length;h=t===b?s?"ActionSuggestVideoFromYouDescription":"ActionSuggestPhotoFromYouDescription":s?"ActionSuggestVideoToYouDescription":"ActionSuggestPhotoToYouDescription",I="suggestProfilePhoto",m.push("%target_user%"),n&&S.push(n)}else h="ChatList.UnsupportedMessage";return"photo"in e&&e.photo instanceof i.Api.Photo&&((0,f.Hh)(e.photo),g=(0,d.lq)(e.photo)),{text:h,type:I,targetUserIds:S,targetChatId:P,photo:g,amount:u,currency:c,translationValues:m,call:r,phoneCall:o,score:y,months:A,topicEmojiIconId:w,isTopicAction:v}}(t.action,n,s,Boolean(t.post),o);u&&(r.action=u);const c=t.media instanceof i.Api.MessageMediaInvoice&&Boolean(t.media.extendedMedia),{replyToMsgId:m,replyToTopId:g,forumTopic:y,replyToPeerId:A}=t.replyTo||{},w=t.editDate&&!t.editHide,{inlineButtons:v,keyboardButtons:I,keyboardPlaceholder:S,isKeyboardSingleUse:P,isKeyboardSelective:C}=function(e,t){const{replyMarkup:n,media:s}=e;if(!n)return s instanceof i.Api.MessageMediaWebPage&&s.webpage instanceof i.Api.WebPage&&"telegram_message"===s.webpage.type?{inlineButtons:[[{type:"url",text:"Show Message",url:s.webpage.url}]]}:void 0;if(!(n instanceof i.Api.ReplyKeyboardMarkup||n instanceof i.Api.ReplyInlineMarkup))return;const a=n.rows.map((({buttons:e})=>e.map((e=>{const{text:n}=e;if(e instanceof i.Api.KeyboardButton)return{type:"command",text:n};if(e instanceof i.Api.KeyboardButtonUrl)return e.url.includes("?startgroup=")?{type:"unsupported",text:n}:{type:"url",text:n,url:e.url};if(e instanceof i.Api.KeyboardButtonCallback)return e.requiresPassword?{type:"unsupported",text:n}:{type:"callback",text:n,data:(0,f.TC)(e.data)};if(e instanceof i.Api.KeyboardButtonRequestPoll)return{type:"requestPoll",text:n,isQuiz:e.quiz};if(e instanceof i.Api.KeyboardButtonRequestPhone)return{type:"requestPhone",text:n};if(e instanceof i.Api.KeyboardButtonBuy){if(s instanceof i.Api.MessageMediaInvoice&&s.receiptMsgId)return{type:"receipt",text:"PaymentReceipt",receiptMessageId:s.receiptMsgId};if(t)return;return{type:"buy",text:n}}return e instanceof i.Api.KeyboardButtonGame?{type:"game",text:n}:e instanceof i.Api.KeyboardButtonSwitchInline?{type:"switchBotInline",text:n,query:e.query,isSamePeer:e.samePeer}:e instanceof i.Api.KeyboardButtonUserProfile?{type:"userProfile",text:n,userId:e.userId.toString()}:e instanceof i.Api.KeyboardButtonSimpleWebView?{type:"simpleWebView",text:n,url:e.url}:e instanceof i.Api.KeyboardButtonWebView?{type:"webView",text:n,url:e.url}:e instanceof i.Api.KeyboardButtonUrlAuth?{type:"urlAuth",text:n,url:e.url,buttonId:e.buttonId}:{type:"unsupported",text:n}})).filter(Boolean)));return a.every((e=>!e.length))?void 0:{[n instanceof i.Api.ReplyKeyboardMarkup?"keyboardButtons":"inlineButtons"]:a,...n instanceof i.Api.ReplyKeyboardMarkup&&{keyboardPlaceholder:n.placeholder,isKeyboardSingleUse:n.singleUse,isKeyboardSelective:n.selective}}}(t,c)||{},M=t.fwdFrom&&function(e,t=!1){const n=e.savedFromPeer&&(0,p.iC)(e.savedFromPeer),i=e.fromId&&(0,p.iC)(e.fromId);return{date:e.date,isImported:e.imported,isChannelPost:Boolean(e.channelPost),channelPostId:e.channelPost,isLinkedChannelPost:Boolean(e.channelPost&&n&&!t),fromChatId:n||i,fromMessageId:e.savedFromMsgId||e.channelPost,senderUserId:i,hiddenUserName:e.fromName,postAuthorTitle:e.postAuthor}}(t.fwdFrom,a),{replies:E,mediaUnread:R,postAuthor:U}=t,k=t.groupedId&&String(t.groupedId),B=Boolean(k)&&!(r.document||r.audio||r.sticker),D=t.replyMarkup instanceof i.Api.ReplyKeyboardHide,x=t.replyMarkup instanceof i.Api.ReplyKeyboardHide&&t.replyMarkup.selective,N=t.noforwards||c,H=!t.noforwards,G=(0,h.k)(r,k);return{id:t.id,chatId:e,isOutgoing:o,content:r,date:t.date,senderId:n||t.out&&t.post&&b||e,views:t.views,forwards:t.forwards,isFromScheduled:t.fromScheduled,isSilent:t.silent,reactions:t.reactions&&T(t.reactions),...G&&{emojiOnlyCount:G},...m&&{replyToMessageId:m},...y&&{isTopicReply:!0},...A&&{replyToChatId:(0,p.iC)(A)},...g&&{replyToTopMessageId:g},...M&&{forwardInfo:M},...w&&{isEdited:w},...t.editDate&&{editDate:t.editDate},...R&&{isMediaUnread:R},...t.mentioned&&R&&{hasUnreadMention:!0},...t.mentioned&&{isMentioned:!0},...k&&{groupedId:k,isInAlbum:B},inlineButtons:v,...I&&{keyboardButtons:I,keyboardPlaceholder:S,isKeyboardSingleUse:P,isKeyboardSelective:C},...D&&{shouldHideKeyboardButtons:D,isHideKeyboardSelective:x},...t.viaBotId&&{viaBotId:(0,p.Xo)(t.viaBotId,"user")},...E&&{repliesThreadInfo:ee(E,t.id,e)},...U&&{postAuthorTitle:U},isProtected:N,isForwardingAllowed:H}}function T(e){const{recentReactions:t,results:n,canSeeList:i}=e;return{canSeeList:i,results:n.map(D).filter(Boolean).sort(B),recentReactions:t?.map(x).filter(Boolean)}}function B(e,t){return t.count-e.count||(void 0!==e.chosenOrder&&void 0!==t.chosenOrder?e.chosenOrder-t.chosenOrder:void 0!==e.chosenOrder?1:void 0!==t.chosenOrder?-1:0)}function D(e){const{chosenOrder:t,count:n,reaction:i}=e,s=N(i);if(s)return{chosenOrder:t,count:n,reaction:s}}function x(e){const{peerId:t,reaction:n,big:i,unread:s}=e,a=N(n);if(a)return{userId:(0,p.iC)(t),reaction:a,isUnread:s,isBig:i}}function N(e){return e instanceof i.Api.ReactionEmoji?{emoticon:e.emoticon}:e instanceof i.Api.ReactionCustomEmoji?{documentId:e.documentId.toString()}:void 0}function H(e){const{selectAnimation:t,staticIcon:n,reaction:i,title:s,inactive:a,aroundAnimation:o,centerIcon:r,effectAnimation:d,activateAnimation:u,premium:c}=e;return{selectAnimation:q(t),activateAnimation:q(u),effectAnimation:q(d),staticIcon:q(n),aroundAnimation:o?q(o):void 0,centerIcon:r?q(r):void 0,reaction:{emoticon:i},title:s,isInactive:a,isPremium:c}}function _(e){let t={};e.media&&(t={...O(e.media)});const n=e.media instanceof i.Api.MessageMediaUnsupported;return!e.message||n||t.sticker||t.poll||t.contact||t.video?.isRound||(t={...t,text:G(e.message,e.entities)}),t}function G(e,t){return{text:e,...t&&{entities:t.map(Y)}}}function j(e){if(e instanceof i.Api.DraftMessageEmpty)return;const{message:t,entities:n,replyToMsgId:s,date:a}=e;return{formattedText:t?G(t,n):void 0,replyingToId:s,date:a}}function O(e){if("ttlSeconds"in e&&e.ttlSeconds)return;if("extendedMedia"in e&&e.extendedMedia instanceof i.Api.MessageExtendedMedia)return O(e.extendedMedia.media);const t=function(e){if(e instanceof i.Api.MessageMediaDocument&&e.document&&e.document instanceof i.Api.Document)return(0,r.lW)(e.document,e.nopremium)}(e);if(t)return{sticker:t};const n=function(e){if(e instanceof i.Api.MessageMediaPhoto&&e.photo&&e.photo instanceof i.Api.Photo)return(0,d.lq)(e.photo,e.spoiler)}(e);if(n)return{photo:n};const s=function(e){if(e instanceof i.Api.MessageMediaDocument&&e.document instanceof i.Api.Document&&e.document.mimeType.startsWith("video"))return F(e.document,e.spoiler)}(e);if(s)return{video:s};const a=function(e){if(!(e instanceof i.Api.MessageMediaDocument&&e.document&&e.document instanceof i.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof i.Api.DocumentAttributeAudio));if(!t||t.voice)return;const n=e.document.thumbs&&e.document.thumbs.filter((e=>e instanceof i.Api.PhotoSize)).map((e=>(0,d.mx)(e)));return{id:String(e.document.id),fileName:W(e.document,"audio"),thumbnailSizes:n,size:e.document.size.toJSNumber(),...(0,o.ei)(e.document,["mimeType"]),...(0,o.ei)(t,["duration","performer","title"])}}(e);if(a)return{audio:a};const u=function(e){if(!(e instanceof i.Api.MessageMediaDocument&&e.document&&e.document instanceof i.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof i.Api.DocumentAttributeAudio));if(!t||!t.voice)return;const{duration:n,waveform:s}=t;return{id:String(e.document.id),duration:n,waveform:s?Array.from(s):void 0}}(e);if(u)return{voice:u};const c=function(e){if(e instanceof i.Api.MessageMediaDocument&&e.document)return q(e.document)}(e);if(c)return{document:c};const f=function(e){if(!(e instanceof i.Api.MessageMediaContact))return;const{firstName:t,lastName:n,phoneNumber:s,userId:a}=e;return{firstName:t,lastName:n,phoneNumber:s,userId:(0,p.Xo)(a,"user")}}(e);if(f)return{contact:f};const l=function(e){if(e instanceof i.Api.MessageMediaPoll)return Z(e.poll,e.results)}(e);if(l)return{poll:l};const h=K(e);if(h)return{webPage:h};const m=function(e){if(e instanceof i.Api.MessageMediaInvoice)return function(e){const{description:t,title:n,photo:s,test:a,totalAmount:o,currency:r,receiptMsgId:d,extendedMedia:u}=e,c=u instanceof i.Api.MessageExtendedMediaPreview?z(u):void 0;return{title:n,text:t,photo:Q(s),receiptMsgId:d,amount:Number(o),currency:r,isTest:a,extendedMedia:c}}(e)}(e);if(m)return{invoice:m};const g=function(e){return e instanceof i.Api.MessageMediaGeo?function(e){const t=V(e.geo);return t&&{type:"geo",geo:t}}(e):e instanceof i.Api.MessageMediaVenue?function(e){const{geo:t,title:n,provider:i,address:s,venueId:a,venueType:o}=e,r=V(t);return r&&{type:"venue",geo:r,title:n,provider:i,address:s,venueId:a,venueType:o}}(e):e instanceof i.Api.MessageMediaGeoLive?function(e){const{geo:t,period:n,heading:i}=e,s=V(t);return s&&{type:"geoLive",geo:s,period:n,heading:i}}(e):void 0}(e);if(g)return{location:g};const y=function(e){if(e instanceof i.Api.MessageMediaGame)return function(e){const{id:t,accessHash:n,shortName:s,title:a,description:o,photo:r,document:u}=e.game,c=r instanceof i.Api.Photo?(0,d.lq)(r):void 0,f=u instanceof i.Api.Document?q(u):void 0;return{id:t.toString(),accessHash:n.toString(),shortName:s,title:a,description:o,photo:c,document:f}}(e)}(e);return y?{game:y}:void 0}function F(e,t){if(e instanceof i.Api.DocumentEmpty)return;const{id:n,mimeType:s,thumbs:o,size:r,attributes:u}=e;if(s===a.KzG&&!self.isWebmSupported)return;if(s===a.Ngd&&!self.isMovSupported)return;const c=u.find((e=>e instanceof i.Api.DocumentAttributeVideo));if(!c)return;const f=u.find((e=>e instanceof i.Api.DocumentAttributeAnimated)),{duration:p,w:l,h,supportsStreaming:m=!1,roundMessage:g=!1}=c;return{id:String(n),mimeType:s,duration:p,fileName:W(e,"video"),width:l,height:h,supportsStreaming:m,isRound:g,isGif:Boolean(f),thumbnail:(0,d.Gv)(o),size:r.toJSNumber(),isSpoiler:t}}function q(e){if(!(e instanceof i.Api.Document))return;const{id:t,size:n,mimeType:s,date:o,thumbs:r,attributes:u}=e,c=r&&(0,d.Gv)(r);let f,p;const l=r&&r.find((e=>e instanceof i.Api.PhotoSize));if(l)if(p={width:l.w,height:l.h},a.oGt.has(s)){f="photo";const e=u.find((e=>e instanceof i.Api.DocumentAttributeImageSize));if(e){const{w:t,h:n}=e;p={width:t,height:n}}}else if(a.wGh.has(s)){f="video";const e=u.find((e=>e instanceof i.Api.DocumentAttributeVideo));if(e){const{w:t,h:n}=e;p={width:t,height:n}}}return{id:String(t),size:n.toJSNumber(),mimeType:s,timestamp:o,fileName:W(e),thumbnail:c,mediaType:f,mediaSize:p}}function V(e){if(e instanceof i.Api.GeoPointEmpty)return;const{long:t,lat:n,accuracyRadius:s,accessHash:a}=e;return{long:t,lat:n,accessHash:a.toString(),accuracyRadius:s}}function Z(e,t){const{id:n,answers:i}=e,s=i.map((e=>({text:e.text,option:(0,f.TC)(e.option)})));return{id:String(n),summary:{isPublic:e.publicVoters,...(0,o.ei)(e,["closed","multipleChoice","quiz","question","closePeriod","closeDate"]),answers:s},results:L(t)}}function L(e){const{results:t,totalVoters:n,recentVoters:i,solution:s,solutionEntities:a,min:o}=e,r=t&&t.map((({option:e,chosen:t,correct:n,voters:i})=>({isChosen:t,isCorrect:n,option:(0,f.TC)(e),votersCount:i})));return{isMin:o,totalVoters:n,recentVoterIds:i?.map((e=>(0,p.Xo)(e,"user"))),results:r,solution:s,...a&&{solutionEntities:a.map(Y)}}}function K(e){if(!(e instanceof i.Api.MessageMediaWebPage&&e.webpage instanceof i.Api.WebPage))return;const{id:t,photo:n,document:s}=e.webpage;let a;return s instanceof i.Api.Document&&s.mimeType.startsWith("video/")&&(a=F(s)),{id:Number(t),...(0,o.ei)(e.webpage,["url","displayUrl","type","siteName","title","description","duration"]),photo:n instanceof i.Api.Photo?(0,d.lq)(n):void 0,document:!a&&s?q(s):void 0,video:a}}function W(e,t="file"){const{mimeType:n,attributes:s}=e,a=s.find((e=>e instanceof i.Api.DocumentAttributeFilename));if(a)return a.fileName;const o=n.split("/")[1];return`${t}${String(e.id)}.${o}`}function J(e,t,n,i,s,o,r,d,c,f,p,l,g){const y=S(),A=o&&function(e){const{filename:t,blobUrl:n,previewBlobUrl:i,mimeType:s,size:o,audio:r,shouldSendAsFile:d,shouldSendAsSpoiler:c}=e;if(!d){if(e.quick){if(a.oGt.has(s)){const{width:t,height:i}=e.quick;return{photo:{id:w,sizes:[],thumbnail:{width:t,height:i,dataUri:n},blobUrl:n,isSpoiler:c}}}if(a.wGh.has(s)){const{width:a,height:r,duration:d}=e.quick;return{video:{id:w,mimeType:s,duration:d||0,fileName:t,width:a,height:r,blobUrl:n,...i&&{thumbnail:{width:a,height:r,dataUri:i}},size:o,isSpoiler:c}}}}if(e.voice){const{duration:t,waveform:n}=e.voice,{data:i}=(0,u.C)(n,v);return{voice:{id:w,duration:t,waveform:i}}}if(a.e74.has(s)){const{duration:e,performer:n,title:i}=r||{};return{audio:{id:w,mimeType:s,fileName:t,size:o,duration:e||0,title:i,performer:n}}}}return{document:{mimeType:s,fileName:t,size:o,...i&&{previewBlobUrl:i}}}}(o),I="chatTypeChannel"===e.type,P=e.isForum,C={id:y,chatId:e.id,content:{...t&&{text:{text:t,entities:n}},...A,...r&&{sticker:r},...d&&{video:d},...c&&$(c,y),...f&&{contact:f}},date:l||Math.round(Date.now()/1e3)+(0,m.Qj)(),isOutgoing:!I,senderId:g?.id||b,...i&&{replyToMessageId:i},...s&&{replyToTopMessageId:s},...(i||s)&&P&&{isTopicReply:!0},...p&&{groupedId:p,...A&&(A.photo||A.video)&&{isInAlbum:!0}},...l&&{isScheduled:!0},isForwardingAllowed:!0},M=(0,h.k)(C.content,C.groupedId);return{...C,...M&&{emojiOnlyCount:M}}}function X({toChat:e,toThreadId:t,message:n,scheduledAt:i,noAuthors:a,noCaptions:o,isCurrentUserPremium:r}){const d=S(),{content:u,chatId:c,id:f,senderId:p,groupedId:l,isInAlbum:g}=n,y=u.audio,A=e.id===b&&(c!==e.id||n.forwardInfo)&&!y,w=Object.keys(u).length>1&&u.text&&o,v=!r,I=u.text?.entities&&v?{text:u.text.text,entities:u.text.entities.filter((e=>e.type!==s.Vv.CustomEmoji))}:u.text,P=(0,h.k)(u,l),C={...u,text:w?void 0:I};return{id:d,chatId:e.id,content:C,date:i||Math.round(Date.now()/1e3)+(0,m.Qj)(),isOutgoing:!A&&"chatTypeChannel"!==e.type,senderId:b,sendingState:"messageSendingStatePending",groupedId:l,isInAlbum:g,isForwardingAllowed:!0,replyToTopMessageId:t,...t&&e?.isForum&&{isTopicReply:!0},...P&&{emojiOnlyCount:P},...n.chatId!==b&&!y&&!a&&{forwardInfo:{date:n.date,isChannelPost:!1,fromChatId:c,fromMessageId:f,senderUserId:p}},...n.chatId===b&&!a&&{forwardInfo:n.forwardInfo},...i&&{isScheduled:!0}}}function z(e){const{w:t,h:n,thumb:i,videoDuration:s}=e;return{width:t,height:n,duration:s,thumbnail:i?(0,d.Gv)([i]):void 0}}function Q(e){if(!e)return;const{url:t,size:n,mimeType:s}=e,a=e instanceof i.Api.WebDocument?e.accessHash.toString():void 0,o=e.attributes.find((e=>e instanceof i.Api.DocumentAttributeImageSize));return{url:t,accessHash:a,size:n,mimeType:s,dimensions:o&&{width:o.w,height:o.h}}}function $(e,t){return{poll:{id:String(t),summary:(0,o.ei)(e.summary,["question","answers"]),results:{}}}}function Y(e){const{className:t,offset:n,length:a}=e;return e instanceof i.Api.MessageEntityMentionName?{type:s.Vv.MentionName,offset:n,length:a,userId:(0,p.Xo)(e.userId,"user")}:e instanceof i.Api.MessageEntityTextUrl?{type:s.Vv.TextUrl,offset:n,length:a,url:e.url}:e instanceof i.Api.MessageEntityPre?{type:s.Vv.Pre,offset:n,length:a,language:e.language}:e instanceof i.Api.MessageEntityCustomEmoji?{type:s.Vv.CustomEmoji,offset:n,length:a,documentId:e.documentId.toString()}:{type:t,offset:n,length:a}}function ee(e,t,n){const{channelId:i,replies:s,maxId:o,readMaxId:r,recentRepliers:d,comments:u}=e,c=i?(0,p.Xo)(i,"channel"):void 0;if(c!==a.deL)return{isComments:u,threadId:t,...c&&n!==c?{chatId:c,originChannelId:n}:{chatId:n},messagesCount:s,lastMessageId:o,lastReadInboxMessageId:r,...d&&{recentReplierIds:d.map(p.iC)}}}function te(e){const{text:t,entities:n}=e;return{text:t,entities:n.map(Y)}}},94830:(e,t,n)=>{"use strict";n.d(t,{HX:()=>f,JA:()=>w,OH:()=>A,Y6:()=>c,fi:()=>v,hc:()=>m,ic:()=>g,jv:()=>h,me:()=>b,ni:()=>p,r5:()=>l});var i=n(13522),s=n(3192),a=n(18935),o=n(60782),r=n(82267),d=n(92582),u=n(64250);function c(e){if(e instanceof i.Api.WallPaperNoFile)return;const{slug:t}=e,n=(0,s.Qu)(e.document);return n?{slug:t,document:n}:void 0}function f(e){return{isCurrent:Boolean(e.current),isOfficialApp:Boolean(e.officialApp),isPasswordPending:Boolean(e.passwordPending),hash:String(e.hash),areCallsEnabled:!e.callRequestsDisabled,areSecretChatsEnabled:!e.encryptedRequestsDisabled,...(0,o.ei)(e,["deviceModel","platform","systemVersion","appName","appVersion","dateCreated","dateActive","ip","country","region"])}}function p(e){return{hash:String(e.hash),botId:(0,a.Xo)(e.botId,"user"),...(0,o.ei)(e,["platform","browser","dateCreated","dateActive","ip","region","domain"])}}function l(e){switch(e.className){case"PrivacyKeyPhoneNumber":return"phoneNumber";case"PrivacyKeyStatusTimestamp":return"lastSeen";case"PrivacyKeyProfilePhoto":return"profilePhoto";case"PrivacyKeyPhoneCall":return"phoneCall";case"PrivacyKeyPhoneP2P":return"phoneP2P";case"PrivacyKeyForwards":return"forwards";case"PrivacyKeyVoiceMessages":return"voiceMessages";case"PrivacyKeyChatInvite":return"chatInvite"}}function h(e){let t,n,s,o,r;return e.forEach((e=>{e instanceof i.Api.PrivacyValueAllowAll?t=t||"everybody":e instanceof i.Api.PrivacyValueAllowContacts?t=t||"contacts":e instanceof i.Api.PrivacyValueDisallowContacts?t=t||"nonContacts":e instanceof i.Api.PrivacyValueDisallowAll?t=t||"nobody":e instanceof i.Api.PrivacyValueAllowUsers?n=e.users.map((e=>(0,a.Xo)(e,"user"))):e instanceof i.Api.PrivacyValueDisallowUsers?o=e.users.map((e=>(0,a.Xo)(e,"user"))):e instanceof i.Api.PrivacyValueAllowChatParticipants?s=e.chats.map((e=>(0,a.Xo)(e,"chat"))):e instanceof i.Api.PrivacyValueDisallowChatParticipants&&(r=e.chats.map((e=>(0,a.Xo)(e,"chat"))))})),t||(t="nobody"),{visibility:t,allowUserIds:n||[],allowChatIds:s||[],blockUserIds:o||[],blockChatIds:r||[]}}function m(e,t){const{silent:n,muteUntil:s,showPreviews:o,otherSound:d}=e,u=Boolean(d&&!(d instanceof i.Api.NotificationSoundNone));return{chatId:(0,a.iC)(t),isMuted:n||"number"==typeof s&&(0,r.bp)()<s,...!u&&{isSilent:!0},...void 0!==o&&{shouldShowPreviews:Boolean(o)}}}function g(e,t,n){const{silent:s,muteUntil:o,showPreviews:d,otherSound:u}=e,c=Boolean(u&&!(u instanceof i.Api.NotificationSoundNone));return{chatId:(0,a.iC)(t),topicId:n,isMuted:s||"number"==typeof o&&(0,r.bp)()<o,...!c&&{isSilent:!0},...void 0!==d&&{shouldShowPreviews:Boolean(d)}}}function y(e,t){const{hidden:n,iso2:i,defaultName:s,name:a}=e,{countryCode:o,prefixes:r,patterns:d}=t||{};return{isHidden:n,iso2:i,defaultName:s,name:a,countryCode:o,prefixes:r,patterns:d}}function A(e){const t=e.filter((({hidden:e})=>!e));return{phoneCodes:t.map((e=>e.countryCodes.map((t=>y(e,t))))).flat().sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName))),general:t.map((e=>y(e,e.countryCodes[0]))).sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName)))}}function w(e){if(!(e instanceof i.Api.JsonNull))return e instanceof i.Api.JsonString||e instanceof i.Api.JsonBool||e instanceof i.Api.JsonNumber?e.value:e instanceof i.Api.JsonArray?e.value.map(w):e.value.reduce(((e,t)=>(e[t.key]=w(t.value),e)),{})}function v(e){if(e instanceof i.Api.UrlAuthResultRequest){const{bot:t,domain:n,requestWriteAccess:i}=e,s=(0,d.PH)(t);if(!s)return;return(0,u.aK)(t),{type:"request",domain:n,shouldRequestWriteAccess:i,bot:s}}return e instanceof i.Api.UrlAuthResultAccepted?{type:"accepted",url:e.url}:e instanceof i.Api.UrlAuthResultDefault?{type:"default"}:void 0}function b(e){const t=e.reactionsDefault&&(0,s.uN)(e.reactionsDefault);return{expiresAt:e.expires,gifSearchUsername:e.gifSearchUsername,defaultReaction:t,maxGroupSize:e.chatSizeMax}}},28441:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});const i='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 {{width}} {{height}}" xml:space="preserve"><path fill-opacity="0.1" d="{{path}}" /></svg>',s="AACAAAAHAAALMAAAQASTAVAAAZaacaaaahaaalmaaaqastava.az0123456789-,";function a(e,t,n){return i.replace("{{path}}",function(e){let t="M";const n=e.length;for(let i=0;i<n;i++){const n=e[i];n>=192?t+=s[n-128-64]:(n>=128?t+=",":n>=64&&(t+="-"),t+=String(63&n))}return t+="z",t}(e)).replace("{{width}}",String(t)).replace("{{height}}",String(n))}},18935:(e,t,n)=>{"use strict";function i(e){return e.hasOwnProperty("userId")}function s(e){return e.hasOwnProperty("chatId")}function a(e,t){return"user"===t?String(e):`-${e}`}function o(e){return i(e)?a(e.userId,"user"):s(e)?a(e.chatId,"chat"):a(e.channelId,"channel")}n.d(t,{$L:()=>s,Qk:()=>i,Xo:()=>a,iC:()=>o})},67606:(e,t,n)=>{"use strict";n.d(t,{K:()=>p,Qb:()=>f,bV:()=>h,jV:()=>c,lW:()=>u,yN:()=>l});var i=n(13522),s=n(55237),a=n(15023),o=n(60782);const r="application/x-tgsticker",d="video/webm";function u(e,t){var n;if(e instanceof i.Api.DocumentEmpty)return;const{mimeType:a,videoThumbs:u}=e,c=e.attributes.find((e=>e instanceof i.Api.DocumentAttributeSticker)),f=e.attributes.find((e=>e instanceof i.Api.DocumentAttributeCustomEmoji)),p=(a===r||a===d)&&e.attributes.find((e=>e instanceof i.Api.DocumentAttributeFilename));if(!c&&!f&&!p)return;const l=a===r,h=a===d,m=Boolean(f),g=m&&f.textColor,y=e.attributes.find((e=>e instanceof i.Api.DocumentAttributeImageSize)),A=e.attributes.find((e=>e instanceof i.Api.DocumentAttributeVideo)),w=y||A,v=c||f,b=(C=v?.stickerset,C instanceof i.Api.InputStickerSetID?{id:String(C.id),accessHash:String(C.accessHash)}:C instanceof i.Api.InputStickerSetShortName?{shortName:C.shortName}:{isMissing:!0}),I=v?.alt,S=Boolean(null===(n=f?.free)||void 0===n||n),P=e.thumbs&&e.thumbs.find((e=>e instanceof i.Api.PhotoCachedSize));var C;if(!(a!==d||self.isWebmSupported||P||e.thumbs&&e.thumbs.find((e=>e instanceof i.Api.PhotoSize))))return;const M=e.thumbs&&e.thumbs.find((e=>e instanceof i.Api.PhotoPathSize)),E=P?(0,s.T8)(P):M&&w?(0,s.wu)(M,w):void 0,{w:R,h:U}=P||w||{},k=!t&&u&&(0,o.oA)(u?.filter((e=>e instanceof i.Api.VideoSize))).some((({type:e})=>"f"===e));return{id:String(e.id),stickerSetInfo:b,emoji:I,isCustomEmoji:m,isLottie:l,isVideo:h,width:R,height:U,thumbnail:E,hasEffect:k,isFree:S,shouldUseTextColor:g}}function c(e){const{archived:t,animated:n,installedDate:i,videos:s,id:a,accessHash:o,title:r,thumbs:d,count:u,shortName:c,emojis:f,thumbDocumentId:p}=e;return{isArchived:t,isLottie:n,isVideos:s,isEmoji:f,installedDate:i,id:String(a),accessHash:String(o),title:r,hasThumbnail:Boolean(d?.length||p),count:u,shortName:c}}function f(e){const t=c(e.set);if(e instanceof i.Api.StickerSetNoCovered)return t;const n=h(e instanceof i.Api.StickerSetCovered?[e.cover]:e instanceof i.Api.StickerSetMultiCovered?e.covers:e.documents);return e instanceof i.Api.StickerSetFullCovered?{...t,stickers:n,packs:l(e.packs)}:{...t,covers:n}}function p(e){return{timestamps:e.a.map((({t:e})=>e))}}function l(e){return e.reduce(((e,{emoticon:t,documents:n})=>(e[t]=n.map((e=>u(a.ZP.documents[String(e)]))).filter(Boolean),e)),{})}function h(e){return e.map((e=>{if(e instanceof i.Api.Document){const t=u(e);if(t)return a.ZP.documents[String(e.id)]=e,t}})).filter(Boolean)}},92582:(e,t,n)=>{"use strict";n.d(t,{PH:()=>d,YF:()=>f,ku:()=>u,q:()=>r,wj:()=>c});var i=n(13522),s=n(18935),a=n(6999),o=n(55237);function r(e){const{fullUser:{about:t,commonChatsCount:n,pinnedMsgId:s,botInfo:r,blocked:u,profilePhoto:c,voiceMessagesForbidden:f,premiumGifts:p,fallbackPhoto:l,personalPhoto:h},users:m}=e,g=d(m[0]);return{...g,fullInfo:{...c instanceof i.Api.Photo&&{profilePhoto:(0,o.lq)(c)},...l instanceof i.Api.Photo&&{fallbackPhoto:(0,o.lq)(l)},...h instanceof i.Api.Photo&&{personalPhoto:(0,o.lq)(h)},bio:t,commonChatsCount:n,pinnedMessageId:s,isBlocked:Boolean(u),noVoiceMessages:f,...p&&{premiumGifts:p.map((e=>function(e){const{months:t,currency:n,amount:i,botUrl:s}=e;return{months:t,currency:n,amount:i.toJSNumber(),botUrl:s}}(e)))},...r&&{botInfo:(0,a.E)(r,g.id)}}}}function d(e){if(!(e instanceof i.Api.User))return;const{id:t,firstName:n,lastName:a,fake:r,scam:d}=e,u=e.photo instanceof i.Api.UserProfilePhoto?Boolean(e.photo.hasVideo):void 0,f=e.photo instanceof i.Api.UserProfilePhoto?String(e.photo.photoId):void 0,p=(m=e).bot?"userTypeBot":m.deleted?"userTypeDeleted":"userTypeRegular",l=(0,o.T4)(e),h=e.emojiStatus?c(e.emojiStatus):void 0;var m;return{id:(0,s.Xo)(t,"user"),isMin:Boolean(e.min),fakeType:d?"scam":r?"fake":void 0,...e.self&&{isSelf:!0},isPremium:Boolean(e.premium),...e.verified&&{isVerified:!0},...(e.contact||e.mutualContact)&&{isContact:!0},type:p,...n&&{firstName:n},..."userTypeBot"===p&&{canBeInvitedToGroup:!e.botNochats},...a&&{lastName:a},...l&&{usernames:l},phoneNumber:e.phone||"",noStatus:!e.status,...e.accessHash&&{accessHash:String(e.accessHash)},...f&&{avatarHash:f},emojiStatus:h,hasVideoAvatar:u,...e.bot&&e.botInlinePlaceholder&&{botPlaceholder:e.botInlinePlaceholder},...e.bot&&e.botAttachMenu&&{isAttachBot:e.botAttachMenu}}}function u(e){return!e||e instanceof i.Api.UserStatusEmpty?{type:"userStatusEmpty"}:e instanceof i.Api.UserStatusOnline?{type:"userStatusOnline",expires:e.expires}:e instanceof i.Api.UserStatusOffline?{type:"userStatusOffline",wasOnline:e.wasOnline}:e instanceof i.Api.UserStatusRecently?{type:"userStatusRecently"}:e instanceof i.Api.UserStatusLastWeek?{type:"userStatusLastWeek"}:{type:"userStatusLastMonth"}}function c(e){return e instanceof i.Api.EmojiStatus?{documentId:e.documentId.toString()}:e instanceof i.Api.EmojiStatusUntil?{documentId:e.documentId.toString(),until:e.until}:void 0}function f(e){const t={},n=[];return e.forEach((e=>{const i=d(e);i&&(n.push(i),"status"in e&&(t[i.id]=u(e.status)))})),{users:n,userStatusesById:t}}},4973:(e,t,n)=>{"use strict";n.d(t,{$x:()=>D,AY:()=>F,Bs:()=>E,GB:()=>h,HD:()=>P,J4:()=>w,LU:()=>K,M6:()=>B,NA:()=>k,Oh:()=>q,T4:()=>j,VC:()=>G,Wl:()=>T,ZV:()=>x,Zm:()=>l,_U:()=>U,bJ:()=>S,bQ:()=>H,cg:()=>C,e6:()=>Z,fV:()=>N,fv:()=>L,h6:()=>m,i4:()=>y,ii:()=>A,ns:()=>M,p6:()=>_,sq:()=>v,wk:()=>b,xU:()=>O,y7:()=>V,yA:()=>g,yT:()=>I,zA:()=>R});var i=n(24736),s=n.n(i),a=n(13522),o=n(89618),r=n(59187),d=n(15023),u=n(60782),c=n(64250),f=n(83716);const p=11;function l(e){return"number"==typeof e?function(e){return e>0?"user":e<=-1e9?"channel":"chat"}(e):e.startsWith("-")?e.length>=p?"channel":"chat":"user"}function h(e){const t=l(e);return"user"===t?new a.Api.PeerUser({userId:j(e,"user")}):"channel"===t?new a.Api.PeerChannel({channelId:j(e,"channel")}):new a.Api.PeerChat({chatId:j(e,"chat")})}function m(e,t){const n=l(e);return"user"===n?new a.Api.InputPeerUser({userId:j(e,"user"),accessHash:s()(t)}):"channel"===n?new a.Api.InputPeerChannel({channelId:j(e,"channel"),accessHash:s()(t)}):new a.Api.InputPeerChat({chatId:j(e,"chat")})}function g(e,t){const n=l(e);return"user"===n?new a.Api.InputUser({userId:j(e,"user"),accessHash:s()(t)}):"channel"===n?new a.Api.InputChannel({channelId:j(e,"channel"),accessHash:s()(t)}):j(e,"chat")}function y(e,t){return new a.Api.InputStickerSetID({id:s()(e),accessHash:s()(t)})}function A(e){return new a.Api.InputStickerSetShortName({shortName:e})}function w(e){const t=d.ZP.documents[e.id];if(t)return new a.Api.InputDocument((0,u.ei)(t,["id","accessHash","fileReference"]))}function v(e){const t=w(e);if(t)return new a.Api.InputMediaDocument({id:t})}function b(e,t){const{summary:n,quiz:i}=e,s=new a.Api.Poll({id:t,publicVoters:n.isPublic,question:n.question,answers:n.answers.map((({text:e,option:t})=>new a.Api.PollAnswer({text:e,option:(0,c.Tf)(t)}))),quiz:n.quiz,multipleChoice:n.multipleChoice});if(!i)return new a.Api.InputMediaPoll({poll:s});const o=i.correctAnswers.map(c.Tf),{solution:r}=i,d=i.solutionEntities?i.solutionEntities.map(M):[];return new a.Api.InputMediaPoll({poll:s,correctAnswers:o,...r&&{solution:r,solutionEntities:d}})}function I(e,t=!1){return new a.Api.InputMediaPoll({poll:new a.Api.Poll({id:s()(e.id),publicVoters:e.summary.isPublic,question:e.summary.question,answers:e.summary.answers.map((({text:e,option:t})=>new a.Api.PollAnswer({text:e,option:(0,c.Tf)(t)}))),quiz:e.summary.quiz,multipleChoice:e.summary.multipleChoice,closeDate:e.summary.closeDate,closePeriod:e.summary.closePeriod,closed:!!t||e.summary.closed}),correctAnswers:e.results.results?.filter((e=>e.isCorrect)).map((e=>(0,c.Tf)(e.option))),solution:e.results.solution,solutionEntities:e.results.solutionEntities?.map(M)})}function S(){return(0,o.readBigIntFromBuffer)((0,o.generateRandomBytes)(8),!0,!0)}function P(){return(0,o.readBigIntFromBuffer)((0,o.generateRandomBytes)(4),!0,!0).toJSNumber()}function C(e,t,n){return new a.Api.Message({id:e,peerId:h(t),fromId:h(t),media:n.media})}function M(e){const{type:t,offset:n,length:i}=e,o="userId"in e?d.ZP.users[e.userId]:void 0;switch(t){case r.Vv.Bold:return new a.Api.MessageEntityBold({offset:n,length:i});case r.Vv.Italic:return new a.Api.MessageEntityItalic({offset:n,length:i});case r.Vv.Underline:return new a.Api.MessageEntityUnderline({offset:n,length:i});case r.Vv.Strike:return new a.Api.MessageEntityStrike({offset:n,length:i});case r.Vv.Code:return new a.Api.MessageEntityCode({offset:n,length:i});case r.Vv.Pre:return new a.Api.MessageEntityPre({offset:n,length:i,language:e.language||""});case r.Vv.Blockquote:return new a.Api.MessageEntityBlockquote({offset:n,length:i});case r.Vv.TextUrl:return new a.Api.MessageEntityTextUrl({offset:n,length:i,url:e.url});case r.Vv.Url:return new a.Api.MessageEntityUrl({offset:n,length:i});case r.Vv.Hashtag:return new a.Api.MessageEntityHashtag({offset:n,length:i});case r.Vv.MentionName:return new a.Api.InputMessageEntityMentionName({offset:n,length:i,userId:new a.Api.InputUser({userId:s()(o.id),accessHash:o.accessHash})});case r.Vv.Spoiler:return new a.Api.MessageEntitySpoiler({offset:n,length:i});case r.Vv.CustomEmoji:return new a.Api.MessageEntityCustomEmoji({offset:n,length:i,documentId:s()(e.documentId)});default:return new a.Api.MessageEntityUnknown({offset:n,length:i})}}function E(e){const{media:t}=e;return!!t&&(t instanceof a.Api.MessageMediaPhoto||t instanceof a.Api.MessageMediaDocument||t instanceof a.Api.MessageMediaWebPage&&t.webpage instanceof a.Api.WebPage&&(t.webpage.photo instanceof a.Api.Photo||t.webpage.document instanceof a.Api.Document&&t.webpage.document.mimeType.startsWith("video"))||t instanceof a.Api.MessageMediaGame&&(t.game.document instanceof a.Api.Document||t.game.photo instanceof a.Api.Photo)||t instanceof a.Api.MessageMediaInvoice&&(t.photo||t.extendedMedia))}function R(e){return"photo"in e.action&&e.action.photo instanceof a.Api.Photo}function U(e){if(e instanceof a.Api.PhotoEmpty)return new a.Api.ChatPhotoEmpty;const{dcId:t,id:n}=e;return new a.Api.ChatPhoto({dcId:t,photoId:n})}function k(e){const t=d.ZP.photos[e?.id];if(t)return new a.Api.InputPhoto((0,u.ei)(t,["id","accessHash","fileReference"]))}function T({phone:e,firstName:t,lastName:n}){return new a.Api.InputPhoneContact({clientId:s()(1),phone:e,firstName:t,lastName:n})}function B(e,t=0){return new a.Api.ChatBannedRights({...e,untilDate:t})}function D(e){return new a.Api.ChatAdminRights(e)}function x(e){const{shippingAddress:t}=e;return new a.Api.PaymentRequestedInfo({...e,shippingAddress:t?new a.Api.PostAddress(t):void 0})}function N(e){switch(e){case"phoneNumber":return new a.Api.InputPrivacyKeyPhoneNumber;case"lastSeen":return new a.Api.InputPrivacyKeyStatusTimestamp;case"profilePhoto":return new a.Api.InputPrivacyKeyProfilePhoto;case"forwards":return new a.Api.InputPrivacyKeyForwards;case"chatInvite":return new a.Api.InputPrivacyKeyChatInvite;case"phoneCall":return new a.Api.InputPrivacyKeyPhoneCall;case"phoneP2P":return new a.Api.InputPrivacyKeyPhoneP2P;case"voiceMessages":return new a.Api.InputPrivacyKeyVoiceMessages}}function H(e){switch(e){case"spam":return new a.Api.InputReportReasonSpam;case"violence":return new a.Api.InputReportReasonViolence;case"childAbuse":return new a.Api.InputReportReasonChildAbuse;case"pornography":return new a.Api.InputReportReasonPornography;case"copyright":return new a.Api.InputReportReasonCopyright;case"fake":return new a.Api.InputReportReasonFake;case"geoIrrelevant":return new a.Api.InputReportReasonGeoIrrelevant;case"illegalDrugs":return new a.Api.InputReportReasonIllegalDrugs;case"personalDetails":return new a.Api.InputReportReasonPersonalDetails;case"other":return new a.Api.InputReportReasonOther}}function _(e){switch(e.type){case"cancel":return new a.Api.SendMessageCancelAction;case"typing":return new a.Api.SendMessageTypingAction;case"recordAudio":return new a.Api.SendMessageRecordAudioAction;case"chooseSticker":return new a.Api.SendMessageChooseStickerAction;case"playingGame":return new a.Api.SendMessageGamePlayAction}}function G(e){return new a.Api.DataJSON({data:JSON.stringify(e)})}function j(e,t){return"number"==typeof e?s()(Math.abs(e)):"user"===t?s()(e):s()(e.slice(1))}function O(e){return new a.Api.InputGroupCall({id:s()(e.id),accessHash:s()(e.accessHash)})}function F({id:e,accessHash:t}){return new a.Api.InputPhoneCall({id:s()(e),accessHash:s()(t)})}function q(e){return"slug"in e?new a.Api.InputInvoiceSlug({slug:e.slug}):new a.Api.InputInvoiceMessage({peer:m(e.chat.id,e.chat.accessHash),msgId:e.messageId})}function V(e){return e&&"emoticon"in e?new a.Api.ReactionEmoji({emoticon:e.emoticon}):e&&"documentId"in e?new a.Api.ReactionCustomEmoji({documentId:s()(e.documentId)}):new a.Api.ReactionEmpty}function Z(e){return"all"===e?.type?new a.Api.ChatReactionsAll({allowCustom:e.areCustomAllowed}):"some"===e?.type?new a.Api.ChatReactionsSome({reactions:e.allowed.map(V)}):new a.Api.ChatReactionsNone}function L(e,t){return e.id===f.MW8?new a.Api.EmojiStatusEmpty:t?new a.Api.EmojiStatusUntil({documentId:s()(e.id),until:t}):new a.Api.EmojiStatus({documentId:s()(e.id)})}function K(e){return new a.Api.TextWithEntities({text:e.text,entities:e.entities?.map(M)||[]})}},64250:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>m,Hh:()=>p,MZ:()=>c,TC:()=>g,Tf:()=>y,aK:()=>l,cM:()=>A,eQ:()=>h,iv:()=>f});var i=n(13522),s=n(15023),a=n(18935),o=n(48764).Buffer;const r="#111111DD",d="#E4D00A",u={INVOKE:"#49DBF5",RESPONSE:"#6887F7",CONNECTING:"#E4D00A",CONNECTED:"#26D907","CONNECTING ERROR":"#D1191C","INVOKE ERROR":"#D1191C",UPDATE:"#0DD151","UNEXPECTED UPDATE":"#9C9C9C","UNEXPECTED RESPONSE":"#D1191C"};function c(e){if(e instanceof i.Api.Message||e instanceof i.Api.MessageService)return(0,a.iC)(e.peerId)}function f(e){const t=`${c(e)}-${e.id}`;let n=e;e instanceof i.Api.Message&&e.media instanceof i.Api.MessageMediaInvoice&&e.media.extendedMedia instanceof i.Api.MessageExtendedMedia&&(n=new i.Api.Message({...e,media:e.media.extendedMedia.media})),s.ZP.messages[t]=n,n instanceof i.Api.Message&&(n.media instanceof i.Api.MessageMediaDocument&&n.media.document instanceof i.Api.Document&&(s.ZP.documents[String(n.media.document.id)]=n.media.document),n.media instanceof i.Api.MessageMediaWebPage&&n.media.webpage instanceof i.Api.WebPage&&n.media.webpage.document instanceof i.Api.Document&&(s.ZP.documents[String(n.media.webpage.document.id)]=n.media.webpage.document),n.media instanceof i.Api.MessageMediaGame&&(n.media.game.document instanceof i.Api.Document&&(s.ZP.documents[String(n.media.game.document.id)]=n.media.game.document),p(n.media.game.photo)),n.media instanceof i.Api.MessageMediaInvoice&&n.media.photo&&(s.ZP.webDocuments[String(n.media.photo.url)]=n.media.photo)),n instanceof i.Api.MessageService&&"photo"in n.action&&p(n.action.photo)}function p(e){e instanceof i.Api.Photo&&(s.ZP.photos[String(e.id)]=e)}function l(e,t=!1){const n=(0,a.Xo)(e.id,"user");!t&&s.ZP.users[n]||(s.ZP.users[n]=e)}function h(e){e.forEach((e=>{e instanceof i.Api.User&&e.photo?l(e):(e instanceof i.Api.Chat||e instanceof i.Api.Channel)&&e.photo&&function(e,t=!1){const n=(0,a.Xo)(e.id,e instanceof i.Api.Chat?"chat":"channel");t&&s.ZP.chats[n]||(s.ZP.chats[n]=e)}(e)}))}function m(e,t,n){const a=s.ZP.messages[`${e}-${t}`];if(a instanceof i.Api.Message&&a.media){if(n instanceof i.Api.MessageExtendedMediaPreview){if(!(a.media instanceof i.Api.MessageMediaInvoice))return;a.media.extendedMedia=n}n instanceof i.Api.MessageExtendedMedia&&(a.media=n.media)}}function g(e){return String.fromCharCode(...e)}function y(e){return o.from(e,"binary")}function A(e,...t){("UNEXPECTED RESPONSE"===e?console.error:"INVOKE ERROR"===e||"UNEXPECTED UPDATE"===e?console.warn:console.log)(`%cGramJS%c${e}`,`color: ${d}; background: ${r}; padding: 0.25rem; border-radius: 0.25rem;`,`color: ${u[e]}; background: ${r}; padding: 0.25rem; border-radius: 0.25rem; margin-left: 0.25rem;`,...t)}},15023:(e,t,n)=>{"use strict";n.d(t,{PP:()=>A,ZP:()=>y,Zf:()=>w,pN:()=>v});var i=n(24736),s=n.n(i),a=n(81900),o=n(83716),r=n(57404),d=n(69118),u=n(48764).Buffer;const c="BroadcastChannel"in self,f=c?new BroadcastChannel(o.tuy):void 0;let p=[];const l=(0,d.P2)((()=>{f.postMessage({type:"localDbUpdate",batchedUpdates:p}),p=[]}),100);function h(e){if(e instanceof Uint8Array)return u.from(e);if("object"==typeof e&&1===Object.keys(e).length&&"value"===Object.keys(e)[0])return s()(e.value);if(Array.isArray(e))return e.map(h);if("object"!=typeof e||!("CONSTRUCTOR_ID"in e))return e;const t=e.className.split(".").reduce(((e,t)=>e[t]),r.constructors),n=(0,a.f)(e);return new t(Object.keys(n).reduce(((e,t)=>(e[t]=h(n[t]),e)),{}))}function m(e){return["localMessages","chats","users","messages","documents","stickerSets","photos","webDocuments","cache","botWaitReply"].reduce(((t,n)=>{var i;const s=null!==(i=e?.[n])&&void 0!==i?i:{},a=Object.keys(s).reduce(((e,t)=>(e[t]=h(s[t]),e)),{});var o;return t[n]=c?(o=n,new Proxy(a,{get:(e,t,n)=>Reflect.get(e,t,n),set:(e,t,n)=>(p.push({name:o,prop:t,value:n}),l(),Reflect.set(e,t,n))})):a,t}),{})}const g=m(),y=g;function A(){f&&f.postMessage({type:"localDbUpdateFull",localDb:Object.keys(g).reduce(((e,t)=>(e[t]={...g[t]},e)),{})})}function w(e){Object.assign(g,m(e))}function v(){Object.assign(g,m())}},17907:(e,t,n)=>{"use strict";n.d(t,{C5:()=>c,Ek:()=>p,G9:()=>f,Ou:()=>o,S1:()=>a,ck:()=>d,hG:()=>r,pZ:()=>u}),n(13522),n(83716);const i={};let s;function a(e){s=e}function o(e){s({"@type":"updateCurrentUser",currentUser:e})}function r(e){i.resolve&&i.resolve(e)}function d(e){i.resolve&&i.resolve(e)}function u(e){i.resolve&&i.resolve(e)}function c(e){const{firstName:t,lastName:n}=e;i.resolve&&i.resolve([t,n])}function f(){i.reject&&i.reject(new Error("RESTART_AUTH"))}function p(){i.reject&&i.reject(new Error("RESTART_AUTH_WITH_QR"))}},55301:(e,t,n)=>{"use strict";n.d(t,{JT:()=>H,ob:()=>O,zP:()=>F,gS:()=>Z,k:()=>J,s3:()=>q,un:()=>W,S1:()=>j,RE:()=>V,ML:()=>X,cX:()=>Y,IE:()=>K,cT:()=>L});var i=n(13522),s=n(89832),a=n(83716),o=n(17907),r=n(87426),d=n(3192),u=n(59187),c=n(15023),f=n(49524),p=n(4973),l=n(51184),h=n(63024),m=n(82752),g=n(83579),y=n(2133),A=n(48764).Buffer;async function w({url:e,mediaFormat:t,start:n,end:i,isHtmlAllowed:s},o,r,d){let p,w,v,b,I=!1;const S=e.split("?")[0].split(":");if(e.indexOf("progressive")>0||S[0].indexOf("-")>1)b=S[S.length-1];else if(0===e.indexOf("profile"))b=e.indexOf("?")>-1?e.split("?")[1]:e.replace("profile","");else if(0===e.indexOf("avatar"))b=e.split("?")[1];else{if(0!==e.indexOf("photo"))return void console.error("[error id] ",e);b=e.split("?")[0].replace("photo","")}if(c.ZP.cache[b]){const e=await async function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=()=>{n(i.error)},i.readAsArrayBuffer(e)}))}(c.ZP.cache[b]);v=c.ZP.cache[b].type,w=c.ZP.cache[b].size,p=A.from(e),I=!0}if(!I){let t=new l.ju({id:b});try{console.log("[DOWNLOAD media]",{url:e,id:b});let n,i,s=await f.fetch(a.F9T,b,f.Type.Blob);if(s){const e=await(0,y.nM)(s);if(n=l.dZ.parseMsg(new m.es(e)),!n||n.err!==h.wb.NO_ERROR)return;try{n.file.buf=g.Z.localDecrypt(A.from(n.file.buf))}catch(e){}}else{let e=A.alloc(0);for(;;){const s=await fetch(`${a.qHj}/proto`,{method:"POST",body:A.from(t.pack().getPbData())});if(i=await s.arrayBuffer(),n=l.dZ.parseMsg(new m.es(A.from(i))),!n||n.err!==h.wb.NO_ERROR||!n.file)return;if(e=A.concat([e,A.from(n.file.buf)]),!(n.file.part_total&&n.file.part<n.file.part_total)){n.file.buf=e;try{const t=new l.dZ(n).pack().getPbData();await f.save(a.F9T,b,new Blob([A.from(t)])),n.file.buf=g.Z.localDecrypt(e)}catch(e){return void console.error(e)}break}t=new l.ju({id:b,part:n.file.part+1})}}p=A.from(n.file.buf),v=n.file.type,w=n.file.size}catch(t){return void console.error("[DOWNLOAD FAILED]",t,{url:e,id:b})}}const P=await async function(e,t,n){switch(t){case u.IU.BlobUrl:return new Blob([e],{type:n});case u.IU.Text:return e.toString();case u.IU.Progressive:case u.IU.DownloadUrl:return e.buffer}}(p,t,v);if(!P)return;const C=t!==u.IU.Progressive;if(!a.CyD&&f&&C){const t=e.startsWith("avatar")?a.SGw:a.lWA;f.save(t,e,P)}return{dataBlob:t===u.IU.Progressive?"":P,arrayBuffer:t===u.IU.Progressive?P:void 0,mimeType:v,fullSize:w}}new Set(["msg","sticker","gif","wallpaper","photo","webDocument","document","videoAvatar"]);var v=n(92582),b=n(18935),I=n(64250),S=n(8384),P=n(44107),C=n(60054),M=n(37869),E=n(58569),R=n(68019),U=n(84213),k=n(48764).Buffer;const T="Unknown UserAgent",B="Unknown platform",D="Z";let x,N,H;s.Logger.setLevel(a.jr7?"debug":"warn");let _,G=!1;async function j(e,t){a.eMD&&console.log(">>> START INIT API"),x=e;const{userAgent:n,platform:i,sessionData:s,isTest:o,isMovSupported:r,isWebmSupported:d,maxBufferSize:u,webAuthToken:c,dcId:f,mockScenario:p,accountId:l,entropy:h,session:m}=t;await z(l,h,m),a.eMD&&console.log("[initialArgs]",{deviceModel:navigator.userAgent||n||T,systemVersion:i||B,appVersion:`${a.JiC} ${D}`,useWSS:!0});try{a.eMD&&((0,I.cM)("CONNECTING"),self.invoke=V),a.eMD&&(console.log(">>> FINISH INIT API"),(0,I.cM)("CONNECTED")),x({"@type":"updateApiReady"}),x({"@type":"updateAuthorizationState",authorizationState:"authorizationStateReady"}),x({"@type":"updateCurrentUser",currentUser:C.UI}),x({"@type":"updateMsgClientState",msgClientState:"connectionStateLogged"}),x({"@type":"updateConnectionState",connectionState:"connectionStateReady"})}catch(e){throw a.eMD&&(0,I.cM)("CONNECTING ERROR",e),e}}async function O(e=!1,t=!1){t||(0,c.pN)(),await N.destroy()}async function F(){await N.disconnect()}function q(){return N}async function V(e,t=!1,n=!1,s=!1,o,d=!1){if(G)try{a.eMD&&(0,I.cM)("INVOKE",e.className);const n=await N.invoke(e,o);return a.eMD&&(0,I.cM)("RESPONSE",e.className,n),s||function(e,t){let n,s;t instanceof i.Api.UpdatesCombined||t instanceof i.Api.Updates?n=t:"object"==typeof t&&"updates"in t&&(t.updates instanceof i.Api.Updates||t.updates instanceof i.Api.UpdatesCombined)?n=t.updates:(t instanceof i.Api.UpdateShortMessage||t instanceof i.Api.UpdateShortChatMessage||t instanceof i.Api.UpdateShort||t instanceof i.Api.UpdateShortSentMessage)&&(s=t),n?(function(e){const t=[...e.users,...e.chats];e.updates.forEach((e=>{t&&(e._entities=t)}))}(n),n.updates.forEach((t=>{(0,r.M)(t,e)}))):s&&(0,r.M)(s,e)}(e,n),t?n&&!0:n}catch(t){if(d)return;if(a.eMD&&((0,I.cM)("INVOKE ERROR",e.className),console.debug("invokeRequest failed with payload",e),console.error(t)),n)throw t;return void function(e,t){const n=e.message.startsWith("A wait of")&&(t instanceof i.Api.messages.SendMessage||t instanceof i.Api.messages.SendMedia||t instanceof i.Api.messages.SendMultiMedia),{message:s}=e;x({"@type":"error",error:{message:s,isSlowMode:n,hasErrorKey:!0}})}(t,e)}else a.eMD&&(0,I.cM)("INVOKE ERROR",e.className,"Client is not connected")}async function Z(e,t){try{return await w(e)}catch(t){if(t.message.startsWith("FILE_REFERENCE")){if(await X({url:e.url}))return w(e);a.eMD&&console.error("Failed to repair file reference",e.url)}throw t}}function L(e,t){return N.uploadFile({file:e,onProgress:t,workers:a.eLN})}function K(e){return N.updateTwoFaSettings(e)}function W(e,t){return N.getTmpPassword(e,t)}async function J(){const e=await V(new i.Api.users.GetFullUser({id:new i.Api.InputUserSelf}));if(!(e&&e.users[0]instanceof i.Api.User))return;const t=e.users[0];t.photo instanceof i.Api.Photo&&(c.ZP.photos[t.photo.id.toString()]=t.photo),c.ZP.users[(0,b.Xo)(t.id,"user")]=t;const n=(0,v.q)(e);(0,d.dJ)(n.id),(0,o.Ou)(n),_=n.id,Boolean(n.isPremium)}async function X({url:e}){const t=function(e){const t=e.startsWith("staticMap")?e.match(/(staticMap):([0-9-]+)(\?.+)/):e.startsWith("webDocument")?e.match(/(webDocument):(.+)/):e.match(/(avatar|profile|photo|msg|stickerSet|sticker|wallpaper|gif|document|videoAvatar)([-\d\w./]+)(?::\d+)?(\?size=\w+)?/);if(!t)return;const n=t[1],i=t[2];let s;const a=t[3],o=a?.replace("?size=","")||void 0;return s="avatar"===t[1]||"profile"===t[1]?(0,p.Zm)(i):t[1],{mediaMatchType:n,entityType:s,entityId:i,sizeType:o,params:a}}(e);if(!t)return;const{entityType:n,entityId:s,mediaMatchType:a}=t;if("file"===a)return!1;if("msg"===n){const e=c.ZP.messages[s],t=e.id,n="channelId"in e.peerId?new i.Api.InputChannel({channelId:e.peerId.channelId,accessHash:c.ZP.chats[(0,b.Xo)(e.peerId.channelId,"channel")].accessHash}):void 0,a=await V(n?new i.Api.channels.GetMessages({channel:n,id:[new i.Api.InputMessageID({id:t})]}):new i.Api.messages.GetMessages({id:[new i.Api.InputMessageID({id:t})]}));if(!a||a instanceof i.Api.messages.MessagesNotModified)return!1;const o=a.messages[0];return!(o instanceof i.Api.MessageEmpty||((0,I.iv)(o),0))}return!1}const z=async(e,t,n)=>{const i=new S.Z;i.init(c.ZP),g.Z.setClientKv(i),H=g.Z.getInstance(e),await H.setEntropy(t),g.Z.setCurrentAccountId(e),n?H.saveSession(n):H.delSession()},Q=async e=>{const{msgId:t,chatId:n}=U.A.parseMsg(e);R.u4.stop(n,t)},$=async e=>{const{accountId:t,entropy:n,session:i}=E.Yw.parseMsg(e);await z(t,n,i)};async function Y(e){let t=new m.es(k.from(e));switch(a.eMD&&console.log(t.getCommandId(),(0,P.ZS)(t.getCommandId())),t.getCommandId()){case P.Qx.CID_StopChatStreamReq:return await Q(t);case P.Qx.CID_AuthNativeReq:return await $(t);case P.Qx.CID_GenMsgIdReq:return await M.Z.genMsgId(t);case P.Qx.CID_UploadMsgReq:t=await M.Z.beforeUploadMsgReq(t);break;case P.Qx.CID_UploadUserReq:t=await M.Z.beforeUploadUserReq(t)}if(!H.getSession())return;const n=await fetch(`${a.qHj}/proto`,{method:"POST",body:k.from(t.getPbData()),headers:{Authorization:`Bearer ${H.getSession()}`}});if(!n||200!==n.status)return;const i=await n.arrayBuffer();let s=k.from(i);const o=new m.es(s);switch(o.getCommandId()){case P.Qx.CID_DownloadMsgRes:s=await M.Z.afterDownloadMsgReq(o);break;case P.Qx.CID_DownloadUserRes:s=await M.Z.afterDownloadUserReq(o)}return s}},87426:(e,t,n)=>{"use strict";n.d(t,{M:()=>C,S:()=>I});var i=n(13522),s=n(83716),a=n(60782),o=n(82267),r=n(3192),d=n(66175),u=n(92582),c=n(4973),f=n(15023),p=n(81900),l=n(64250),h=n(94830),m=n(55237),g=n(14288),y=n(18935),A=n(67606),w=n(6999);const v=1e3;let b;function I(e){b=e}const S=new Set;function P(e){e.filter((e=>e instanceof i.Api.User)).map(u.PH).forEach((e=>{e&&b({"@type":"updateUser",id:e.id,user:e})})),e.filter((e=>e instanceof i.Api.Chat||e instanceof i.Api.ChatForbidden||e instanceof i.Api.Channel||e instanceof i.Api.ChannelForbidden)).map((e=>(0,d.vX)(e))).forEach((e=>{e&&b({"@type":"updateChat",id:e.id,chat:e})}))}function C(e,t){if(e instanceof i.connection.UpdateServerTimeOffset)(0,o.Y$)(e.timeOffset),b({"@type":"updateServerTimeOffset",serverTimeOffset:e.timeOffset});else if(e instanceof i.connection.UpdateConnectionState){let t;switch(e.state){case i.connection.UpdateConnectionState.disconnected:t="connectionStateConnecting";break;case i.connection.UpdateConnectionState.broken:t="connectionStateBroken";break;case i.connection.UpdateConnectionState.connected:default:t="connectionStateReady"}b({"@type":"updateConnectionState",connectionState:t})}else if(e instanceof i.Api.UpdateNewMessage||e instanceof i.Api.UpdateNewScheduledMessage||e instanceof i.Api.UpdateNewChannelMessage||e instanceof i.Api.UpdateShortChatMessage||e instanceof i.Api.UpdateShortMessage){let t,n;const a=e._entities;if(a&&((0,l.eQ)(a),P(a)),e instanceof i.Api.UpdateShortChatMessage)t=(0,r.bE)(e);else if(e instanceof i.Api.UpdateShortMessage)t=(0,r.$m)(e);else{if(e.message instanceof i.Api.MessageEmpty)return void(s.eMD&&console.error("Unexpected update:",e.className,e));(e.message instanceof i.Api.Message&&(0,c.Bs)(e.message)||e.message instanceof i.Api.MessageService&&e.message.action instanceof i.Api.MessageActionSuggestProfilePhoto)&&(0,l.iv)(e.message),t=(0,r.eL)(e.message),n="replyMarkup"in e.message&&e.message?.replyMarkup instanceof i.Api.ReplyKeyboardForceReply&&(!e.message.replyMarkup.selective||t.isMentioned)}if(e instanceof i.Api.UpdateNewScheduledMessage?b({"@type":S.has(t.id)?"updateScheduledMessage":"newScheduledMessage",id:t.id,chatId:t.chatId,message:t}):b({"@type":S.has(t.id)?"updateMessage":"newMessage",id:t.id,chatId:t.chatId,message:t,shouldForceReply:n}),e.message instanceof i.Api.MessageService){const{action:n}=e.message;if(n instanceof i.Api.MessageActionPaymentSent)b({"@type":"updatePaymentStateCompleted",slug:n.invoiceSlug});else if(n instanceof i.Api.MessageActionChatEditTitle)b({"@type":"updateChat",id:t.chatId,chat:{title:n.title}});else if(n instanceof i.Api.MessageActionChatEditPhoto){const s=(0,c._U)(n.photo),a=(0,d.eb)(s),o=(0,l.MZ)(e.message);f.ZP.chats[o]&&(f.ZP.chats[o].photo=s),(0,l.Hh)(n.photo),a&&b({"@type":"updateChat",id:t.chatId,chat:{avatarHash:a},...n.photo instanceof i.Api.Photo&&{newProfilePhoto:(0,m.lq)(n.photo)}})}else if(n instanceof i.Api.MessageActionChatDeletePhoto){const n=(0,l.MZ)(e.message);f.ZP.chats[n]&&(f.ZP.chats[n].photo=new i.Api.ChatPhotoEmpty),b({"@type":"updateChat",id:t.chatId,chat:{avatarHash:void 0}})}else if(n instanceof i.Api.MessageActionChatDeleteUser)e._entities&&e._entities.some((e=>e instanceof i.Api.User&&Boolean(e.self)&&e.id===n.userId))&&b({"@type":"updateChat",id:t.chatId,chat:{isForbidden:!0,isNotJoined:!0}});else if(n instanceof i.Api.MessageActionChatAddUser)e._entities&&e._entities.some((e=>e instanceof i.Api.User&&Boolean(e.self)&&n.users.includes(e.id)))&&b({"@type":"updateChatJoin",id:t.chatId});else if(n instanceof i.Api.MessageActionGroupCall)!n.duration&&n.call&&b({"@type":"updateGroupCallChatId",chatId:t.chatId,call:{id:n.call.id.toString(),accessHash:n.call.accessHash.toString()}});else if(n instanceof i.Api.MessageActionTopicEdit){const{replyTo:t}=e.message,{replyToMsgId:n,replyToTopId:i,forumTopic:a}=t||{},o=a&&(i||n)||s.OxA;b({"@type":"updateTopic",chatId:(0,y.iC)(e.message.peerId),topicId:o})}else n instanceof i.Api.MessageActionTopicCreate&&b({"@type":"updateTopics",chatId:(0,y.iC)(e.message.peerId)})}}else if(e instanceof i.Api.UpdateEditMessage||e instanceof i.Api.UpdateEditChannelMessage){if(e.message instanceof i.Api.MessageEmpty)return void(s.eMD&&console.error("Unexpected update:",e.className,e));e.message instanceof i.Api.Message&&(0,c.Bs)(e.message)&&(0,l.iv)(e.message);const t=(0,a.CE)((0,r.eL)(e.message),["isOutgoing"]);b({"@type":"updateMessage",id:t.id,chatId:t.chatId,message:t})}else if(e instanceof i.Api.UpdateMessageReactions)b({"@type":"updateMessageReactions",id:e.msgId,chatId:(0,y.iC)(e.peer),reactions:(0,r.FD)(e.reactions)});else if(e instanceof i.Api.UpdateMessageExtendedMedia){let t,n;if(e.extendedMedia instanceof i.Api.MessageExtendedMedia&&(t=(0,r.jZ)(e.extendedMedia.media)),e.extendedMedia instanceof i.Api.MessageExtendedMediaPreview&&(n=(0,r.qY)(e.extendedMedia)),!t&&!n)return;const s=(0,y.iC)(e.peer);(0,l.Fx)(s,e.msgId,e.extendedMedia),b({"@type":"updateMessageExtendedMedia",id:e.msgId,chatId:s,media:t,preview:n})}else if(e instanceof i.Api.UpdateDeleteMessages)b({"@type":"deleteMessages",ids:e.messages});else if(e instanceof i.Api.UpdateDeleteScheduledMessages)b({"@type":"deleteScheduledMessages",ids:e.messages,chatId:(0,y.iC)(e.peer)});else if(e instanceof i.Api.UpdateDeleteChannelMessages){const t=(0,y.Xo)(e.channelId,"channel"),n=e.messages,s=n.filter((e=>f.ZP.messages[`${t}-${e}`])),a=n.filter((e=>!f.ZP.messages[`${t}-${e}`])),o=n.map((e=>{const n=f.ZP.messages[`${t}-${e}`];return n&&n instanceof i.Api.MessageService&&"photo"in n.action?String(n.action.photo.id):void 0})).filter(Boolean);s.length&&b({"@type":"deleteMessages",ids:s,chatId:t}),o.length&&b({"@type":"deleteProfilePhotos",ids:o,chatId:t}),a.length&&setTimeout((()=>{b({"@type":"deleteMessages",ids:a,chatId:t})}),v)}else if(e instanceof i.Api.UpdateServiceNotification)if(e.popup)b({"@type":"error",error:{message:e.message}});else{const t=Date.now()/1e3+(0,o.Qj)(),n=(0,r.K7)(e,t);(0,c.Bs)(e)&&(0,l.iv)((0,c.cg)(n.id,n.chatId,e)),b({"@type":"updateServiceNotification",message:n})}else if((t instanceof i.Api.messages.SendMessage||t instanceof i.Api.messages.SendMedia||t instanceof i.Api.messages.SendMultiMedia||t instanceof i.Api.messages.ForwardMessages)&&(e instanceof i.Api.UpdateMessageID||e instanceof i.Api.UpdateShortSentMessage)){let n;"randomId"in e?n=e.randomId:"randomId"in t&&(n=t.randomId);const s=n&&f.ZP.localMessages[String(n)];if(!s)throw new Error("Local message not found");let a;if(e instanceof i.Api.UpdateShortSentMessage){s.content.text&&e.entities&&(a={text:(0,r.s2)(s.content.text.text,e.entities)}),e.media&&(a={...a,...(0,r.jZ)(e.media)});const t=(0,c.cg)(e.id,s.chatId,e);(0,c.Bs)(t)&&(0,l.iv)(t)}S.add(e.id);const d="date"in e&&1e3*e.date<Date.now()+1e3*(0,o.Qj)();b({"@type":s.isScheduled&&!d?"updateScheduledMessageSendSucceeded":"updateMessageSendSucceeded",chatId:s.chatId,localId:s.id,message:{...s,...a&&{content:{...s.content,...a}},id:e.id,sendingState:void 0,..."date"in e&&{date:e.date}}})}else if(e instanceof i.Api.UpdateReadMessagesContents)b({"@type":"updateCommonBoxMessages",ids:e.messages,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}});else if(e instanceof i.Api.UpdateChannelReadMessagesContents)b({"@type":"updateChannelMessages",channelId:(0,y.Xo)(e.channelId,"channel"),ids:e.messages,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}});else if(e instanceof i.Api.UpdateMessagePoll){const{pollId:t,poll:n,results:i}=e;if(n){const e=(0,r.gF)(n,i);b({"@type":"updateMessagePoll",pollId:String(t),pollUpdate:e})}else{const e=(0,r.dq)(i);b({"@type":"updateMessagePoll",pollId:String(t),pollUpdate:{results:e}})}}else if(e instanceof i.Api.UpdateMessagePollVote)b({"@type":"updateMessagePollVote",pollId:String(e.pollId),userId:(0,y.Xo)(e.userId,"user"),options:e.options.map(l.TC)});else if(e instanceof i.Api.UpdateChannelMessageViews)b({"@type":"updateMessage",chatId:(0,y.Xo)(e.channelId,"channel"),id:e.id,message:{views:e.views}});else if(e instanceof i.Api.UpdateReadHistoryInbox)b({"@type":"updateChatInbox",id:(0,y.iC)(e.peer),chat:{lastReadInboxMessageId:e.maxId,unreadCount:e.stillUnreadCount}});else if(e instanceof i.Api.UpdateReadHistoryOutbox)b({"@type":"updateChat",id:(0,y.iC)(e.peer),chat:{lastReadOutboxMessageId:e.maxId}});else if(e instanceof i.Api.UpdateReadChannelInbox)b({"@type":"updateChat",id:(0,y.Xo)(e.channelId,"channel"),chat:{lastReadInboxMessageId:e.maxId,unreadCount:e.stillUnreadCount}});else if(e instanceof i.Api.UpdateReadChannelOutbox)b({"@type":"updateChat",id:(0,y.Xo)(e.channelId,"channel"),chat:{lastReadOutboxMessageId:e.maxId}});else if(e instanceof i.Api.UpdateReadChannelDiscussionInbox)b({"@type":"updateThreadInfo",chatId:(0,y.Xo)(e.channelId,"channel"),threadId:e.topMsgId,threadInfo:{lastReadInboxMessageId:e.readMaxId}});else if(e instanceof i.Api.UpdateReadChannelDiscussionOutbox)b({"@type":"updateChat",id:(0,y.Xo)(e.channelId,"channel"),chat:{lastReadOutboxMessageId:e.readMaxId}});else if(e instanceof i.Api.UpdateDialogPinned&&e.peer instanceof i.Api.DialogPeer)b({"@type":"updateChatPinned",id:(0,y.iC)(e.peer.peer),isPinned:e.pinned||!1});else if(e instanceof i.Api.UpdatePinnedDialogs){const t=e.order?e.order.filter((e=>e instanceof i.Api.DialogPeer)).map((e=>(0,y.iC)(e.peer))):[];b({"@type":"updatePinnedChatIds",ids:t,folderId:e.folderId||void 0})}else if(e instanceof i.Api.UpdateFolderPeers)e.folderPeers.forEach((e=>{const{folderId:t,peer:n}=e;b({"@type":"updateChatListType",id:(0,y.iC)(n),folderId:t})}));else if(e instanceof i.Api.UpdateDialogFilter){const{id:t,filter:n}=e,s=n instanceof i.Api.DialogFilter?(0,d.bZ)(n):void 0;b({"@type":"updateChatFolder",id:t,folder:s})}else if(e instanceof i.Api.UpdateDialogFilterOrder)b({"@type":"updateChatFoldersOrder",orderedIds:e.order});else if(e instanceof i.Api.UpdateChatParticipants){const t=(0,d.B0)(e.participants);b({"@type":"updateChatMembers",id:(0,y.Xo)(e.participants.chatId,"chat"),replacedMembers:t})}else if(e instanceof i.Api.UpdateChatParticipantAdd){const t=(0,d.Ep)((0,a.ei)(e,["userId","inviterId","date"]));b({"@type":"updateChatMembers",id:(0,y.Xo)(e.chatId,"chat"),addedMember:t})}else if(e instanceof i.Api.UpdateChatParticipantDelete)b({"@type":"updateChatMembers",id:(0,y.Xo)(e.chatId,"chat"),deletedMemberId:(0,y.Xo)(e.userId,"user")});else if(e instanceof i.Api.UpdatePinnedMessages||e instanceof i.Api.UpdatePinnedChannelMessages){const t=e instanceof i.Api.UpdatePinnedMessages?(0,y.iC)(e.peer):(0,y.Xo)(e.channelId,"channel");b({"@type":"updatePinnedIds",chatId:t,messageIds:e.messages,isPinned:e.pinned})}else if(e instanceof i.Api.UpdateNotifySettings&&e.peer instanceof i.Api.NotifyPeer)b({"@type":"updateNotifyExceptions",...(0,h.hc)(e.notifySettings,e.peer.peer)});else if(e instanceof i.Api.UpdateNotifySettings&&e.peer instanceof i.Api.NotifyForumTopic)b({"@type":"updateTopicNotifyExceptions",...(0,h.ic)(e.notifySettings,e.peer.peer,e.peer.topMsgId)});else if(e instanceof i.Api.UpdateUserTyping||e instanceof i.Api.UpdateChatUserTyping){const t=e instanceof i.Api.UpdateUserTyping?(0,y.Xo)(e.userId,"user"):(0,y.Xo)(e.chatId,"chat");e.action instanceof i.Api.SendMessageEmojiInteraction?b({"@type":"updateStartEmojiInteraction",id:t,emoji:e.action.emoticon,messageId:e.action.msgId,interaction:(0,A.K)(JSON.parse(e.action.interaction.data))}):b({"@type":"updateChatTypingStatus",id:t,typingStatus:(0,d.j7)(e)})}else if(e instanceof i.Api.UpdateChannelUserTyping){const t=(0,y.Xo)(e.channelId,"channel");b({"@type":"updateChatTypingStatus",id:t,threadId:e.topMsgId,typingStatus:(0,d.j7)(e)})}else if(e instanceof i.Api.UpdateChannel){const{_entities:t}=e;if(!t)return;const n=t.find((e=>e instanceof i.Api.Channel||e instanceof i.Api.ChannelForbidden));if(n instanceof i.Api.Channel){const t=(0,d.vX)(n);t&&(b({"@type":"updateChat",id:t.id,chat:t}),b({"@type":t.isNotJoined?"updateChatLeave":"updateChatJoin",id:(0,y.Xo)(e.channelId,"channel")}))}else if(n instanceof i.Api.ChannelForbidden){const t=(0,y.Xo)(e.channelId,"channel");b({"@type":"updateChat",id:t,chat:{isRestricted:!0}}),b({"@type":"updateChatLeave",id:t})}else 0===t.length&&b({"@type":"resetMessages",id:(0,y.Xo)(e.channelId,"channel")})}else if(e instanceof i.Api.UpdateDialogUnreadMark&&e.peer instanceof i.Api.DialogPeer)b({"@type":"updateChat",id:(0,y.iC)(e.peer.peer),chat:{hasUnreadMark:e.unread}});else if(e instanceof i.Api.UpdateChatDefaultBannedRights)b({"@type":"updateChat",id:(0,y.iC)(e.peer),chat:{defaultBannedRights:(0,p.f)(e.defaultBannedRights)}});else if(e instanceof i.Api.UpdateUserStatus)b({"@type":"updateUserStatus",userId:(0,y.Xo)(e.userId,"user"),status:(0,u.ku)(e.status)});else if(e instanceof i.Api.UpdateUser)b({"@type":"updateRequestUserUpdate",id:(0,y.Xo)(e.userId,"user")});else if(e instanceof i.Api.UpdateUserEmojiStatus){const t=(0,u.wj)(e.emojiStatus);b({"@type":"updateUserEmojiStatus",userId:(0,y.Xo)(e.userId,"user"),emojiStatus:t})}else if(e instanceof i.Api.UpdateUserName){const t=(0,y.Xo)(e.userId,"user"),n=f.ZP.users[t],i=n?.mutualContact&&!n.self?(0,a.ei)(e,[]):(0,a.ei)(e,["firstName","lastName"]),s=(0,m.T4)(e);b({"@type":"updateUser",id:t,user:{...i,usernames:s}})}else if(e instanceof i.Api.UpdateUserPhone){const{userId:t,phone:n}=e;b({"@type":"updateUser",id:(0,y.Xo)(t,"user"),user:{phoneNumber:n}})}else if(e instanceof i.Api.UpdatePeerSettings){const{_entities:t,settings:n}=e;if(!t)return;t?.length&&(t.filter((e=>e instanceof i.Api.User&&!e.contact)).forEach((e=>{b({"@type":"deleteContact",id:(0,y.Xo)(e.id,"user")})})),t.filter((e=>e instanceof i.Api.User&&e.contact)).map(u.PH).forEach((e=>{e&&b({"@type":"updateUser",id:e.id,user:{...e,...n&&{settings:(0,d.lV)(n)}}})})))}else if(e instanceof i.Api.UpdateNotifySettings){const{notifySettings:{showPreviews:t,silent:n,muteUntil:i},peer:{className:s}}=e,a="NotifyUsers"===s?"contact":"NotifyChats"===s?"group":"NotifyBroadcasts"===s?"broadcast":void 0;if(!a)return;b({"@type":"updateNotifySettings",peerType:a,isSilent:Boolean(n||"number"==typeof i&&Date.now()+1e3*(0,o.Qj)()<1e3*i),shouldShowPreviews:Boolean(t)})}else if(e instanceof i.Api.UpdatePeerBlocked)b({"@type":"updatePeerBlocked",id:(0,y.iC)(e.peerId),isBlocked:e.blocked});else if(e instanceof i.Api.UpdatePrivacy){const t=(0,h.r5)(e.key);t&&b({"@type":"updatePrivacy",key:t,rules:(0,h.jv)(e.rules)})}else if(e instanceof i.Api.UpdateDraftMessage)b({"@type":"draftMessage",chatId:(0,y.iC)(e.peer),threadId:e.topMsgId,...(0,r.p4)(e.draft)});else if(e instanceof i.Api.UpdateContactsReset)b({"@type":"updateResetContactList"});else if(e instanceof i.Api.UpdateFavedStickers)b({"@type":"updateFavoriteStickers"});else if(e instanceof i.Api.UpdateRecentStickers)b({"@type":"updateRecentStickers"});else if(e instanceof i.Api.UpdateMoveStickerSetToTop)e.masks||b({"@type":"updateMoveStickerSetToTop",isCustomEmoji:e.emojis,id:e.stickerset.toString()});else if(e instanceof i.Api.UpdateStickerSets)b({"@type":"updateStickerSets"});else if(e instanceof i.Api.UpdateStickerSetsOrder)e.masks||b({"@type":"updateStickerSetsOrder",order:e.order.map((e=>e.toString())),isCustomEmoji:e.emojis});else if(e instanceof i.Api.UpdateNewStickerSet){if(e.stickerset instanceof i.Api.messages.StickerSet){const t=(0,A.jV)(e.stickerset.set);b({"@type":"updateStickerSet",id:t.id,stickerSet:t})}}else if(e instanceof i.Api.UpdateSavedGifs)b({"@type":"updateSavedGifs"});else if(e instanceof i.Api.UpdateGroupCall){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updateGroupCall",call:(0,g.vp)(e.call)})}else if(e instanceof i.Api.UpdateGroupCallConnection)b({"@type":"updateGroupCallConnection",data:JSON.parse(e.params.data),presentation:Boolean(e.presentation)});else if(e instanceof i.Api.UpdateGroupCallParticipants){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updateGroupCallParticipants",groupCallId:(0,g.$J)(e.call),participants:e.participants.map(g.Au)})}else if(e instanceof i.Api.UpdatePendingJoinRequests){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updatePendingJoinRequests",chatId:(0,y.iC)(e.peer),recentRequesterIds:e.recentRequesters.map((e=>(0,y.Xo)(e,"user"))),requestsPending:e.requestsPending})}else if(e instanceof i.Api.UpdatePhoneCall){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updatePhoneCall",call:(0,g.eP)(e.phoneCall)})}else if(e instanceof i.Api.UpdatePhoneCallSignalingData)b({"@type":"updatePhoneCallSignalingData",callId:e.phoneCallId.toString(),data:Array.from(e.data)});else if(e instanceof i.Api.UpdateWebViewResultSent){const{queryId:t}=e;b({"@type":"updateWebViewResultSent",queryId:t.toString()})}else if(e instanceof i.Api.UpdateBotMenuButton){const{botId:t,button:n}=e,i=(0,y.Xo)(t,"user");b({"@type":"updateBotMenuButton",botId:i,button:(0,w.Qp)(n)})}else if(e instanceof i.Api.UpdateTranscribedAudio){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updateTranscribedAudio",transcriptionId:e.transcriptionId.toString(),text:e.text,isPending:e.pending})}else if(e instanceof i.Api.UpdateConfig){const t=e._entities;t&&((0,l.eQ)(t),P(t)),b({"@type":"updateConfig"})}else if(e instanceof i.Api.UpdateChannelPinnedTopic)b({"@type":"updatePinnedTopic",chatId:(0,y.Xo)(e.channelId,"channel"),topicId:e.topicId,isPinned:Boolean(e.pinned)});else if(e instanceof i.Api.UpdateChannelPinnedTopics)b({"@type":"updatePinnedTopicsOrder",chatId:(0,y.Xo)(e.channelId,"channel"),order:e.order||[]});else if(e instanceof i.Api.UpdateRecentEmojiStatuses)b({"@type":"updateRecentEmojiStatuses"});else if(s.eMD){const t="object"==typeof e&&"className"in e?e.className:e;(0,l.cM)("UNEXPECTED UPDATE",t)}}},2049:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{acceptBotUrlAuth:()=>fi,acceptCall:()=>xi,acceptLinkUrlAuth:()=>li,acceptPhoneCall:()=>Ca,addChatMembers:()=>ge,answerCallbackButton:()=>Qn,blockContact:()=>gs,broadcastLocalDbUpdateFull:()=>o.PP,changeSessionSettings:()=>Yi,changeSessionTtl:()=>es,checkChatUsername:()=>Pn,checkPassword:()=>Fn,checkUsername:()=>rs,clearDraft:()=>H,clearPassword:()=>qn,clearRecentStickers:()=>sn,closePoll:()=>pt,confirmCall:()=>Ni,confirmPhoneCall:()=>Pa,createChannel:()=>j,createGroupCall:()=>Ci,createGroupChat:()=>L,createPhoneCallState:()=>va,createTopic:()=>Me,decodePhoneCallData:()=>Sa,deleteChannel:()=>Z,deleteChat:()=>q,deleteChatFolder:()=>$,deleteChatMember:()=>ye,deleteChatUser:()=>F,deleteContact:()=>Zt,deleteExportedChatInvite:()=>kn,deleteHistory:()=>tt,deleteMessages:()=>Ye,deleteProfilePhotos:()=>ps,deleteRevokedExportedChatInvites:()=>Tn,deleteScheduledMessages:()=>et,deleteTopic:()=>Ue,destroy:()=>p.ob,destroyPhoneCallState:()=>ba,discardCall:()=>ki,discardGroupCall:()=>Ai,disconnect:()=>p.zP,downloadMedia:()=>p.gS,editChatFolder:()=>Q,editChatPhoto:()=>K,editExportedChatInvite:()=>Rn,editGroupCallParticipant:()=>wi,editGroupCallTitle:()=>vi,editMessage:()=>Je,editTopic:()=>Te,encodePhoneCallData:()=>Ia,exportChatInvite:()=>Un,exportGroupCallInvite:()=>bi,faveSticker:()=>tn,fetchAnimatedEmojiEffects:()=>dn,fetchAnimatedEmojis:()=>rn,fetchAppConfig:()=>Gs,fetchAuthorizations:()=>As,fetchBlockedContacts:()=>ms,fetchChannelStatistics:()=>na,fetchChat:()=>D,fetchChatFolders:()=>X,fetchChatInviteImporters:()=>Bn,fetchChatSettings:()=>T,fetchChats:()=>U,fetchCommonChats:()=>_t,fetchConfig:()=>js,fetchContactList:()=>Ot,fetchContentSettings:()=>Hs,fetchCountryList:()=>Fs,fetchCurrentUser:()=>p.k,fetchCustomEmoji:()=>on,fetchCustomEmojiSets:()=>Xt,fetchDefaultStatusEmojis:()=>pn,fetchDefaultTopicIcons:()=>fn,fetchEmojiKeywords:()=>vn,fetchExportedChatInvites:()=>En,fetchExtendedMedia:()=>ht,fetchFavoriteStickers:()=>$t,fetchFeaturedEmojiStickers:()=>en,fetchFeaturedStickers:()=>Yt,fetchFullChat:()=>k,fetchFullUser:()=>Ht,fetchGenericEmojiEffects:()=>un,fetchGlobalPrivacySettings:()=>qs,fetchGroupCallParticipants:()=>Ii,fetchGroupStatistics:()=>ia,fetchGroupsForDiscussion:()=>pe,fetchInlineBot:()=>Yn,fetchInlineBotResults:()=>ei,fetchLangPack:()=>Us,fetchLangStrings:()=>ks,fetchLanguages:()=>Rs,fetchMembers:()=>fe,fetchMessage:()=>Ze,fetchMessagePublicForwards:()=>aa,fetchMessageReactions:()=>zs,fetchMessageReactionsList:()=>Qs,fetchMessageStatistics:()=>sa,fetchMessageViews:()=>ot,fetchMessages:()=>Ve,fetchNearestCountry:()=>Gt,fetchNotificationExceptions:()=>Ps,fetchNotificationSettings:()=>Cs,fetchPinnedMessages:()=>vt,fetchPremiumGifts:()=>cn,fetchPremiumPromo:()=>Xi,fetchPrivacySettings:()=>Ts,fetchProfilePhotos:()=>Lt,fetchRecentEmojiStatuses:()=>bn,fetchRecentStickers:()=>Qt,fetchRecommendedChatFolders:()=>z,fetchSavedGifs:()=>hn,fetchScheduledHistory:()=>yt,fetchSeenBy:()=>bt,fetchSendAs:()=>It,fetchSponsoredMessages:()=>Pt,fetchStatisticsAsyncGraph:()=>oa,fetchStickerSets:()=>zt,fetchStickers:()=>an,fetchStickersForEmoji:()=>wn,fetchTemporaryPaymentPassword:()=>zi,fetchTopInlineBots:()=>$n,fetchTopUsers:()=>jt,fetchTopicById:()=>Re,fetchTopics:()=>Ee,fetchUnreadMentions:()=>Rt,fetchUnreadReactions:()=>Ut,fetchUsers:()=>Ft,fetchWallpapers:()=>ls,fetchWebAuthorizations:()=>bs,fetchWebPagePreview:()=>ct,findFirstMessageIdAfterDate:()=>gt,forwardMessages:()=>mt,getAvailableReactions:()=>Js,getChatByPhoneNumber:()=>te,getChatByUsername:()=>ne,getDhConfig:()=>Ui,getGroupCall:()=>yi,getPasswordInfo:()=>jn,getPaymentForm:()=>Wi,getReceipt:()=>Ji,hideAllChatJoinRequests:()=>xn,hideChatJoinRequest:()=>Dn,hideChatReportPanel:()=>Nn,importChatInvite:()=>be,importContact:()=>qt,installStickerSet:()=>gn,joinChannel:()=>O,joinGroupCall:()=>Pi,joinGroupCallPresentation:()=>Mi,leaveChannel:()=>V,leaveGroupCall:()=>Si,leaveGroupCallPresentation:()=>Ri,loadAttachBot:()=>di,loadAttachBots:()=>ri,loadPollOptionResults:()=>lt,markMessageListRead:()=>st,markMessagesRead:()=>at,migrateChat:()=>he,openChatByInvite:()=>me,pinMessage:()=>Qe,prolongWebView:()=>ai,provideAuthCode:()=>d.ck,provideAuthPassword:()=>d.pZ,provideAuthPhoneNumber:()=>d.hG,provideAuthRegistration:()=>d.C5,provideRecoveryEmailCode:()=>Ln,readAllMentions:()=>Mt,readAllReactions:()=>Et,receivedCall:()=>Di,registerDevice:()=>Bs,removeRecentSticker:()=>nn,reorderUsernames:()=>Ls,repairFileReference:()=>p.ML,reportMessages:()=>nt,reportPeer:()=>Qi,reportProfilePhoto:()=>$i,reportSpam:()=>Kt,requestBotUrlAuth:()=>ci,requestCall:()=>Ti,requestChatUpdate:()=>x,requestLinkUrlAuth:()=>pi,requestPhoneCall:()=>Ma,requestSimpleWebView:()=>si,requestThreadInfoUpdate:()=>rt,requestWebView:()=>ii,rescheduleMessage:()=>Xe,restartAuth:()=>d.G9,restartAuthWithQr:()=>d.Ek,saveDefaultSendAs:()=>St,saveDraft:()=>N,saveGif:()=>mn,searchChats:()=>B,searchGifs:()=>An,searchMessagesGlobal:()=>ut,searchMessagesLocal:()=>dt,searchStickers:()=>ln,sendEmojiInteraction:()=>Ws,sendInlineBotResult:()=>ti,sendMessage:()=>Ke,sendMessageAction:()=>it,sendPaymentForm:()=>Ki,sendPollVote:()=>ft,sendReaction:()=>Xs,sendScheduledMessages:()=>At,sendSignalingData:()=>Hi,sendWatchingEmojiInteraction:()=>Ks,sendWebViewData:()=>oi,sendWithCallback:()=>p.cX,setCallRating:()=>Bi,setChatEnabledReactions:()=>Ie,setChatUsername:()=>Cn,setDefaultReaction:()=>$s,setDiscussionGroup:()=>le,setPrivacySettings:()=>xs,sortChatFolders:()=>Y,startBot:()=>ni,terminateAllAuthorizations:()=>vs,terminateAllWebAuthorizations:()=>Ss,terminateAuthorization:()=>ws,terminateWebAuthorization:()=>Is,toggleAttachBot:()=>ui,toggleChatArchived:()=>J,toggleChatPinned:()=>W,toggleDialogUnread:()=>ee,toggleForum:()=>Ce,toggleGroupCallStartSubscription:()=>Ei,toggleIsProtected:()=>Se,toggleJoinRequest:()=>we,toggleJoinToSend:()=>Ae,toggleParticipantsHidden:()=>Pe,togglePinnedTopic:()=>ke,togglePreHistoryHidden:()=>se,toggleSignatures:()=>ce,toggleUsername:()=>Zs,transcribeAudio:()=>kt,translateText:()=>Tt,unblockContact:()=>ys,uninstallStickerSet:()=>yn,unpinAllMessages:()=>$e,unregisterDevice:()=>Ds,updateChatAbout:()=>ue,updateChatAdmin:()=>re,updateChatDefaultBannedRights:()=>ae,updateChatMemberBannedRights:()=>oe,updateChatMutedState:()=>_,updateChatTitle:()=>de,updateContact:()=>Vt,updateContactSignUpNotification:()=>Ms,updateContentSettings:()=>_s,updateEmojiStatus:()=>Wt,updateGlobalPrivacySettings:()=>Vs,updateIsOnline:()=>Ns,updateNotificationSettings:()=>Es,updatePassword:()=>Vn,updatePrivateLink:()=>Mn,updateProfile:()=>os,updateProfilePhoto:()=>us,updateRecoveryEmail:()=>Zn,updateTopicMutedState:()=>G,updateUsername:()=>ds,uploadContactProfilePhoto:()=>fs,uploadProfilePhoto:()=>cs,uploadWallpaper:()=>hs,validateRequestedInfo:()=>Li,viewSponsoredMessage:()=>Ct});var s=n(83716),a=n(69118),o=n(15023),r=n(87426),d=n(17907),u=n(24736),c=n.n(u),f=n(13522),p=n(55301),l=n(66175),h=n(3192),m=n(92582),g=n(60782),y=n(4973),A=n(64250),w=n(18935),v=n(55237),b=n(67606),I=n(83579),S=n(82752),P=n(44107);class C extends S.ZP{constructor(e){var t,n,i;super("PTP.Chats.LoadChatsReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(P.Qx.CID_LoadChatsReq),this.msg=e}static parseMsg(e){return(new C).decode(e.body())}}class M extends S.ZP{constructor(e){var t,n,i;super("PTP.Chats.LoadChatsRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(P.Qx.CID_LoadChatsRes),this.msg=e}static parseMsg(e){return(new M).decode(e.body())}}var E=n(63024);let R;async function U({limit:e,offsetDate:t,archived:n,withPinned:i,lastLocalServiceMessage:s}){const a=await(I.Z.getCurrentAccount()?.sendPduWithCallback(new C({limit:e,offsetDate:t,archived:n,withPinned:i}).pack()));if(!a)return;const o=M.parseMsg(a);if(!o||o.err!==E.wb.NO_ERROR)return;const r=JSON.parse(o.payload);return console.log("[LoadChatsRes]",r),r}function k(e){const{id:t,accessHash:n,adminRights:i}=e;return(0,y.yA)(t,n)instanceof f.Api.InputChannel?async function(e,t,n){const i=await(0,p.RE)(new f.Api.channels.GetFullChannel({channel:(0,y.yA)(e,t)}));if(!(i&&i.fullChat instanceof f.Api.ChannelFull))return;const{about:s,onlineCount:a,exportedInvite:r,slowmodeSeconds:d,slowmodeNextSendDate:u,migratedFromChatId:c,migratedFromMaxId:h,canViewParticipants:m,canViewStats:A,linkedChatId:I,hiddenPrehistory:S,call:P,botInfo:C,availableReactions:M,defaultSendAs:E,requestsPending:U,recentRequesters:k,statsDc:T,participantsCount:B,stickerset:D,chatPhoto:x,participantsHidden:N}=i.fullChat;x instanceof f.Api.Photo&&(o.ZP.photos[x.id.toString()]=x);const H=r instanceof f.Api.ChatInviteExported?r.link:void 0,{members:_,users:G,userStatusesById:j}=m&&await fe(e,t)||{},{members:O,users:F,userStatusesById:q}=m&&n&&await fe(e,t,"kicked")||{},{members:V,users:Z,userStatusesById:L}=m&&await fe(e,t,"admin")||{},K=C?(0,l.Rl)(C):void 0;if(i?.chats?.length>1){ve(i);const[,e]=i.chats,t=(0,l.vX)(e);t&&R({"@type":"updateChat",id:t.id,chat:t})}const W={...j,...q,...L};return{fullInfo:{...x instanceof f.Api.Photo&&{profilePhoto:(0,v.lq)(x)},about:s,onlineCount:a,inviteLink:H,slowMode:d?{seconds:d,nextSendDate:u}:void 0,migratedFrom:c?{chatId:(0,w.Xo)(c,"chat"),maxMessageId:h}:void 0,canViewMembers:m,canViewStatistics:A,isPreHistoryHidden:S,members:_,kickedMembers:O,adminMembersById:V?(0,g.ee)(V,"userId"):void 0,groupCallId:P?String(P.id):void 0,linkedChatId:I?(0,w.Xo)(I,"chat"):void 0,botCommands:K,enabledReactions:(0,l.vv)(M),sendAsId:E?(0,w.iC)(E):void 0,requestsPending:U,recentRequesterIds:k?.map((e=>(0,w.Xo)(e,"user"))),statisticsDcId:T,stickerSet:D?(0,b.jV)(D):void 0,areParticipantsHidden:N},users:[...G||[],...F||[],...Z||[]],userStatusesById:W,groupCall:P?{chatId:e,isLoaded:!1,id:P.id.toString(),accessHash:P?.accessHash.toString(),participants:{},version:0,participantsCount:0,connectionState:"disconnected"}:void 0,membersCount:B}}(t,n,i):async function(e){const t=await(0,p.RE)(new f.Api.messages.GetFullChat({chatId:(0,y.yA)(e)}));if(!(t&&t.fullChat instanceof f.Api.ChatFull))return;ve(t);const{about:n,participants:i,exportedInvite:s,botInfo:a,call:r,availableReactions:d,recentRequesters:u,requestsPending:c,chatPhoto:h}=t.fullChat;h instanceof f.Api.Photo&&(o.ZP.photos[h.id.toString()]=h);const A=(0,l.B0)(i),b=A?A.filter((({isAdmin:e,isOwner:t})=>e||t)):void 0,I=a?(0,l.Rl)(a):void 0,S=s instanceof f.Api.ChatInviteExported?s.link:void 0,{users:P,userStatusesById:C}=(0,m.YF)(t.users);return{fullInfo:{...h instanceof f.Api.Photo&&{profilePhoto:(0,v.lq)(h)},about:n,members:A,adminMembersById:b?(0,g.ee)(b,"userId"):void 0,canViewMembers:!0,botCommands:I,inviteLink:S,groupCallId:r?.id.toString(),enabledReactions:(0,l.vv)(d),requestsPending:c,recentRequesterIds:u?.map((e=>(0,w.Xo)(e,"user")))},users:P,userStatusesById:C,groupCall:r?{chatId:e,isLoaded:!1,id:r.id.toString(),accessHash:r.accessHash.toString(),connectionState:"disconnected",participantsCount:0,version:0,participants:{}}:void 0,membersCount:A?.length}}(t)}async function T(e){const{id:t,accessHash:n}=e,i=await(0,p.RE)(new f.Api.messages.GetPeerSettings({peer:(0,y.h6)(t,n)}));if(i)return(0,A.eQ)(i.users),{users:i.users.map(m.PH).filter(Boolean),settings:(0,l.lV)(i.settings)}}async function B({query:e}){const t=await(0,p.RE)(new f.Api.contacts.Search({q:e}));if(!t)return;ve(t);const n=t.myResults.map(w.iC),i=t.chats.concat(t.users).map((e=>(0,l.vX)(e))).filter(Boolean),s=t.users.map(m.PH).filter((e=>Boolean(e)&&!e.isSelf));return{localChats:i.filter((e=>n.includes(e.id))),localUsers:s.filter((e=>n.includes(e.id))),globalChats:i.filter((e=>!n.includes(e.id))),globalUsers:s.filter((e=>!n.includes(e.id)))}}async function D({type:e,user:t}){let n;if("self"===e||"user"===e){const i=await(0,p.RE)(new f.Api.users.GetUsers({id:["user"===e&&t?(0,y.yA)(t.id,t.accessHash):new f.Api.InputUserSelf]}));if(!i||!i.length)return;[n]=i}else if("support"===e){const e=await(0,p.RE)(new f.Api.help.GetSupport);if(!e||!e.user)return;n=e.user}const i=(0,l.vX)(n,"support"===e);if(i)return R({"@type":"updateChat",id:i.id,chat:i}),{chatId:i.id}}async function x({chat:e,lastLocalMessage:t,noLastMessage:n}){const{id:i,accessHash:s}=e,a=await(0,p.RE)(new f.Api.messages.GetPeerDialogs({peers:[new f.Api.InputDialogPeer({peer:(0,y.h6)(i,s)})]}));if(!a)return;const o=a.dialogs[0];if(!(o&&o instanceof f.Api.Dialog))return;const r=function(e,t){const n={};return e.chats?.forEach((e=>{const i=`chat${e.id}`;t?.[i],n[i]=e})),e.users?.forEach((e=>{const i=`user${e.id}`;t?.[i],n[i]=e})),n}(a),d=r[(0,l.ab)(o.peer)];if(!d)return;ve(a);const u=(0,h.eL)(a.messages[0]),c=t&&(!u||t.date>u.date)?t:u;R({"@type":"updateChat",id:i,chat:{...(0,l.am)(o,d),...!n&&{lastMessage:c}}})}function N({chat:e,text:t,entities:n,threadId:i,replyToMsgId:s}){return(0,p.RE)(new f.Api.messages.SaveDraft({peer:(0,y.h6)(e.id,e.accessHash),message:t,...n&&{entities:n.map(y.ns)},replyToMsgId:s,topMsgId:i}))}function H(e,t){return(0,p.RE)(new f.Api.messages.SaveDraft({peer:(0,y.h6)(e.id,e.accessHash),message:"",...t&&{topMsgId:t}}))}async function _({chat:e,isMuted:t}){await(0,p.RE)(new f.Api.account.UpdateNotifySettings({peer:new f.Api.InputNotifyPeer({peer:(0,y.h6)(e.id,e.accessHash)}),settings:new f.Api.InputPeerNotifySettings({muteUntil:t?s.PT8:0})})),R({"@type":"updateNotifyExceptions",chatId:e.id,isMuted:t}),x({chat:e,noLastMessage:!0})}async function G({chat:e,topicId:t,isMuted:n}){await(0,p.RE)(new f.Api.account.UpdateNotifySettings({peer:new f.Api.InputNotifyForumTopic({peer:(0,y.h6)(e.id,e.accessHash),topMsgId:t}),settings:new f.Api.InputPeerNotifySettings({muteUntil:n?s.PT8:0})})),R({"@type":"updateTopicNotifyExceptions",chatId:e.id,topicId:t,isMuted:n})}async function j({title:e,about:t="",users:n},i=!1){const a=await(0,p.RE)(new f.Api.channels.CreateChannel({broadcast:!0,title:e,about:t}),void 0,!0);if(!(a instanceof f.Api.Updates))return void(s.eMD&&console.error("Unexpected channel creation update",a));const o=a.chats[0];if(!(o&&o instanceof f.Api.Channel))return void(s.eMD&&console.error("Created channel not found",a));const r=(0,l.vX)(o);if(n?.length)try{await(0,p.RE)(new f.Api.channels.InviteToChannel({channel:(0,y.yA)(r.id,r.accessHash),users:n.map((({id:e,accessHash:t})=>(0,y.yA)(e,t)))}),void 0,i)}catch(e){}return r}function O({channelId:e,accessHash:t}){return(0,p.RE)(new f.Api.channels.JoinChannel({channel:(0,y.yA)(e,t)}),!0,!0)}function F({chat:e,user:t}){if("chatTypeBasicGroup"===e.type)return(0,p.RE)(new f.Api.messages.DeleteChatUser({chatId:(0,y.yA)(e.id,e.accessHash),userId:(0,y.yA)(t.id,t.accessHash)}),!0)}function q({chatId:e}){return(0,p.RE)(new f.Api.messages.DeleteChat({chatId:(0,y.yA)(e)}),!0)}function V({channelId:e,accessHash:t}){return(0,p.RE)(new f.Api.channels.LeaveChannel({channel:(0,y.yA)(e,t)}),!0)}function Z({channelId:e,accessHash:t}){return(0,p.RE)(new f.Api.channels.DeleteChannel({channel:(0,y.yA)(e,t)}),!0)}async function L({title:e,users:t}){const n=await(0,p.RE)(new f.Api.messages.CreateChat({title:e,users:t.map((({id:e,accessHash:t})=>(0,y.yA)(e,t)))}),void 0,!0);if(!(n instanceof f.Api.Updates))return void(s.eMD&&console.error("Unexpected chat creation update",n));const i=n.chats[0];if(i&&i instanceof f.Api.Chat)return(0,l.vX)(i);s.eMD&&console.error("Created chat not found",n)}async function K({chatId:e,accessHash:t,photo:n}){const i=(0,y.yA)(e,t);let s;if(n instanceof File){const e=await(0,p.cT)(n);s=new f.Api.InputChatUploadedPhoto({file:e})}else if(n){const e=(0,y.NA)(n);if(!e)return!1;s=new f.Api.InputChatPhoto({id:e})}else s=new f.Api.InputChatPhotoEmpty;return(0,p.RE)(i instanceof f.Api.InputChannel?new f.Api.channels.EditPhoto({channel:i,photo:s}):new f.Api.messages.EditChatPhoto({chatId:i,photo:s}),!0)}async function W({chat:e,shouldBePinned:t}){const{id:n,accessHash:i}=e;await(0,p.RE)(new f.Api.messages.ToggleDialogPin({peer:new f.Api.InputDialogPeer({peer:(0,y.h6)(n,i)}),pinned:t||void 0}))&&R({"@type":"updateChatPinned",id:e.id,isPinned:t})}function J({chat:e,folderId:t}){const{id:n,accessHash:i}=e;return(0,p.RE)(new f.Api.folders.EditPeerFolders({folderPeers:[new f.Api.InputFolderPeer({peer:(0,y.h6)(n,i),folderId:t})]}),!0)}async function X(){const e=await(0,p.RE)(new f.Api.messages.GetDialogFilters);if(!e)return;const t=e.findIndex((e=>e instanceof f.Api.DialogFilterDefault)),n=e.filter((e=>e instanceof f.Api.DialogFilter)),i=n.map((({id:e})=>e));return-1!==t&&i.splice(t,0,s.NfV),{byId:(0,g.ee)(n.map(l.bZ),"id"),orderedIds:i}}async function z(){const e=await(0,p.RE)(new f.Api.messages.GetSuggestedDialogFilters);if(e)return e.map(l.Cq).filter(Boolean)}async function Q({id:e,folderUpdate:t}){t.excludedChatIds&&(t.excludedChatIds=t.excludedChatIds.filter((e=>!t.includedChatIds.includes(e)))),R({"@type":"updateChatFolder",id:e,folder:t})}async function $(e){R({"@type":"updateChatFolder",id:e,folder:void 0})}function Y(e){R({"@type":"updateChatFoldersOrder",orderedIds:e})}async function ee({chat:e,hasUnreadMark:t}){const{id:n,accessHash:i}=e;await(0,p.RE)(new f.Api.messages.MarkDialogUnread({peer:new f.Api.InputDialogPeer({peer:(0,y.h6)(n,i)}),unread:t||void 0}))&&R({"@type":"updateChat",id:e.id,chat:{hasUnreadMark:t}})}async function te(e){return ie(await(0,p.RE)(new f.Api.contacts.ResolvePhone({phone:e})))}async function ne(e){return ie(await(0,p.RE)(new f.Api.contacts.ResolveUsername({username:e})))}function ie(e){if(!e)return;const{users:t,chats:n}=e,i=n.length?(0,l.vX)(n[0]):(0,l.vX)(t[0]);return i?(ve(e),{chat:i,user:(0,m.PH)(t[0])}):void 0}function se({chat:e,isEnabled:t}){const{id:n,accessHash:i}=e,s=(0,y.yA)(n,i);return(0,p.RE)(new f.Api.channels.TogglePreHistoryHidden({channel:s,enabled:t}),!0)}function ae({chat:e,bannedRights:t}){const{id:n,accessHash:i}=e,s=(0,y.h6)(n,i);return(0,p.RE)(new f.Api.messages.EditChatDefaultBannedRights({peer:s,bannedRights:(0,y.M6)(t)}),!0)}function oe({chat:e,user:t,bannedRights:n,untilDate:i}){const s=(0,y.yA)(e.id,e.accessHash),a=(0,y.h6)(t.id,t.accessHash);return(0,p.RE)(new f.Api.channels.EditBanned({channel:s,participant:a,bannedRights:(0,y.M6)(n,i)}),!0)}function re({chat:e,user:t,adminRights:n,customTitle:i=""}){const s=(0,y.yA)(e.id,e.accessHash),a=(0,y.yA)(t.id,t.accessHash);return(0,p.RE)(new f.Api.channels.EditAdmin({channel:s,userId:a,adminRights:(0,y.$x)(n),rank:i}),!0)}async function de(e,t){const n=(0,y.yA)(e.id,e.accessHash);await(0,p.RE)(n instanceof f.Api.InputChannel?new f.Api.channels.EditTitle({channel:n,title:t}):new f.Api.messages.EditChatTitle({chatId:n,title:t}),!0)}async function ue(e,t){await(0,p.RE)(new f.Api.messages.EditChatAbout({peer:(0,y.h6)(e.id,e.accessHash),about:t}))&&R({"@type":"updateChatFullInfo",id:e.id,fullInfo:{about:t}})}function ce({chat:e,isEnabled:t}){const{id:n,accessHash:i}=e,s=(0,y.yA)(n,i);return(0,p.RE)(new f.Api.channels.ToggleSignatures({channel:s,enabled:t}),!0)}async function fe(e,t,n="recent",i){let a;switch(n){case"kicked":a=new f.Api.ChannelParticipantsKicked({q:""});break;case"admin":a=new f.Api.ChannelParticipantsAdmins;break;default:a=new f.Api.ChannelParticipantsRecent}const o=await(0,p.RE)(new f.Api.channels.GetParticipants({channel:(0,y.yA)(e,t),filter:a,offset:i,limit:s.mok}));if(!o||o instanceof f.Api.channels.ChannelParticipantsNotModified)return;ve(o);const{users:r,userStatusesById:d}=(0,m.YF)(o.users);return{members:(0,l.B0)(o),users:r,userStatusesById:d}}async function pe(){const e=await(0,p.RE)(new f.Api.channels.GetGroupsForDiscussion);if(e)return ve(e),e.chats.map((e=>(0,l.vX)(e)))}function le({channel:e,chat:t}){return(0,p.RE)(new f.Api.channels.SetDiscussionGroup({broadcast:(0,y.h6)(e.id,e.accessHash),group:t?(0,y.h6)(t.id,t.accessHash):new f.Api.InputChannelEmpty}),!0)}async function he(e){const t=await(0,p.RE)(new f.Api.messages.MigrateChat({chatId:(0,y.yA)(e.id)}),void 0,!0);if(t&&t instanceof f.Api.Updates)return ve(t),(0,l.vX)(t.chats[1]);s.eMD&&console.error("Unexpected channel creation update",t)}async function me(e){const t=await(0,p.RE)(new f.Api.messages.CheckChatInvite({hash:e}));if(!t)return;let n;if(t instanceof f.Api.ChatInvite){const{photo:n,participantsCount:i,title:s,channel:a,requestNeeded:o,about:r,megagroup:d}=t;n instanceof f.Api.Photo&&(0,A.Hh)(t.photo),R({"@type":"showInvite",data:{title:s,about:r,hash:e,participantsCount:i,isChannel:a&&!d,isRequestNeeded:o,...n instanceof f.Api.Photo&&{photo:(0,v.lq)(n)}}})}else n=(0,l.vX)(t.chat),n&&R({"@type":"updateChat",id:n.id,chat:n});return n?{chatId:n.id}:void 0}async function ge(e,t,n=!1){try{return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?await(0,p.RE)(new f.Api.channels.InviteToChannel({channel:(0,y.yA)(e.id,e.accessHash),users:t.map((e=>(0,y.yA)(e.id,e.accessHash)))}),!0,n):await Promise.all(t.map((t=>(0,p.RE)(new f.Api.messages.AddChatUser({chatId:(0,y.yA)(e.id),userId:(0,y.yA)(t.id,t.accessHash)}),!0,n))))}catch(e){return}}function ye(e,t){return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?oe({chat:e,user:t,bannedRights:{viewMessages:!0,sendMessages:!0,sendMedia:!0,sendStickers:!0,sendGifs:!0,sendGames:!0,sendInline:!0,embedLinks:!0,sendPolls:!0,changeInfo:!0,inviteUsers:!0,pinMessages:!0,manageTopics:!0,sendPhotos:!0,sendVideos:!0,sendRoundvideos:!0,sendAudios:!0,sendVoices:!0,sendDocs:!0,sendPlain:!0},untilDate:s.PT8}):(0,p.RE)(new f.Api.messages.DeleteChatUser({chatId:(0,y.yA)(e.id),userId:(0,y.yA)(t.id,t.accessHash)}),!0)}function Ae(e,t){return(0,p.RE)(new f.Api.channels.ToggleJoinToSend({channel:(0,y.yA)(e.id,e.accessHash),enabled:t}),!0)}function we(e,t){return(0,p.RE)(new f.Api.channels.ToggleJoinRequest({channel:(0,y.yA)(e.id,e.accessHash),enabled:t}),!0)}function ve(e){"users"in e&&(0,A.eQ)(e.users),"chats"in e&&(0,A.eQ)(e.chats),"messages"in e&&e.messages.forEach((e=>{e instanceof f.Api.Message&&(0,y.Bs)(e)&&(0,A.iv)(e)}))}async function be({hash:e}){const t=await(0,p.RE)(new f.Api.messages.ImportChatInvite({hash:e}));if(t instanceof f.Api.Updates&&t.chats.length)return(0,l.vX)(t.chats[0])}function Ie({chat:e,enabledReactions:t}){return(0,p.RE)(new f.Api.messages.SetChatAvailableReactions({peer:(0,y.h6)(e.id,e.accessHash),availableReactions:(0,y.e6)(t)}),!0)}function Se({chat:e,isProtected:t}){const{id:n,accessHash:i}=e;return(0,p.RE)(new f.Api.messages.ToggleNoForwards({peer:(0,y.h6)(n,i),enabled:t}),!0)}function Pe({chat:e,isEnabled:t}){const{id:n,accessHash:i}=e;return(0,p.RE)(new f.Api.channels.ToggleParticipantsHidden({channel:(0,y.h6)(n,i),enabled:t}),!0)}function Ce({chat:e,isEnabled:t}){const{id:n,accessHash:i}=e;return(0,p.RE)(new f.Api.channels.ToggleForum({channel:(0,y.h6)(n,i),enabled:t}),!0)}async function Me({chat:e,title:t,iconColor:n,iconEmojiId:i,sendAs:s}){const{id:a,accessHash:o}=e,r=await(0,p.RE)(new f.Api.channels.CreateForumTopic({channel:(0,y.h6)(a,o),title:t,iconColor:n,iconEmojiId:i?c()(i):void 0,sendAs:s?(0,y.h6)(s.id,s.accessHash):void 0,randomId:(0,y.bJ)()}));if(r instanceof f.Api.Updates&&r.updates.length)return r.updates?.find((e=>e instanceof f.Api.UpdateMessageID))?.id}async function Ee({chat:e,query:t,offsetTopicId:n,offsetId:i,offsetDate:a,limit:o=s.C1M}){const{id:r,accessHash:d}=e,u=await(0,p.RE)(new f.Api.channels.GetForumTopics({channel:(0,y.h6)(r,d),limit:o,q:t,offsetTopic:n,offsetId:i,offsetDate:a}));if(!u)return;ve(u);const{count:c,orderByCreateDate:g}=u;return{topics:u.topics.map(l.EP).filter(Boolean),messages:u.messages.map(h.eL).filter(Boolean),users:u.users.map(m.PH).filter(Boolean),chats:u.chats.map((e=>(0,l.vX)(e))).filter(Boolean),count:c+1,shouldOrderByCreateDate:g,draftsById:u.topics.reduce(((e,t)=>(t instanceof f.Api.ForumTopic&&t.draft&&(e[t.id]=(0,h.p4)(t.draft)),e)),{}),readInboxMessageIdByTopicId:u.topics.reduce(((e,t)=>(t instanceof f.Api.ForumTopic&&t.readInboxMaxId&&(e[t.id]=t.readInboxMaxId),e)),{})}}async function Re({chat:e,topicId:t}){const{id:n,accessHash:i}=e,s=await(0,p.RE)(new f.Api.channels.GetForumTopicsByID({channel:(0,y.h6)(n,i),topics:[t]}));if(!(s?.topics.length&&s.topics[0]instanceof f.Api.ForumTopic))return;ve(s);const a=s.messages.map(h.eL).filter(Boolean),o=s.users.map(m.PH).filter(Boolean),r=s.chats.map((e=>(0,l.vX)(e))).filter(Boolean);return{topic:(0,l.EP)(s.topics[0]),messages:a,users:o,chats:r}}function Ue({chat:e,topicId:t}){const{id:n,accessHash:i}=e;return(0,p.RE)(new f.Api.channels.DeleteTopicHistory({channel:(0,y.h6)(n,i),topMsgId:t}),!0)}function ke({chat:e,topicId:t,isPinned:n}){const{id:i,accessHash:s}=e;return(0,p.RE)(new f.Api.channels.UpdatePinnedForumTopic({channel:(0,y.h6)(i,s),topicId:t,pinned:n}),!0)}function Te({chat:e,topicId:t,title:n,iconEmojiId:i,isClosed:a,isHidden:o}){const{id:r,accessHash:d}=e;return(0,p.RE)(new f.Api.channels.EditForumTopic({channel:(0,y.h6)(r,d),topicId:t,title:n,iconEmojiId:t!==s.OxA&&i?c()(i):void 0,closed:a,hidden:o}),!0)}var Be=n(59187),De=n(71394),xe=n(1735),Ne=n(78058),He=n(82267),_e=n(74766),Ge=n(35615),je=n(37869),Oe=n(48764).Buffer;const Fe=63;let qe;async function Ve({chat:e,threadId:t,offsetId:n,lastMessageId:i,isUp:s,...a}){}async function Ze({chat:e,messageId:t}){const n="channel"===(0,y.Zm)(e.id);let i;try{i=await(0,p.RE)(n?new f.Api.channels.GetMessages({channel:(0,y.yA)(e.id,e.accessHash),id:[new f.Api.InputMessageID({id:t})]}):new f.Api.messages.GetMessages({id:[new f.Api.InputMessageID({id:t})]}),void 0,!0)}catch(e){const{message:t}=e;"CHANNEL_PRIVATE"!==t&&qe({"@type":"error",error:{message:t,isSlowMode:!1,hasErrorKey:!0}})}if(!i||i instanceof f.Api.messages.MessagesNotModified)return;const s=i.messages[0];if(!s)return;if(s instanceof f.Api.MessageEmpty)return Be._Q;const a=s&&(0,h.eL)(s);return a?(s instanceof f.Api.Message&&(0,A.iv)(s),{message:a,users:i.users.map(m.PH).filter(Boolean)}):void 0}let Le=Promise.resolve();function Ke({chat:e,text:t,entities:n,replyingTo:i,replyingToTopId:a,attachment:r,sticker:d,gif:u,poll:c,contact:p,isSilent:l,scheduledAt:m,groupedId:g,noWebPage:A,sendAs:w,shouldUpdateStickerSetsOrder:v,botInfo:b},I){const S=(0,h.Ax)(e,t,n,i,a,r,d,u,c,p,g,m,w);qe({"@type":S.isScheduled?"newScheduledMessage":"newMessage",id:S.id,chatId:e.id,message:{...S,sendingState:"messageSendingStatePending"}});const P=(0,y.bJ)();if(o.ZP.localMessages[String(P)]=S,g)return function({chat:e,text:t,entities:n,replyingTo:i,replyingToTopId:a,attachment:o,groupedId:r,isSilent:d,scheduledAt:u,sendAs:c},f,p,l){let h=-1;We[r]||(We[r]={counter:0,singleMediaByIndex:{}}),h=We[r].counter++;const m=Le;return Le=(async()=>{let e;try{e=await ze(p,o,l)}catch(e){return s.eMD&&console.warn(e),We[r].counter--,void await m}if(await m,delete We[r],l){let t;if(e&&e.file&&e.file.id&&(t=e.file.id.toString()),p.content.photo||p.content.document){const e=async e=>({dataUri:await(0,De.YJ)(await(0,De.gm)(e.thumbBlobUrl)),size:{width:e.quick.width,height:e.quick.height}});if(p.content.document&&(p.content.document.id=t,"image"===p.content.document.mimeType.split("/")[0])){const{size:t,dataUri:n}=await e(o);p.content.document.mediaType="photo",p.content.document.previewBlobUrl=void 0,p.content.document.thumbnail={...t,dataUri:n},p.content.document.mediaSize=t}if(p.content.photo){const{size:n,dataUri:i}=await e(o);p.content.photo={isSpoiler:p.content.photo.isSpoiler,id:t,thumbnail:{...n,dataUri:i},sizes:[{...n,type:"y"}]}}}await l(2,p)}})(),Le}({chat:e,text:t,entities:n,replyingTo:i,replyingToTopId:a,attachment:r,groupedId:g,isSilent:l,scheduledAt:m},0,S,I);const C=Le;return Le=(async()=>{let t;if(r)try{t=await ze(S,r,I)}catch(e){return s.eMD&&console.warn(e),void await C}else d?t=(0,y.sq)(d):u?t=(0,y.sq)(u):c?t=(0,y.wk)(c,P):p&&(t=new f.Api.InputMediaContact({phoneNumber:p.phoneNumber,firstName:p.firstName,lastName:p.lastName,vcard:""}));await C,await new je.Z({chat:e,msgSend:S,attachment:r,media:t,botInfo:b},qe).process()})(),Le}const We={};async function Je({chat:e,message:t,text:n,entities:i,noWebPage:s}){const a=1e3*t.date>Date.now()+1e3*(0,He.Qj)();let r={content:{...t.content,...n&&{text:{text:n,entities:i}}}};const d=(0,Ne.k)(r.content,r.groupedId);r={...r,emojiOnlyCount:d},qe({"@type":a?"updateScheduledMessage":"updateMessage",id:t.id,chatId:e.id,message:r}),o.ZP.localMessages[t.id]={...t,...r},i&&i.map(y.ns)}async function Xe({chat:e,message:t,scheduledAt:n}){await(0,p.RE)(new f.Api.messages.EditMessage({peer:(0,y.h6)(e.id,e.accessHash),id:t.id,scheduleDate:n}),!0)}async function ze(e,t,n){const{filename:i,blobUrl:a,encryptUrl:o,mimeType:r,quick:d,voice:u,audio:c,previewBlobUrl:p,shouldSendAsFile:l,shouldSendAsSpoiler:h}=t,m=t=>{n.isCanceled?m.isCanceled=!0:n(t,e)};let g;g=o?await(0,De.dc)(o,"EN_"+i):await(0,De.dc)(a,i);const y=await(0,_e.uploadFileV1)({file:g,onProgress:m,workers:s.eLN}),A=[new f.Api.DocumentAttributeFilename({fileName:i})];if(!l){if(d){if(s.oGt.has(r)&&r!==s.s11)return new f.Api.InputMediaUploadedPhoto({file:y,spoiler:h});if(s.wGh.has(r)){const{width:e,height:t,duration:n}=d;void 0!==n&&A.push(new f.Api.DocumentAttributeVideo({duration:n,w:e,h:t,supportsStreaming:!0}))}}if(c){const{duration:e,title:t,performer:n}=c;A.push(new f.Api.DocumentAttributeAudio({duration:e,title:t,performer:n}))}if(u){const{duration:e,waveform:t}=u,{data:n}=(0,xe.C)(t,Fe);A.push(new f.Api.DocumentAttributeAudio({voice:!0,duration:e,waveform:Oe.from(n)}))}}return new f.Api.InputMediaUploadedDocument({file:y,mimeType:r,attributes:A,thumb:void 0,forceFile:l,spoiler:h})}async function Qe({chat:e,messageId:t,isUnpin:n,isOneSide:i,isSilent:s}){await(0,p.RE)(new f.Api.messages.UpdatePinnedMessage({peer:(0,y.h6)(e.id,e.accessHash),id:t,...n&&{unpin:!0},...i&&{pmOneside:!0},...s&&{silent:!0}}),!0)}async function $e({chat:e,threadId:t}){await(0,p.RE)(new f.Api.messages.UnpinAllMessages({peer:(0,y.h6)(e.id,e.accessHash),...t&&{topMsgId:t}}),!0)}async function Ye({chat:e,messageIds:t,shouldDeleteForAll:n}){const i="channel"===(0,y.Zm)(e.id);qe({"@type":"deleteMessages",ids:t,chatId:e.id,...i&&{chatId:e.id}})}async function et({chat:e,messageIds:t}){await(0,p.RE)(new f.Api.messages.DeleteScheduledMessages({peer:(0,y.h6)(e.id,e.accessHash),id:t}))&&qe({"@type":"deleteScheduledMessages",ids:t,chatId:e.id})}async function tt({chat:e,shouldDeleteForAll:t}){const n="channel"===(0,y.Zm)(e.id),i=await(0,p.RE)(n?new f.Api.channels.DeleteHistory({channel:(0,y.yA)(e.id,e.accessHash)}):new f.Api.messages.DeleteHistory({peer:(0,y.h6)(e.id,e.accessHash),...t&&{revoke:!0},...!t&&{just_clear:!0}}));i&&("offset"in i&&i.offset?await tt({chat:e,shouldDeleteForAll:t}):qe({"@type":"deleteHistory",chatId:e.id}))}async function nt({peer:e,messageIds:t,reason:n,description:i}){return await(0,p.RE)(new f.Api.messages.Report({peer:(0,y.h6)(e.id,e.accessHash),id:t,reason:(0,y.bQ)(n),message:i}))}async function it({peer:e,threadId:t,action:n}){const i=(0,y.p6)(n);if(i)try{return await(0,p.RE)(new f.Api.messages.SetTyping({peer:(0,y.h6)(e.id,e.accessHash),topMsgId:t,action:i}),void 0,!0)}catch(e){}else s.eMD&&console.warn("Unsupported message action",n)}async function st({chat:e,threadId:t,maxId:n=-1}){const i="channel"===(0,y.Zm)(e.id),a=Math.min(n,s.PT8);i&&t===Be._f?await(0,p.RE)(new f.Api.channels.ReadHistory({channel:(0,y.yA)(e.id,e.accessHash),maxId:a})):i?await(0,p.RE)(new f.Api.messages.ReadDiscussion({peer:(0,y.h6)(e.id,e.accessHash),msgId:t,readMaxId:a})):await(0,p.RE)(new f.Api.messages.ReadHistory({peer:(0,y.h6)(e.id,e.accessHash),maxId:a})),t===Be._f?x({chat:e,noLastMessage:!0}):rt({chat:e,threadId:t})}async function at({chat:e,messageIds:t}){const n="channel"===(0,y.Zm)(e.id);await(0,p.RE)(n?new f.Api.channels.ReadMessageContents({channel:(0,y.yA)(e.id,e.accessHash),id:t}):new f.Api.messages.ReadMessageContents({id:t})),qe({...n?{"@type":"updateChannelMessages",channelId:e.id}:{"@type":"updateCommonBoxMessages"},ids:t,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}})}async function ot({chat:e,ids:t}){const n=await(0,p.RE)(new f.Api.messages.GetMessagesViews({peer:(0,y.h6)(e.id,e.accessHash),id:t,increment:!1}));if(n)return t.map(((e,t)=>{const{views:i,forwards:s,replies:a}=n.views[t];return{id:e,views:i,forwards:s,messagesCount:a?.replies}}))}async function rt({chat:e,threadId:t,originChannelId:n}){if(t===Be._f)return;const[i,s]=await Promise.all([(0,p.RE)(new f.Api.messages.GetDiscussionMessage({peer:(0,y.h6)(e.id,e.accessHash),msgId:Number(t)})),(0,p.RE)(new f.Api.messages.GetReplies({peer:(0,y.h6)(e.id,e.accessHash),msgId:Number(t),offsetId:1,addOffset:-1,limit:1}))]);if(!i||!i.messages.length)return;const a=(0,A.MZ)(i.messages[0]);if(!a)return;const o=i.messages[i.messages.length-1].id;return qe({"@type":"updateThreadInfo",chatId:a,threadId:o,threadInfo:{threadId:o,topMessageId:o,lastReadInboxMessageId:i.readInboxMaxId,messagesCount:s instanceof f.Api.messages.ChannelMessages?s.count:void 0,lastMessageId:i.maxId,...n?{originChannelId:n}:void 0},firstMessageId:s&&"messages"in s&&s.messages.length?s.messages[0].id:void 0}),i.chats.map((e=>(0,l.vX)(e))).filter(Boolean).forEach((e=>{qe({"@type":"updateChat",id:e.id,chat:e,noTopChatsRequest:!0})})),e.isForum&&qe({"@type":"updateTopic",chatId:e.id,topicId:t}),(0,A.eQ)(i.users),(0,A.eQ)(i.chats),{topMessageId:o,discussionChatId:a,users:i.users.map(m.PH).filter(Boolean)}}async function dt({chat:e,type:t,query:n,topMessageId:i,minDate:s,maxDate:a,...o}){let r;switch(t){case"media":r=new f.Api.InputMessagesFilterPhotoVideo;break;case"documents":r=new f.Api.InputMessagesFilterDocument;break;case"links":r=new f.Api.InputMessagesFilterUrl;break;case"audio":r=new f.Api.InputMessagesFilterMusic;break;case"voice":r=new f.Api.InputMessagesFilterRoundVoice;break;case"profilePhoto":r=new f.Api.InputMessagesFilterChatPhotos;break;default:r=new f.Api.InputMessagesFilterEmpty}const d=await(0,p.RE)(new f.Api.messages.Search({peer:(0,y.h6)(e.id,e.accessHash),topMsgId:i,filter:r,q:n||"",minDate:s,maxDate:a,...o}));if(!d||d instanceof f.Api.messages.MessagesNotModified||!d.messages)return;wt(d);const u=d.chats.map((e=>(0,l.vX)(e))).filter(Boolean),c=d.users.map(m.PH).filter(Boolean),g=d.messages.map(h.eL).filter(Boolean);let A,w=g.length;return(d instanceof f.Api.messages.MessagesSlice||d instanceof f.Api.messages.ChannelMessages)&&(w=d.count,g.length&&(A=g[g.length-1].id)),{chats:u,users:c,messages:g,totalCount:w,nextOffsetId:A}}async function ut({query:e,offsetRate:t=0,limit:n,type:i="text",minDate:a,maxDate:o}){let r;switch(i){case"media":r=new f.Api.InputMessagesFilterPhotoVideo;break;case"documents":r=new f.Api.InputMessagesFilterDocument;break;case"links":r=new f.Api.InputMessagesFilterUrl;break;case"audio":r=new f.Api.InputMessagesFilterMusic;break;case"voice":r=new f.Api.InputMessagesFilterRoundVoice;break;default:if(!(e||o&&a))return;r=new f.Api.InputMessagesFilterEmpty}const d=await(0,p.RE)(new f.Api.messages.SearchGlobal({q:e,offsetRate:t,offsetPeer:new f.Api.InputPeerEmpty,limit:n,filter:r,folderId:s.NfV,minDate:a,maxDate:o}));if(!d||d instanceof f.Api.messages.MessagesNotModified||!d.messages)return;wt({chats:d.chats,users:d.users,messages:d.messages});const u=d.chats.map((e=>(0,l.vX)(e))).filter(Boolean),c=d.users.map(m.PH).filter(Boolean),g=d.messages.map(h.eL).filter(Boolean);let y,A=g.length;return(d instanceof f.Api.messages.MessagesSlice||d instanceof f.Api.messages.ChannelMessages)&&(A=d.count,g.length&&(y=g[g.length-1].id)),{messages:g,users:c,chats:u,totalCount:A,nextRate:"nextRate"in d&&d.nextRate?d.nextRate:y}}async function ct({message:e}){const t=await(0,p.RE)(new f.Api.messages.GetWebPagePreview({message:e}));return t&&(0,h.kc)(t)}async function ft({chat:e,messageId:t,options:n}){const{id:i,accessHash:s}=e;await(0,p.RE)(new f.Api.messages.SendVote({peer:(0,y.h6)(i,s),msgId:t,options:n.map(A.Tf)}),!0)}async function pt({chat:e,messageId:t,poll:n}){const{id:i,accessHash:s}=e;await(0,p.RE)(new f.Api.messages.EditMessage({peer:(0,y.h6)(i,s),id:t,media:(0,y.yT)(n,!0)}))}async function lt({chat:e,messageId:t,option:n,offset:i,limit:s,shouldResetVoters:a}){const{id:o,accessHash:r}=e,d=await(0,p.RE)(new f.Api.messages.GetPollVotes({peer:(0,y.h6)(o,r),id:t,...n&&{option:(0,A.Tf)(n)},...i&&{offset:i},...s&&{limit:s}}));if(!d)return;wt({chats:[],users:d.users,messages:[]});const u=d.users.map(m.PH).filter(Boolean),c=d.votes.map((e=>({userId:e.userId,date:e.date})));return{count:d.count,votes:c,users:u,nextOffset:d.nextOffset,shouldResetVoters:a}}async function ht({chat:e,ids:t}){await(0,p.RE)(new f.Api.messages.GetExtendedMedia({peer:(0,y.h6)(e.id,e.accessHash),id:t}))}async function mt({fromChat:e,toChat:t,toThreadId:n,messages:i,isSilent:s,scheduledAt:a,sendAs:r,withMyScore:d,noAuthors:u,noCaptions:c,isCurrentUserPremium:f}){i.map((({id:e})=>e));const p=i.map(y.bJ);i.forEach(((e,i)=>{const s=(0,h.Jf)({toChat:t,toThreadId:n,message:e,scheduledAt:a,noAuthors:u,noCaptions:c,isCurrentUserPremium:f});o.ZP.localMessages[String(p[i])]=s,qe({"@type":s.isScheduled?"newScheduledMessage":"newMessage",id:s.id,chatId:t.id,message:s})}))}async function gt({chat:e,timestamp:t}){const n=await(0,p.RE)(new f.Api.messages.GetHistory({peer:(0,y.h6)(e.id,e.accessHash),offsetDate:t,addOffset:-1,limit:1}));if(n&&!(n instanceof f.Api.messages.MessagesNotModified)&&n.messages&&n.messages.length)return n.messages[0].id}async function yt({chat:e}){const{id:t,accessHash:n}=e,i=await(0,p.RE)(new f.Api.messages.GetScheduledHistory({peer:(0,y.h6)(t,n)}));if(i&&!(i instanceof f.Api.messages.MessagesNotModified)&&i.messages)return wt(i),{messages:i.messages.map(h.eL).filter(Boolean)}}async function At({chat:e,ids:t}){const{id:n,accessHash:i}=e;await(0,p.RE)(new f.Api.messages.SendScheduledMessages({peer:(0,y.h6)(n,i),id:t}),!0)}function wt(e){(0,A.eQ)(e.users),(0,A.eQ)(e.chats),e.messages.forEach((e=>{(e instanceof f.Api.Message&&(0,y.Bs)(e)||e instanceof f.Api.MessageService&&(0,y.zA)(e))&&(0,A.iv)(e)}))}async function vt({chat:e,threadId:t}){const n=await(0,p.RE)(new f.Api.messages.Search({peer:(0,y.h6)(e.id,e.accessHash),filter:new f.Api.InputMessagesFilterPinned,q:"",limit:s.tiD,topMsgId:t}));if(!n||n instanceof f.Api.messages.MessagesNotModified||!n.messages)return;wt(n);const i=n.chats.map((e=>(0,l.vX)(e))).filter(Boolean),a=n.users.map(m.PH).filter(Boolean);return{messages:n.messages.map(h.eL).filter(Boolean),users:a,chats:i}}async function bt({chat:e,messageId:t}){const n=await(0,p.RE)(new f.Api.messages.GetMessageReadParticipants({peer:(0,y.h6)(e.id,e.accessHash),msgId:t}));return n?n.map(String):void 0}async function It({chat:e}){const t=await(0,p.RE)(new f.Api.channels.GetSendAs({peer:(0,y.h6)(e.id,e.accessHash)}),void 0,void 0,void 0,void 0,!0);if(t)return(0,A.eQ)(t.users),(0,A.eQ)(t.chats),{users:t.users.map(m.PH).filter(Boolean),chats:t.chats.map((e=>(0,l.vX)(e))).filter(Boolean),sendAs:t.peers.map(l.BW)}}function St({sendAs:e,chat:t}){return(0,p.RE)(new f.Api.messages.SaveDefaultSendAs({peer:(0,y.h6)(t.id,t.accessHash),sendAs:(0,y.h6)(e.id,e.accessHash)}))}async function Pt({chat:e}){const t=await(0,p.RE)(new f.Api.channels.GetSponsoredMessages({channel:(0,y.h6)(e.id,e.accessHash)}));if(t&&!(t instanceof f.Api.messages.SponsoredMessagesEmpty)&&t.messages.length)return wt(t),{messages:t.messages.map(h.VS).filter(Boolean),users:t.users.map(m.PH).filter(Boolean),chats:t.chats.map((e=>(0,l.vX)(e))).filter(Boolean)}}async function Ct({chat:e,random:t}){await(0,p.RE)(new f.Api.channels.ViewSponsoredMessage({channel:(0,y.h6)(e.id,e.accessHash),randomId:(0,A.Tf)(t)}))}function Mt({chat:e}){return(0,p.RE)(new f.Api.messages.ReadMentions({peer:(0,y.h6)(e.id,e.accessHash)}),!0)}function Et({chat:e}){return(0,p.RE)(new f.Api.messages.ReadReactions({peer:(0,y.h6)(e.id,e.accessHash)}),!0)}async function Rt({chat:e,...t}){const n=await(0,p.RE)(new f.Api.messages.GetUnreadMentions({peer:(0,y.h6)(e.id,e.accessHash),limit:s.CJw,...t}));if(n&&!(n instanceof f.Api.messages.MessagesNotModified)&&n.messages)return wt(n),{messages:n.messages.map(h.eL).filter(Boolean),users:n.users.map(m.PH).filter(Boolean),chats:n.chats.map((e=>(0,l.vX)(e))).filter(Boolean)}}async function Ut({chat:e,...t}){const n=await(0,p.RE)(new f.Api.messages.GetUnreadReactions({peer:(0,y.h6)(e.id,e.accessHash),limit:s.pCG,...t}));if(n&&!(n instanceof f.Api.messages.MessagesNotModified)&&n.messages)return wt(n),{messages:n.messages.map(h.eL).filter(Boolean),users:n.users.map(m.PH).filter(Boolean),chats:n.chats.map((e=>(0,l.vX)(e))).filter(Boolean)}}async function kt({chat:e,messageId:t}){const n=await(0,p.RE)(new f.Api.messages.TranscribeAudio({msgId:t,peer:(0,y.h6)(e.id,e.accessHash)}));if(n)return qe({"@type":"updateTranscribedAudio",isPending:n.pending,transcriptionId:n.transcriptionId.toString(),text:n.text}),n.transcriptionId.toString()}async function Tt(e){let t;const n="chat"in e;if(n){const{chat:n,messageIds:i,toLanguageCode:s}=e;t=await(0,p.RE)(new f.Api.messages.TranslateText({peer:(0,y.h6)(n.id,n.accessHash),id:i,toLang:s}))}else{const{text:n,toLanguageCode:i}=e;t=await(0,p.RE)(new f.Api.messages.TranslateText({text:n.map((e=>(0,y.LU)(e))),toLang:i}))}if(!t)return;const i=t.result.map((e=>(0,h.RI)(e)));return n&&qe({"@type":"updateMessageTranslations",chatId:e.chat.id,messageIds:e.messageIds,translations:i,toLanguageCode:e.toLanguageCode}),i}let Bt,Dt,xt,Nt;async function Ht({id:e,accessHash:t}){const n=(0,y.yA)(e,t);if(!(n instanceof f.Api.InputUser))return;const i=await(0,p.RE)(new f.Api.users.GetFullUser({id:n}));if(!i)return;Jt(i),(0,A.aK)(i.users[0],!0),i.fullUser.profilePhoto instanceof f.Api.Photo&&(o.ZP.photos[i.fullUser.profilePhoto.id.toString()]=i.fullUser.profilePhoto),i.fullUser.personalPhoto instanceof f.Api.Photo&&(o.ZP.photos[i.fullUser.personalPhoto.id.toString()]=i.fullUser.personalPhoto),i.fullUser.fallbackPhoto instanceof f.Api.Photo&&(o.ZP.photos[i.fullUser.fallbackPhoto.id.toString()]=i.fullUser.fallbackPhoto);const s=i.fullUser.botInfo;s?.descriptionPhoto instanceof f.Api.Photo&&(o.ZP.photos[s.descriptionPhoto.id.toString()]=s.descriptionPhoto),s?.descriptionDocument instanceof f.Api.Document&&(o.ZP.documents[s.descriptionDocument.id.toString()]=s.descriptionDocument);const a=(0,m.q)(i),r=(0,m.PH)(i.users[0]);return Bt({"@type":"updateUser",id:e,user:{...r,avatarHash:r?.avatarHash||void 0,fullInfo:a.fullInfo}}),a}async function _t(e,t,n){const i=await(0,p.RE)(new f.Api.messages.GetCommonChats({userId:(0,y.yA)(e,t),maxId:n?(0,y.T4)(n,(0,y.Zm)(n)):void 0,limit:s.tRq}));if(!i)return;Jt(i);const a=[],o=[];return i.chats.forEach((e=>{const t=(0,l.vX)(e);t&&(o.push(t),a.push(t.id))})),{chats:o,chatIds:a,isFullyLoaded:a.length<s.tRq}}async function Gt(){const e=await(0,p.RE)(new f.Api.help.GetNearestDc);return e?.country}async function jt(){const e=await(0,p.RE)(new f.Api.contacts.GetTopPeers({correspondents:!0}));if(!(e instanceof f.Api.contacts.TopPeers))return;const t=e.users.map(m.PH).filter((e=>Boolean(e)&&!e.isSelf));return{ids:t.map((({id:e})=>e)),users:t}}async function Ot(){const e=await(0,p.RE)(new f.Api.contacts.GetContacts({hash:c()("0")}));if(!e||e instanceof f.Api.contacts.ContactsNotModified)return;e.users.forEach((e=>{e instanceof f.Api.User&&(0,A.aK)(e,!0)}));const{users:t,userStatusesById:n}=(0,m.YF)(e.users);return{users:t,userStatusesById:n,chats:e.users.map((e=>(0,l.vX)(e))).filter(Boolean)}}async function Ft({users:e}){const t=await(0,p.RE)(new f.Api.users.GetUsers({id:e.map((({id:e,accessHash:t})=>(0,y.h6)(e,t)))}));if(t&&t.length)return t.forEach((e=>{e instanceof f.Api.User&&(0,A.aK)(e,!0)})),(0,m.YF)(t)}async function qt({phone:e,firstName:t,lastName:n}){const i=await(0,p.RE)(new f.Api.contacts.ImportContacts({contacts:[(0,y.Wl)({phone:e||"",firstName:t||"",lastName:n||""})]}));return i instanceof f.Api.contacts.ImportedContacts&&i.users.length&&(0,A.aK)(i.users[0]),i?.imported.length?(0,w.Xo)(i.imported[0].userId,"user"):void 0}function Vt({id:e,accessHash:t,phoneNumber:n="",firstName:i="",lastName:s="",shouldSharePhoneNumber:a=!1}){return(0,p.RE)(new f.Api.contacts.AddContact({id:(0,y.yA)(e,t),firstName:i,lastName:s,phone:n,...a&&{addPhonePrivacyException:a}}),!0)}async function Zt({id:e,accessHash:t}){const n=(0,y.yA)(e,t);n instanceof f.Api.InputUser&&await(0,p.RE)(new f.Api.contacts.DeleteContacts({id:[n]}))&&Bt({"@type":"deleteContact",id:e})}async function Lt(e,t){if(e){const{id:t,accessHash:n}=e,i=await(0,p.RE)(new f.Api.photos.GetUserPhotos({userId:(0,y.yA)(t,n),limit:s.YUe,offset:0,maxId:c()("0")}));if(!i)return;return Jt(i),{photos:i.photos.filter((e=>e instanceof f.Api.Photo)).map((e=>(0,v.lq)(e))),users:i.users.map(m.PH).filter(Boolean)}}const n=await dt({chat:t,type:"profilePhoto",limit:s.YUe});if(!n)return;const{messages:i,users:a}=n;return{photos:i.map((e=>e.content.action.photo)).filter(Boolean),users:a}}function Kt(e){const{id:t,accessHash:n}=e;return(0,p.RE)(new f.Api.messages.ReportSpam({peer:(0,y.h6)(t,n)}),!0)}function Wt(e,t){return(0,p.RE)(new f.Api.account.UpdateEmojiStatus({emojiStatus:(0,y.fv)(e,t)}),!0)}function Jt(e){"chats"in e&&(0,A.eQ)(e.chats),"photos"in e&&e.photos.forEach(A.Hh),"users"in e&&(0,A.eQ)(e.users)}async function Xt({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetEmojiStickers({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.AllStickersNotModified))return t.sets.forEach((e=>{(e.thumbs?.length||e.thumbDocumentId)&&(o.ZP.stickerSets[String(e.id)]=e)})),{hash:String(t.hash),sets:t.sets.map(b.jV)}}async function zt({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetAllStickers({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.AllStickersNotModified))return t.sets.forEach((e=>{e.thumbs?.length&&(o.ZP.stickerSets[String(e.id)]=e)})),{hash:String(t.hash),sets:t.sets.map(b.jV)}}async function Qt({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetRecentStickers({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.RecentStickersNotModified))return{hash:String(t.hash),stickers:(0,b.bV)(t.stickers.slice(0,s.tK3))}}async function $t({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetFavedStickers({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.FavedStickersNotModified))return{hash:String(t.hash),stickers:(0,b.bV)(t.stickers)}}async function Yt({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetFeaturedStickers({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.FeaturedStickersNotModified))return{hash:String(t.hash),isPremium:Boolean(t.premium),sets:t.sets.map(b.Qb)}}async function en(){const e=await(0,p.RE)(new f.Api.messages.GetFeaturedEmojiStickers({hash:c()(0)}));if(e&&!(e instanceof f.Api.messages.FeaturedStickersNotModified))return e.sets.forEach((({set:e})=>{e.thumbDocumentId&&(o.ZP.stickerSets[String(e.id)]=e)})),{isPremium:Boolean(e.premium),sets:e.sets.map(b.Qb)}}async function tn({sticker:e,unfave:t}){const n=new f.Api.messages.FaveSticker({id:(0,y.J4)(e),unfave:t});await(0,p.RE)(n)&&Dt({"@type":"updateFavoriteStickers"})}function nn({sticker:e}){const t=new f.Api.messages.SaveRecentSticker({id:(0,y.J4)(e),unsave:!0});return(0,p.RE)(t)}function sn(){return(0,p.RE)(new f.Api.messages.ClearRecentStickers)}async function an({stickerSetInfo:e}){if("isMissing"in e)return;const t=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:"id"in e?(0,y.i4)(e.id,e.accessHash):(0,y.ii)(e.shortName)}),void 0,!0);return t instanceof f.Api.messages.StickerSet?(o.ZP.stickerSets[String(t.set.id)]=t.set,{set:(0,b.jV)(t.set),stickers:(0,b.bV)(t.documents),packs:(0,b.yN)(t.packs)}):void 0}async function on({documentId:e}){if(!e.length)return;const t=await(0,p.RE)(new f.Api.messages.GetCustomEmojiDocuments({documentId:e.map((e=>c()(e)))}));return t?(0,b.bV)(t):void 0}async function rn(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetAnimatedEmoji}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function dn(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetAnimatedEmojiAnimations}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function un(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetEmojiGenericAnimations}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function cn(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetPremiumGifts}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function fn(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetEmojiDefaultTopicIcons}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function pn(){const e=await(0,p.RE)(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetEmojiDefaultStatuses}));if(e instanceof f.Api.messages.StickerSet)return{set:(0,b.jV)(e.set),stickers:(0,b.bV)(e.documents)}}async function ln({query:e,hash:t="0"}){const n=await(0,p.RE)(new f.Api.messages.SearchStickerSets({q:e,hash:c()(t)}));if(n&&!(n instanceof f.Api.messages.FoundStickerSetsNotModified))return{hash:String(n.hash),sets:n.sets.map(b.Qb)}}async function hn({hash:e="0"}){const t=await(0,p.RE)(new f.Api.messages.GetSavedGifs({hash:c()(e)}));if(t&&!(t instanceof f.Api.messages.SavedGifsNotModified))return{hash:String(t.hash),gifs:In(t.gifs)}}function mn({gif:e,shouldUnsave:t}){const n=new f.Api.messages.SaveGif({id:(0,y.J4)(e),unsave:t});return(0,p.RE)(n,!0)}async function gn({stickerSetId:e,accessHash:t}){await(0,p.RE)(new f.Api.messages.InstallStickerSet({stickerset:(0,y.i4)(e,t)}))&&Dt({"@type":"updateStickerSet",id:e,stickerSet:{installedDate:Date.now()}})}async function yn({stickerSetId:e,accessHash:t}){await(0,p.RE)(new f.Api.messages.UninstallStickerSet({stickerset:(0,y.i4)(e,t)}))&&Dt({"@type":"updateStickerSet",id:e,stickerSet:{installedDate:void 0}})}async function An({query:e,offset:t="",username:n=s.mVS}){if(!xt){const e=await(0,p.RE)(new f.Api.contacts.ResolveUsername({username:n}));if(!(e&&e.users[0]instanceof f.Api.User))return;xt=new f.Api.InputUser({userId:e.peer.userId,accessHash:e.users[0].accessHash})}const i=await(0,p.RE)(new f.Api.messages.GetInlineBotResults({bot:xt,peer:new f.Api.InputPeerEmpty,query:e,offset:t}));if(!i)return;const a=i.results.map((e=>{if(e instanceof f.Api.BotInlineMediaResult)return e.document})).filter(Boolean);return{nextOffset:i.nextOffset,gifs:In(a)}}async function wn({emoji:e,hash:t="0"}){const n=await(0,p.RE)(new f.Api.messages.GetStickers({emoticon:e,hash:c()(t)}));if(n&&!(n instanceof f.Api.messages.StickersNotModified))return{stickers:(0,b.bV)(n.stickers),hash:String(n.hash)}}async function vn({language:e,fromVersion:t}){const n=await(0,p.RE)(new f.Api.messages.GetEmojiKeywordsDifference({langCode:e,fromVersion:t}));if(n)return{language:n.langCode,version:n.version,keywords:n.keywords.reduce(((e,t)=>(e[t.keyword]=t.emoticons,e)),{})}}async function bn(e="0"){const t=await(0,p.RE)(new f.Api.account.GetRecentEmojiStatuses({hash:c()(e)}));if(!t||t instanceof f.Api.account.EmojiStatusesNotModified)return;const n=t.statuses.slice(0,s.O58).map(m.wj).filter(Boolean).map((({documentId:e})=>e)),i=await on({documentId:n});return{hash:String(t.hash),emojiStatuses:i}}function In(e){return e.map((e=>{if(e instanceof f.Api.Document){const t=(0,h.gi)(e);if(t)return o.ZP.documents[String(e.id)]=e,t}})).filter(Boolean)}const Sn=new Set([s.WfZ,"USERNAME_INVALID"]);async function Pn({username:e}){try{return{result:await(0,p.RE)(new f.Api.channels.CheckUsername({channel:new f.Api.InputChannelEmpty,username:e}),void 0,!0),error:void 0}}catch(e){const t=e.message;if(Sn.has(t))return{result:!1,error:t};throw e}}async function Cn({chat:e,username:t}){const n=await(0,p.RE)(new f.Api.channels.UpdateUsername({channel:(0,y.yA)(e.id,e.accessHash),username:t})),i=e.usernames?e.usernames.map((e=>e.isEditable?{...e,username:t}:e)):[{username:t,isEditable:!0,isActive:!0}];return n&&Nt({"@type":"updateChat",id:e.id,chat:{usernames:i}}),n}async function Mn({chat:e,usageLimit:t,expireDate:n}){const i=await(0,p.RE)(new f.Api.messages.ExportChatInvite({peer:(0,y.h6)(e.id,e.accessHash),usageLimit:t,expireDate:n}));if(i instanceof f.Api.ChatInviteExported)return Nt({"@type":"updateChatFullInfo",id:e.id,fullInfo:{inviteLink:i.link}}),i.link}async function En({peer:e,admin:t,limit:n=0,isRevoked:i}){const s=await(0,p.RE)(new f.Api.messages.GetExportedChatInvites({peer:(0,y.h6)(e.id,e.accessHash),adminId:(0,y.yA)(t.id,t.accessHash),limit:n,revoked:i||void 0}));if(s)return(0,A.eQ)(s.users),{invites:s.invites.filter((e=>e instanceof f.Api.ChatInviteExported)).map(l.a0),users:s.users.map(m.PH).filter(Boolean)}}async function Rn({peer:e,isRevoked:t,link:n,expireDate:i,usageLimit:s,isRequestNeeded:a,title:o}){const r=await(0,p.RE)(new f.Api.messages.EditExportedChatInvite({link:n,peer:(0,y.h6)(e.id,e.accessHash),expireDate:i,usageLimit:a?void 0:s,requestNeeded:a,title:o,revoked:t||void 0}));if(r){if((0,A.eQ)(r.users),r instanceof f.Api.messages.ExportedChatInvite&&r.invite instanceof f.Api.ChatInviteExported){const e=(0,l.a0)(r.invite);return{oldInvite:e,newInvite:e,users:r.users.map(m.PH).filter(Boolean)}}if(r instanceof f.Api.messages.ExportedChatInviteReplaced&&r.invite instanceof f.Api.ChatInviteExported&&r.newInvite instanceof f.Api.ChatInviteExported)return{oldInvite:(0,l.a0)(r.invite),newInvite:(0,l.a0)(r.newInvite),users:r.users.map(m.PH).filter(Boolean)}}}async function Un({peer:e,expireDate:t,usageLimit:n,isRequestNeeded:i,title:s}){const a=await(0,p.RE)(new f.Api.messages.ExportChatInvite({peer:(0,y.h6)(e.id,e.accessHash),expireDate:t,usageLimit:i?void 0:n,requestNeeded:i||void 0,title:s}));if(a instanceof f.Api.ChatInviteExported)return(0,l.a0)(a)}async function kn({peer:e,link:t}){return await(0,p.RE)(new f.Api.messages.DeleteExportedChatInvite({peer:(0,y.h6)(e.id,e.accessHash),link:t}))}async function Tn({peer:e,admin:t}){return await(0,p.RE)(new f.Api.messages.DeleteRevokedExportedChatInvites({peer:(0,y.h6)(e.id,e.accessHash),adminId:(0,y.yA)(t.id,t.accessHash)}))}async function Bn({peer:e,link:t,offsetDate:n=0,offsetUser:i,limit:s=0,isRequested:a}){const o=await(0,p.RE)(new f.Api.messages.GetChatInviteImporters({peer:(0,y.h6)(e.id,e.accessHash),link:t,offsetDate:n,offsetUser:i?(0,y.yA)(i.id,i.accessHash):new f.Api.InputUserEmpty,limit:s,requested:a||void 0}));if(!o)return;const r=o.users.map((e=>(0,m.PH)(e))).filter(Boolean);return(0,A.eQ)(o.users),{importers:o.importers.map((e=>(0,l.Jm)(e))),users:(0,g.ee)(r,"id")}}function Dn({peer:e,user:t,isApproved:n}){return(0,p.RE)(new f.Api.messages.HideChatJoinRequest({peer:(0,y.h6)(e.id,e.accessHash),userId:(0,y.yA)(t.id,t.accessHash),approved:n||void 0}),!0)}function xn({peer:e,isApproved:t,link:n}){return(0,p.RE)(new f.Api.messages.HideAllChatJoinRequests({peer:(0,y.h6)(e.id,e.accessHash),approved:t||void 0,link:n}),!0)}function Nn(e){const{id:t,accessHash:n}=e;return(0,p.RE)(new f.Api.messages.HidePeerSettingsBar({peer:(0,y.h6)(t,n)}))}const Hn={EMAIL_UNCONFIRMED:"Email unconfirmed",EMAIL_HASH_EXPIRED:"Email hash expired",NEW_SALT_INVALID:"The new salt is invalid",NEW_SETTINGS_INVALID:"The new password settings are invalid",CODE_INVALID:"Invalid Code",PASSWORD_HASH_INVALID:"Invalid Password"},_n={};let Gn;async function jn(){const e=await(0,p.RE)(new f.Api.account.GetPassword);if(!e)return;const{hint:t,hasPassword:n}=e;return{hint:t,hasPassword:n}}function On(e){return Gn({"@type":"updateTwoFaStateWaitCode",length:e}),new Promise(((e,t)=>{_n.resolve=e,_n.reject=t}))}async function Fn(e){try{return await(0,p.IE)({isCheckPassword:!0,currentPassword:e}),!0}catch(e){return Kn(e),!1}}async function qn(e){try{return await(0,p.IE)({currentPassword:e}),!0}catch(e){return Kn(e),!1}}async function Vn(e,t,n,i){try{return await(0,p.IE)({currentPassword:e,newPassword:t,hint:n,email:i,emailCodeCallback:On,onEmailCodeError:Kn}),!0}catch(e){return Kn(e),!1}}async function Zn(e,t){try{return await(0,p.IE)({currentPassword:e,newPassword:e,email:t,emailCodeCallback:On,onEmailCodeError:Kn}),!0}catch(e){return Kn(e),!1}}function Ln(e){_n.resolve(e)}function Kn(e){let t;if(e instanceof f.errors.FloodWaitError){const n=Math.ceil(Number(e.seconds)/60/60);t="Too many attempts. Try again in "+(n>1?`${n} hours`:"an hour")}else t=Hn[e.message];t||(t="Unexpected Error",s.eMD&&console.error(e)),Gn({"@type":"updateTwoFaError",message:t})}var Wn=n(6999),Jn=n(94830),Xn=n(93844);let zn;async function Qn({chatId:e,accessHash:t,messageId:n,data:i,isGame:s}){const a=await(I.Z.getCurrentAccount()?.sendPduWithCallback(new Ge.NJ({chatId:e,accessHash:t,messageId:n,data:i,isGame:s}).pack()));if(a)return Xn.Z.parseMsg(a)}async function $n(){const e=await(0,p.RE)(new f.Api.contacts.GetTopPeers({botsInline:!0}));if(!(e instanceof f.Api.contacts.TopPeers))return;const t=e.users.map(m.PH).filter(Boolean);return{ids:t.map((({id:e})=>e)),users:t}}async function Yn({username:e}){const t=await(0,p.RE)(new f.Api.contacts.ResolveUsername({username:e}));if(t&&t.users[0]instanceof f.Api.User&&t.users[0].bot&&t.users[0].botInlinePlaceholder)return(0,A.aK)(t.users[0]),{user:(0,m.PH)(t.users[0]),chat:(0,l.vX)(t.users[0])}}async function ei({bot:e,chat:t,query:n,offset:i=""}){const s=await(0,p.RE)(new f.Api.messages.GetInlineBotResults({bot:(0,y.h6)(e.id,e.accessHash),peer:(0,y.h6)(t.id,t.accessHash),query:n,offset:i}));var a,r,d,u;if(s)return(0,A.eQ)(s.users),{isGallery:Boolean(s.gallery),help:e.botPlaceholder,nextOffset:(d=e.usernames[0].username,u=s.nextOffset,"gif"===d&&"0"===u?"":u),switchPm:(0,Wn.Wq)(s.switchPm),users:s.users.map(m.PH).filter(Boolean),results:(a=String(s.queryId),r=s.results,r.map((e=>{return e instanceof f.Api.BotInlineMediaResult?(e.document instanceof f.Api.Document&&(t=e.document,o.ZP.documents[String(t.id)]=t),e.photo instanceof f.Api.Photo&&(n=e.photo,o.ZP.photos[String(n.id)]=n),(0,Wn.cQ)(e,a)):(e.thumb&&(i=e.thumb,o.ZP.webDocuments[i.url]=i),(0,Wn.qh)(e,a));var t,n,i}))),cacheTime:s.cacheTime}}async function ti({chat:e,replyingToTopId:t,resultId:n,queryId:i,replyingTo:s,sendAs:a,isSilent:o,scheduleDate:r}){const d=(0,y.bJ)();await(0,p.RE)(new f.Api.messages.SendInlineBotResult({clearDraft:!0,randomId:d,queryId:c()(i),peer:(0,y.h6)(e.id,e.accessHash),id:n,scheduleDate:r,...t&&{topMsgId:t},...o&&{silent:!0},...s&&{replyToMsgId:s},...a&&{sendAs:(0,y.h6)(a.id,a.accessHash)}}),!0)}async function ni({bot:e,startParam:t}){const n=(0,y.bJ)();await(0,p.RE)(new f.Api.messages.StartBot({bot:(0,y.h6)(e.id,e.accessHash),peer:(0,y.h6)(e.id,e.accessHash),randomId:n,startParam:t}),!0)}async function ii({isSilent:e,peer:t,bot:n,url:i,startParam:s,replyToMessageId:a,threadId:o,theme:r,sendAs:d,isFromBotMenu:u}){return{url:'https://webappcontent.telegram.org/cafe/?mode=menu#tgWebAppData=query_id%3DAAHFY2V2AgAAAMVjZXb0KFJb%26user%3D%257B%2522id%2522%253A6281323461%252C%2522first_name%2522%253A%2522Wai%2522%252C%2522last_name%2522%253A%2522Chat%2522%252C%2522username%2522%253A%2522wai_chat%2522%252C%2522language_code%2522%253A%2522en%2522%257D%26auth_date%3D1680293757%26hash%3D513a7167671bc1e80c1d95c168231a1a4f32511942a2bfae25c2640e1c925a7f&tgWebAppVersion=6.4&tgWebAppPlatform=webz&tgWebAppThemeParams=%7B"bg_color"%3A"%23212121"%2C"text_color"%3A"%23ffffff"%2C"hint_color"%3A"%23aaaaaa"%2C"link_color"%3A"%238774e1"%2C"button_color"%3A"%238774e1"%2C"button_text_color"%3A"%23ffffff"%2C"secondary_bg_color"%3A"%230f0f0f"%7D',queryId:"sss"}}async function si({bot:e,url:t,theme:n}){const i=await(0,p.RE)(new f.Api.messages.RequestSimpleWebView({url:t,bot:(0,y.h6)(e.id,e.accessHash),themeParams:n?(0,y.VC)(n):void 0,platform:"webz"}));return i?.url}function ai({isSilent:e,peer:t,bot:n,queryId:i,replyToMessageId:s,threadId:a,sendAs:o}){return(0,p.RE)(new f.Api.messages.ProlongWebView({silent:e||void 0,peer:(0,y.h6)(t.id,t.accessHash),bot:(0,y.h6)(n.id,n.accessHash),queryId:c()(i),replyToMsgId:s,...a&&{topMsgId:a},...o&&{sendAs:(0,y.h6)(o.id,o.accessHash)}}))}async function oi({bot:e,buttonText:t,data:n}){const i=(0,y.bJ)();await(0,p.RE)(new f.Api.messages.SendWebViewData({bot:(0,y.h6)(e.id,e.accessHash),buttonText:t,data:n,randomId:i}),!0)}async function ri({hash:e}){const t=await(0,p.RE)(new f.Api.messages.GetAttachMenuBots({hash:e?c()(e):void 0}));if(t instanceof f.Api.AttachMenuBots)return(0,A.eQ)(t.users),{hash:t.hash.toString(),bots:(0,g.ee)(t.bots.map(Wn.Ll),"id"),users:t.users.map(m.PH).filter(Boolean)}}async function di({bot:e}){const t=await(0,p.RE)(new f.Api.messages.GetAttachMenuBot({bot:(0,y.h6)(e.id,e.accessHash)}));if(t instanceof f.Api.AttachMenuBotsBot)return(0,A.eQ)(t.users),{bot:(0,Wn.Ll)(t.bot),users:t.users.map(m.PH).filter(Boolean)}}function ui({bot:e,isWriteAllowed:t,isEnabled:n}){return(0,p.RE)(new f.Api.messages.ToggleBotInAttachMenu({bot:(0,y.h6)(e.id,e.accessHash),writeAllowed:t||void 0,enabled:n}))}async function ci({chat:e,buttonId:t,messageId:n}){const i=await(0,p.RE)(new f.Api.messages.RequestUrlAuth({peer:(0,y.h6)(e.id,e.accessHash),buttonId:t,msgId:n}));if(!i)return;const s=(0,Jn.fi)(i);return"request"===s?.type&&zn({"@type":"updateUser",id:s.bot.id,user:s.bot}),s}async function fi({chat:e,messageId:t,buttonId:n,isWriteAllowed:i}){const s=await(0,p.RE)(new f.Api.messages.AcceptUrlAuth({peer:(0,y.h6)(e.id,e.accessHash),msgId:t,buttonId:n,writeAllowed:i||void 0}));if(!s)return;const a=(0,Jn.fi)(s);return"request"===a?.type&&zn({"@type":"updateUser",id:a.bot.id,user:a.bot}),a}async function pi({url:e}){const t=await(0,p.RE)(new f.Api.messages.RequestUrlAuth({url:e}));if(!t)return;const n=(0,Jn.fi)(t);return"request"===n?.type&&zn({"@type":"updateUser",id:n.bot.id,user:n.bot}),n}async function li({url:e,isWriteAllowed:t}){const n=await(0,p.RE)(new f.Api.messages.AcceptUrlAuth({url:e,writeAllowed:t||void 0}));if(!n)return;const i=(0,Jn.fi)(n);return"request"===i?.type&&zn({"@type":"updateUser",id:i.bot.id,user:i.bot}),i}var hi=n(14288),mi=n(48764).Buffer;let gi;async function yi({call:e}){const t=await(0,p.RE)(new f.Api.phone.GetGroupCall({call:(0,y.xU)(e)}));if(!t)return;(0,A.eQ)(t.users),(0,A.eQ)(t.chats);const n=t.users.map(m.PH).filter(Boolean),i=t.chats.map((e=>(0,l.vX)(e))).filter(Boolean);return{groupCall:(0,hi.vp)(t.call),users:n,chats:i}}function Ai({call:e}){return(0,p.RE)(new f.Api.phone.DiscardGroupCall({call:(0,y.xU)(e)}),!0)}function wi({call:e,participant:t,muted:n,presentationPaused:i,videoStopped:s,videoPaused:a,volume:o,raiseHand:r}){return(0,p.RE)(new f.Api.phone.EditGroupCallParticipant({call:(0,y.xU)(e),participant:(0,y.h6)(t.id,t.accessHash),...void 0!==s&&{videoStopped:s},...void 0!==a&&{videoPaused:a},...void 0!==n&&{muted:n},...void 0!==i&&{presentationPaused:i},...void 0!==r&&{raiseHand:r},...void 0!==o&&{volume:o}}),!0)}function vi({groupCall:e,title:t}){return(0,p.RE)(new f.Api.phone.EditGroupCallTitle({title:t,call:(0,y.xU)(e)}),!0)}async function bi({call:e,canSelfUnmute:t}){const n=await(0,p.RE)(new f.Api.phone.ExportGroupCallInvite({canSelfUnmute:t||void 0,call:(0,y.xU)(e)}));if(n)return n.link}async function Ii({call:e,offset:t}){const n=await(0,p.RE)(new f.Api.phone.GetGroupParticipants({call:(0,y.xU)(e),ids:[],sources:[],offset:t||"",limit:s.ASX}));if(!n)return;(0,A.eQ)(n.users),(0,A.eQ)(n.chats);const i=n.users.map(m.PH).filter(Boolean),a=n.chats.map((e=>(0,l.vX)(e))).filter(Boolean);return gi({"@type":"updateGroupCallParticipants",groupCallId:e.id,participants:n.participants.map(hi.Au),nextOffset:n.nextOffset}),{users:i,chats:a}}function Si({call:e}){return(0,p.RE)(new f.Api.phone.LeaveGroupCall({call:(0,y.xU)(e)}),!0)}async function Pi({call:e,inviteHash:t,params:n}){const i=await(0,p.RE)(new f.Api.phone.JoinGroupCall({call:(0,y.xU)(e),joinAs:new f.Api.InputPeerSelf,muted:!0,videoStopped:!0,params:new f.Api.DataJSON({data:JSON.stringify(n)}),inviteHash:t}));if(i&&i instanceof f.Api.Updates){const e=i.updates.find((e=>e instanceof f.Api.UpdateGroupCall));if(!(e instanceof f.Api.UpdateGroupCall))return;return(0,hi.vp)(e.call)}}async function Ci({peer:e}){const t=(0,y.HD)(),n=await(0,p.RE)(new f.Api.phone.CreateGroupCall({peer:(0,y.h6)(e.id,e.accessHash),randomId:t}));if(n&&n instanceof f.Api.Updates){const e=n.updates[0];if(e instanceof f.Api.UpdateGroupCall)return(0,hi.vp)(e.call)}}function Mi({call:e,params:t}){return(0,p.RE)(new f.Api.phone.JoinGroupCallPresentation({call:(0,y.xU)(e),params:new f.Api.DataJSON({data:JSON.stringify(t)})}),!0)}function Ei({call:e,subscribed:t}){return(0,p.RE)(new f.Api.phone.ToggleGroupCallStartSubscription({call:(0,y.xU)(e),subscribed:t}),!0,void 0,void 0,void 0,!0)}function Ri({call:e}){return(0,p.RE)(new f.Api.phone.LeaveGroupCallPresentation({call:(0,y.xU)(e)}),!0)}async function Ui(){const e=await(0,p.RE)(new f.Api.messages.GetDhConfig({}));if(e&&!(e instanceof f.Api.messages.DhConfigNotModified))return{g:e.g,p:Array.from(e.p),random:Array.from(e.random)}}function ki({call:e,isBusy:t}){return(0,p.RE)(new f.Api.phone.DiscardCall({peer:(0,y.AY)(e),reason:t?new f.Api.PhoneCallDiscardReasonBusy:new f.Api.PhoneCallDiscardReasonHangup}),!0)}async function Ti({user:e,gAHash:t,isVideo:n}){const i=await(0,p.RE)(new f.Api.phone.RequestCall({randomId:(0,y.HD)(),userId:(0,y.h6)(e.id,e.accessHash),gAHash:mi.from(t),...n&&{video:!0},protocol:(0,hi.n$)()}));if(!i)return;const s=(0,hi.eP)(i.phoneCall);return gi({"@type":"updatePhoneCall",call:s}),(0,A.eQ)(i.users),{users:i.users.map(m.PH).filter(Boolean)}}function Bi({call:e,rating:t,comment:n}){return(0,p.RE)(new f.Api.phone.SetCallRating({rating:t,peer:(0,y.AY)(e),comment:n}),!0)}function Di({call:e}){return(0,p.RE)(new f.Api.phone.ReceivedCall({peer:(0,y.AY)(e)}))}async function xi({call:e,gB:t}){const n=await(0,p.RE)(new f.Api.phone.AcceptCall({peer:(0,y.AY)(e),gB:mi.from(t),protocol:(0,hi.n$)()}));if(n)return e=(0,hi.eP)(n.phoneCall),gi({"@type":"updatePhoneCall",call:e}),(0,A.eQ)(n.users),{users:n.users.map(m.PH).filter(Boolean)}}async function Ni({call:e,gA:t,keyFingerprint:n}){const i=await(0,p.RE)(new f.Api.phone.ConfirmCall({peer:(0,y.AY)(e),gA:mi.from(t),keyFingerprint:c()(n),protocol:(0,hi.n$)()}));if(i)return e=(0,hi.eP)(i.phoneCall),gi({"@type":"updatePhoneCall",call:e}),(0,A.eQ)(i.users),{users:i.users.map(m.PH).filter(Boolean)}}function Hi({data:e,call:t}){return(0,p.RE)(new f.Api.phone.SendSignalingData({data:mi.from(e),peer:(0,y.AY)(t)}))}var _i=n(81900);function Gi(e){if(e)return Object.values(e).map((e=>({id:e.id,title:e.title,amount:e.prices.reduce(((e,t)=>e+t.amount.toJSNumber()),0),prices:e.prices.map((({label:e,amount:t})=>({label:e,amount:t.toJSNumber()})))})))}function ji(e){const{invoice:t,info:n,shipping:i,currency:s,totalAmount:a,credentialsTitle:o,tipAmount:r}=e,{shippingAddress:d,phone:u,name:c}=n||{},{prices:f}=t,p=f.map((({label:e,amount:t})=>({label:e,amount:t.toJSNumber()})));let l,h;return i&&(l=i.prices.map((({label:e,amount:t})=>({label:e,amount:t.toJSNumber()}))),h=i.title),{currency:s,prices:p,info:{shippingAddress:d,phone:u,name:c},totalAmount:a.toJSNumber(),credentialsTitle:o,shippingPrices:l,shippingMethod:h,tipAmount:r?r.toJSNumber():0}}function Oi(e){const{formId:t,canSaveCredentials:n,passwordMissing:i,providerId:s,nativeProvider:a,nativeParams:o,savedInfo:r,invoice:d,savedCredentials:u}=e,{test:c,nameRequested:f,phoneRequested:p,emailRequested:l,shippingAddressRequested:h,flexible:m,phoneToProvider:g,emailToProvider:y,currency:A,prices:w}=d,v=w.map((({label:e,amount:t})=>({label:e,amount:t.toJSNumber()}))),{shippingAddress:b}=r||{},I=r?(0,_i.f)(r):void 0;I&&b&&(I.shippingAddress=(0,_i.f)(b));const S=o?JSON.parse(o.data):{};return{canSaveCredentials:n,isPasswordMissing:i,formId:String(t),providerId:String(s),nativeProvider:a,savedInfo:I,invoiceContainer:{isTest:c,isNameRequested:f,isPhoneRequested:p,isEmailRequested:l,isShippingAddressRequested:h,isFlexible:m,shouldSendPhoneToProvider:g,shouldSendEmailToProvider:y,currency:A,prices:v},nativeParams:{needCardholderName:Boolean(S?.need_cardholder_name),needCountry:Boolean(S?.need_country),needZip:Boolean(S?.need_zip),publishableKey:S?.publishable_key,publicToken:S?.public_token},...u&&{savedCredentials:(P=u,P.map((({id:e,title:t})=>({id:e,title:t}))))}};var P}function Fi(e){const{invoice:t,description:n,title:i,photo:s}=e,{test:a,currency:o,prices:r,recurring:d,recurringTermsUrl:u,maxTipAmount:c,suggestedTipAmounts:f}=t,p=r.reduce(((e,t)=>e+t.amount.toJSNumber()),0);return{text:n,title:i,photo:(0,h.Bc)(s),amount:p,currency:o,isTest:a,isRecurring:d,recurringTermsUrl:u,maxTipAmount:c?.toJSNumber(),...f&&{suggestedTipAmounts:f.map((e=>e.toJSNumber()))}}}function qi(e){const{statusText:t,statusEntities:n,videos:i,videoSections:s,periodOptions:a}=e;return{statusText:t,statusEntities:n.map(h.Pb),videoSections:s,videos:i.map(h.Qu).filter(Boolean),options:a.map(Vi)}}function Vi(e){const{current:t,canPurchaseUpgrade:n,currency:i,amount:s,botUrl:a,months:o}=e;return{isCurrent:t,canPurchaseUpgrade:n,currency:i,amount:s.toString(),botUrl:a,months:o}}let Zi;async function Li({inputInvoice:e,requestInfo:t,shouldSave:n}){const i=await(0,p.RE)(new f.Api.payments.ValidateRequestedInfo({invoice:(0,y.Oh)(e),save:n||void 0,info:(0,y.ZV)(t)}));if(!i)return;const{id:s,shippingOptions:a}=i;return s?{id:s,shippingOptions:Gi(a)}:void 0}async function Ki({inputInvoice:e,formId:t,requestedInfoId:n,shippingOptionId:i,credentials:s,savedCredentialId:a,temporaryPassword:o,tipAmount:r}){const d=o&&a?new f.Api.InputPaymentCredentialsSaved({id:a,tmpPassword:(0,A.Tf)(o)}):new f.Api.InputPaymentCredentials({save:s.save,data:new f.Api.DataJSON({data:JSON.stringify(s.data)})}),u=await(0,p.RE)(new f.Api.payments.SendPaymentForm({formId:c()(t),invoice:(0,y.Oh)(e),requestedInfoId:n,shippingOptionId:i,credentials:d,...r&&{tipAmount:c()(r)}}));if(!(u instanceof f.Api.payments.PaymentVerificationNeeded))return Boolean(u);Zi({"@type":"updatePaymentVerificationNeeded",url:u.url})}async function Wi(e){const t=await(0,p.RE)(new f.Api.payments.GetPaymentForm({invoice:(0,y.Oh)(e)}));if(t)return t.photo&&(o.ZP.webDocuments[t.photo.url]=t.photo),(0,A.eQ)(t.users),{form:Oi(t),invoice:Fi(t),users:t.users.map(m.PH).filter(Boolean)}}async function Ji(e,t){const n=await(0,p.RE)(new f.Api.payments.GetPaymentReceipt({peer:(0,y.h6)(e.id,e.accessHash),msgId:t}));if(n)return(0,A.eQ)(n.users),{receipt:ji(n),users:n.users.map(m.PH).filter(Boolean)}}async function Xi(){const e=await(0,p.RE)(new f.Api.help.GetPremiumPromo);if(!e)return;(0,A.eQ)(e.users);const t=e.users.map(m.PH).filter(Boolean);return e.videos.forEach((e=>{e instanceof f.Api.Document&&(o.ZP.documents[e.id.toString()]=e)})),{promo:qi(e),users:t}}async function zi(e){const t=await function(e,t){return(0,p.un)(e,void 0)}(e);if(t)return"error"in t?t:{value:(0,A.TC)(t.tmpPassword),validUntil:t.validUntil}}async function Qi({peer:e,reason:t,description:n}){return await(0,p.RE)(new f.Api.account.ReportPeer({peer:(0,y.h6)(e.id,e.accessHash),reason:(0,y.bQ)(t),message:n}))}async function $i({peer:e,photo:t,reason:n,description:i}){const s=(0,y.NA)(t);if(s)return await(0,p.RE)(new f.Api.account.ReportProfilePhoto({peer:(0,y.h6)(e.id,e.accessHash),photoId:s,reason:(0,y.bQ)(n),message:i}))}async function Yi({hash:e,areCallsEnabled:t,areSecretChatsEnabled:n}){return await(0,p.RE)(new f.Api.account.ChangeAuthorizationSettings({hash:c()(e),...void 0!==t?{callRequestsDisabled:!t}:void 0,...void 0!==n?{encryptedRequestsDisabled:!n}:void 0}))}async function es({days:e}){return await(0,p.RE)(new f.Api.account.SetAuthorizationTTL({authorizationTtlDays:e}))}var ts=n(48764).Buffer;function ns(e){const{emojies_sounds:t}=e;return t?Object.keys(t).reduce(((e,n)=>{const i=t[n];return o.ZP.documents[i.id]=new f.Api.Document({id:c()(i.id),accessHash:c()(i.access_hash),dcId:1,mimeType:"audio/ogg",fileReference:ts.from(atob(i.file_reference_base64.replace(/-/g,"+").replace(/_/g,"/"))),size:c()(0)}),e[n]=i.id,e}),{}):{}}function is(e,t,n){return[e[`${t}_default`]||s.prK[n][0],e[`${t}_premium`]||s.prK[n][1]]}var ss=n(58569);const as=["ar","fa","id","ko","uz","en"];async function os({firstName:e,lastName:t,about:n}){let i=await(I.Z.getCurrentAccount()?.sendPduWithCallback(new ss.Z9({firstName:e||"",lastName:t||"",about:n||""}).pack()));if(!i)return!1;const{err:s}=ss.Ns.parseMsg(i);return s===E.wb.NO_ERROR}async function rs(e){try{return{result:await(0,p.RE)(new f.Api.account.CheckUsername({username:e}),void 0,!0),error:void 0}}catch(e){const t=e.message;if(Sn.has(t))return{result:!1,error:t};throw e}}async function ds(e){const t=await(I.Z.getCurrentAccount()?.sendPduWithCallback(new ss.nv({username:e}).pack()));if(!t)return!1;const{err:n}=ss.AL.parseMsg(t);return n===E.wb.NO_ERROR}async function us(e,t){const n=e?(0,y.NA)(e):new f.Api.InputPhotoEmpty,i=await(0,p.RE)(new f.Api.photos.UpdateProfilePhoto({id:n,...t?{fallback:!0}:void 0}));if(i)return(0,A.eQ)(i.users),i.photo instanceof f.Api.Photo?((0,A.Hh)(i.photo),{users:i.users.map(m.PH).filter(Boolean),photo:(0,v.lq)(i.photo)}):void 0}async function cs(e,t,n=!1,i=0,a){const o=await(0,_e.uploadFileV1)({file:e,workers:s.eLN}),r=o.id.toString();if(I.Z.getCurrentAccount()?.getSession())return{avatarHash:r,photos:[{id:r,thumbnail:{dataUri:a,width:640,height:640},sizes:[{width:160,height:160,type:"s"},{width:320,height:320,type:"m"},{width:640,height:640,type:"x"}]}]};let d=await(I.Z.getCurrentAccount()?.sendPduWithCallback(new ss.CZ({id:o.id.toString(),is_video:n,thumbnail:a}).pack()));if(!d)return!1;const{err:u,payload:c}=ss.U$.parseMsg(d);return u==E.wb.NO_ERROR&&JSON.parse(c)}async function fs({file:e,isSuggest:t,user:n,thumbnail:i}){const s=e?await(0,_e.uploadFileV1)({file:e}):void 0;if(I.Z.getCurrentAccount()?.getSession()){const e=s?.id.toString();return{users:[{...n,avatarHash:e,photos:[{id:e,thumbnail:{dataUri:i,width:640,height:640},sizes:[{width:160,height:160,type:"s"},{width:320,height:320,type:"m"},{width:640,height:640,type:"x"}]}]}]}}const a=await(0,p.RE)(new f.Api.photos.UploadContactProfilePhoto({userId:(0,y.yA)(n.id,n.accessHash),file:s,...t?{suggest:!0}:{save:!0}}));if(!a)return;(0,A.eQ)(a.users);const o=a.users.map(m.PH).filter(Boolean);return a.photo instanceof f.Api.Photo?((0,A.Hh)(a.photo),{users:o,photo:(0,v.lq)(a.photo)}):{users:o,photo:void 0}}async function ps(e){const t=e.map(y.NA).filter(Boolean),n=await(0,p.RE)(new f.Api.photos.DeletePhotos({id:t}),!0);return n&&e.forEach((e=>{delete o.ZP.photos[e.id]})),n}async function ls(){const e=await(0,p.RE)(new f.Api.account.GetWallPapers({hash:c()("0")}));if(!e||e instanceof f.Api.account.WallPapersNotModified)return;const t=e.wallpapers.filter((e=>e instanceof f.Api.WallPaper&&e.document instanceof f.Api.Document&&!e.pattern&&"application/x-tgwallpattern"!==e.document.mimeType));return t.forEach((e=>{o.ZP.documents[String(e.document.id)]=e.document})),{wallpapers:t.map(Jn.Y6).filter(Boolean)}}async function hs(e){const t=await(0,p.cT)(e),n=await(0,p.RE)(new f.Api.account.UploadWallPaper({file:t,mimeType:e.type,settings:new f.Api.WallPaperSettings}));if(!(n&&n instanceof f.Api.WallPaper))return;const i=(0,Jn.Y6)(n);return i?(o.ZP.documents[String(n.document.id)]=n.document,{wallpaper:i}):void 0}async function ms(){const e=await(0,p.RE)(new f.Api.contacts.GetBlocked({limit:s.LCd}));if(e)return Os(e),{users:e.users.map(m.PH).filter(Boolean),chats:e.chats.map((e=>(0,l.vX)(e))).filter(Boolean),blockedIds:e.blocked.map((e=>(0,w.iC)(e.peerId))),totalCount:e instanceof f.Api.contacts.BlockedSlice?e.count:e.blocked.length}}function gs(e,t){return(0,p.RE)(new f.Api.contacts.Block({id:(0,y.h6)(e,t)}))}function ys(e,t){return(0,p.RE)(new f.Api.contacts.Unblock({id:(0,y.h6)(e,t)}))}async function As(){const e=await(0,p.RE)(new f.Api.account.GetAuthorizations);if(e)return{authorizations:(0,g.ee)(e.authorizations.map(Jn.HX),"hash"),ttlDays:e.authorizationTtlDays}}function ws(e){return(0,p.RE)(new f.Api.account.ResetAuthorization({hash:c()(e)}))}function vs(){return(0,p.RE)(new f.Api.auth.ResetAuthorizations)}async function bs(){const e=await(0,p.RE)(new f.Api.account.GetWebAuthorizations);if(e)return(0,A.eQ)(e.users),{users:e.users.map(m.PH).filter(Boolean),webAuthorizations:(0,g.ee)(e.authorizations.map(Jn.ni),"hash")}}function Is(e){return(0,p.RE)(new f.Api.account.ResetWebAuthorization({hash:c()(e)}))}function Ss(){return(0,p.RE)(new f.Api.account.ResetWebAuthorizations)}async function Ps(){const e=await(0,p.RE)(new f.Api.account.GetNotifyExceptions({compareSound:!0}),void 0,void 0,!0);if(e instanceof f.Api.Updates||e instanceof f.Api.UpdatesCombined)return Os(e),e.updates.reduce(((e,t)=>t instanceof f.Api.UpdateNotifySettings&&t.peer instanceof f.Api.NotifyPeer?(e.push((0,Jn.hc)(t.notifySettings,t.peer.peer)),e):e),[])}async function Cs(){const[e,t,n,i]=await Promise.all([(0,p.RE)(new f.Api.account.GetContactSignUpNotification),(0,p.RE)(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyUsers})),(0,p.RE)(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyChats})),(0,p.RE)(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyBroadcasts}))]);if(!t||!n||!i)return!1;const{silent:s,muteUntil:a,showPreviews:o}=t,{silent:r,muteUntil:d,showPreviews:u}=n,{silent:c,muteUntil:l,showPreviews:h}=i;return{hasContactJoinedNotifications:!e,hasPrivateChatsNotifications:!(s||"number"==typeof a&&(0,He.bp)()<a),hasPrivateChatsMessagePreview:o,hasGroupNotifications:!(r||"number"==typeof d&&(0,He.bp)()<d),hasGroupMessagePreview:u,hasBroadcastNotifications:!(c||"number"==typeof l&&(0,He.bp)()<l),hasBroadcastMessagePreview:h}}function Ms(e){return(0,p.RE)(new f.Api.account.SetContactSignUpNotification({silent:e}))}function Es(e,{isSilent:t,shouldShowPreviews:n}){let i;i="contact"===e?new f.Api.InputNotifyUsers:"group"===e?new f.Api.InputNotifyChats:new f.Api.InputNotifyBroadcasts;const a={showPreviews:n,silent:t,muteUntil:t?s.PT8:0};return(0,p.RE)(new f.Api.account.UpdateNotifySettings({peer:i,settings:new f.Api.InputPeerNotifySettings(a)}))}async function Rs(){const e=await(0,p.RE)(new f.Api.langpack.GetLanguages({langPack:s.$OQ}));if(e)return e.map(_i.f)}async function Us({sourceLangPacks:e,langCode:t}){const n=(await Promise.all(e.map((e=>(0,p.RE)(new f.Api.langpack.GetLangPack({langPack:e,langCode:as.includes(t)?`${t}-raw`:t})))))).filter(Boolean).map((e=>(0,g.ee)(e.strings.map(_i.f),"key")));if(n.length)return{langPack:Object.assign({},...n.reverse())}}async function ks({langPack:e,langCode:t,keys:n}){const i=await(0,p.RE)(new f.Api.langpack.GetStrings({langPack:e,langCode:as.includes(t)?`${t}-raw`:t,keys:n}));if(i)return i.map(_i.f)}async function Ts(e){const t=(0,y.fV)(e),n=await(0,p.RE)(new f.Api.account.GetPrivacy({key:t}));if(n)return Os(n),{users:n.users.map(m.PH).filter(Boolean),rules:(0,Jn.jv)(n.rules)}}function Bs(e){const t=(0,p.s3)().session.getAuthKey().getKey();return(0,p.RE)(new f.Api.account.RegisterDevice({tokenType:10,secret:t,appSandbox:!1,otherUids:[],token:e}))}function Ds(e){return(0,p.RE)(new f.Api.account.UnregisterDevice({tokenType:10,otherUids:[],token:e}))}async function xs(e,t){const n=(0,y.fV)(e),i=[];switch(t.allowedUsers&&i.push(new f.Api.InputPrivacyValueAllowUsers({users:t.allowedUsers.map((({id:e,accessHash:t})=>(0,y.yA)(e,t)))})),t.allowedChats&&i.push(new f.Api.InputPrivacyValueAllowChatParticipants({chats:t.allowedChats.map((({id:e})=>(0,y.yA)(e)))})),t.blockedUsers&&i.push(new f.Api.InputPrivacyValueDisallowUsers({users:t.blockedUsers.map((({id:e,accessHash:t})=>(0,y.yA)(e,t)))})),t.blockedChats&&i.push(new f.Api.InputPrivacyValueDisallowChatParticipants({chats:t.blockedChats.map((({id:e})=>(0,y.yA)(e)))})),t.visibility){case"everybody":i.push(new f.Api.InputPrivacyValueAllowAll);break;case"contacts":i.push(new f.Api.InputPrivacyValueAllowContacts);break;case"nonContacts":i.push(new f.Api.InputPrivacyValueDisallowContacts);break;case"nobody":i.push(new f.Api.InputPrivacyValueDisallowAll)}const s=await(0,p.RE)(new f.Api.account.SetPrivacy({key:n,rules:i}));if(s)return Os(s),{users:s.users.map(m.PH).filter(Boolean),rules:(0,Jn.jv)(s.rules)}}async function Ns(e){await(0,p.RE)(new f.Api.account.UpdateStatus({offline:!e}))}async function Hs(){const e=await(0,p.RE)(new f.Api.account.GetContentSettings);if(e)return{isSensitiveEnabled:Boolean(e.sensitiveEnabled),canChangeSensitive:Boolean(e.sensitiveCanChange)}}function _s(e){return(0,p.RE)(new f.Api.account.SetContentSettings({sensitiveEnabled:e||void 0}))}async function Gs(){const e=await(0,p.RE)(new f.Api.help.GetAppConfig);if(e)return function(e){const t=(0,Jn.JA)(e);return{emojiSounds:ns(t),seenByMaxChatMembers:t.chat_read_mark_size_threshold,seenByExpiresAt:t.chat_read_mark_expire_period,autologinDomains:t.autologin_domains||[],autologinToken:t.autologin_token||"",urlAuthDomains:t.url_auth_domains||[],maxUniqueReactions:t.reactions_uniq_max,premiumBotUsername:t.premium_bot_username,premiumInvoiceSlug:t.premium_invoice_slug,premiumPromoOrder:t.premium_promo_order,isPremiumPurchaseBlocked:t.premium_purchase_blocked,defaultEmojiStatusesStickerSetId:t.default_emoji_statuses_stickerset_id,topicsPinnedLimit:t.topics_pinned_limit,maxUserReactionsDefault:t.reactions_user_max_default,maxUserReactionsPremium:t.reactions_user_max_premium,hiddenMembersMinCount:t.hidden_members_group_size_min,canDisplayAutoarchiveSetting:t.autoarchive_setting_available,limits:{uploadMaxFileparts:is(t,"upload_max_fileparts","uploadMaxFileparts"),stickersFaved:is(t,"stickers_faved_limit","stickersFaved"),savedGifs:is(t,"saved_gifs_limit","savedGifs"),dialogFiltersChats:is(t,"dialog_filters_chats_limit","dialogFiltersChats"),dialogFilters:is(t,"dialog_filters_limit","dialogFilters"),dialogFolderPinned:is(t,"dialogs_pinned_limit","dialogFolderPinned"),captionLength:is(t,"caption_length_limit","captionLength"),channels:is(t,"channels_limit","channels"),channelsPublic:is(t,"channels_public_limit","channelsPublic"),aboutLength:is(t,"about_length_limit","aboutLength")}}}(e)}async function js(){const e=await(0,p.RE)(new f.Api.help.GetConfig);if(e)return(0,Jn.me)(e)}function Os(e){(0,A.eQ)(e.users),(0,A.eQ)(e.chats)}async function Fs({langCode:e="en"}){const t=await(0,p.RE)(new f.Api.help.GetCountriesList({langCode:e}));if(t instanceof f.Api.help.CountriesList)return(0,Jn.OH)(t.countries)}async function qs(){const e=await(0,p.RE)(new f.Api.account.GetGlobalPrivacySettings);if(e)return{shouldArchiveAndMuteNewNonContact:Boolean(e.archiveAndMuteNewNoncontactPeers)}}async function Vs({shouldArchiveAndMuteNewNonContact:e}){const t=await(0,p.RE)(new f.Api.account.SetGlobalPrivacySettings({settings:new f.Api.GlobalPrivacySettings({archiveAndMuteNewNoncontactPeers:e})}));if(t)return{shouldArchiveAndMuteNewNonContact:Boolean(t.archiveAndMuteNewNoncontactPeers)}}function Zs({chatId:e,accessHash:t,username:n,isActive:i}){return e?(0,p.RE)(new f.Api.channels.ToggleUsername({channel:(0,y.yA)(e,t),username:n,active:i})):(0,p.RE)(new f.Api.account.ToggleUsername({username:n,active:i}))}function Ls({chatId:e,accessHash:t,usernames:n}){return e?(0,p.RE)(new f.Api.channels.ReorderUsernames({channel:(0,y.yA)(e,t),order:n})):(0,p.RE)(new f.Api.account.ReorderUsernames({order:n}))}function Ks({chat:e,emoticon:t}){return(0,p.RE)(new f.Api.messages.SetTyping({peer:(0,y.h6)(e.id,e.accessHash),action:new f.Api.SendMessageEmojiInteractionSeen({emoticon:t})}))}function Ws({chat:e,emoticon:t,messageId:n,timestamps:i}){return(0,p.RE)(new f.Api.messages.SetTyping({peer:(0,y.h6)(e.id,e.accessHash),action:new f.Api.SendMessageEmojiInteraction({emoticon:t,msgId:n,interaction:new f.Api.DataJSON({data:JSON.stringify({v:1,a:i.map((e=>({t:e,i:1})))})})})}))}async function Js(){const e=await(0,p.RE)(new f.Api.messages.GetAvailableReactions({}));if(e&&!(e instanceof f.Api.messages.AvailableReactionsNotModified))return e.reactions.forEach((e=>{e.staticIcon instanceof f.Api.Document&&(o.ZP.documents[String(e.staticIcon.id)]=e.staticIcon),e.selectAnimation instanceof f.Api.Document&&(o.ZP.documents[String(e.selectAnimation.id)]=e.selectAnimation),e.aroundAnimation instanceof f.Api.Document&&(o.ZP.documents[String(e.aroundAnimation.id)]=e.aroundAnimation),e.centerIcon instanceof f.Api.Document&&(o.ZP.documents[String(e.centerIcon.id)]=e.centerIcon)})),e.reactions.map(h.wo)}function Xs({chat:e,messageId:t,reactions:n}){return(0,p.RE)(new f.Api.messages.SendReaction({reaction:n?.map((e=>(0,y.y7)(e))),peer:(0,y.h6)(e.id,e.accessHash),msgId:t}),!0)}function zs({ids:e,chat:t}){return(0,p.RE)(new f.Api.messages.GetMessagesReactions({id:e,peer:(0,y.h6)(t.id,t.accessHash)}),!0)}async function Qs({chat:e,messageId:t,reaction:n,offset:i}){const a=await(0,p.RE)(new f.Api.messages.GetMessageReactionsList({peer:(0,y.h6)(e.id,e.accessHash),id:t,...n&&{reaction:(0,y.y7)(n)},limit:s.Q8I,...i&&{offset:i}}));if(!a)return;(0,A.eQ)(a.users);const{nextOffset:o,reactions:r,count:d}=a;return{users:a.users.map(m.PH).filter(Boolean),nextOffset:o,reactions:r.map(h.Rj).filter(Boolean),count:d}}function $s({reaction:e}){return(0,p.RE)(new f.Api.messages.SetDefaultReaction({reaction:(0,y.y7)(e)}))}function Ys(e,t){if(e.error)return;const n=JSON.parse(e.json.data),[i,...s]=n.columns,a=n.y_scaled;return{type:t?"area":n.types.y0,zoomToken:e.zoomToken,labelFormatter:n.xTickFormatter,tooltipFormatter:n.xTooltipFormatter,labels:i.slice(1),hideCaption:!n.subchart.show,hasSecondYAxis:a,isStacked:n.stacked&&!a,isPercentage:t,datasets:s.map((e=>{const t=e[0];return{name:n.names[t],color:(i=n.colors[t],i.substring(i.indexOf("#"))),values:e.slice(1)};var i})),...ea(n.subchart.defaultZoom,i.slice(1))}}function ea(e,t){const[n,i]=e;let s=0,a=t.length-1;return t.forEach(((e,t)=>{!s&&e>=n&&(s=t),!a&&e>=i&&(a=t)})),{minimapRange:{begin:Math.max(0,s/(t.length-1)),end:Math.min(1,a/(t.length-1))},labelFromIndex:s,labelToIndex:a}}function ta({current:e,previous:t}){const n=e-t;return{current:e,change:n,...t&&{percentage:(n?Math.abs(n)/t*100:0).toFixed(2)}}}async function na({chat:e}){const t=await(0,p.RE)(new f.Api.stats.GetBroadcastStats({channel:(0,y.yA)(e.id,e.accessHash)}),void 0,void 0,void 0,e.fullInfo.statisticsDcId);var n,i;if(t)return{stats:(n=t,{growthGraph:Ys(n.growthGraph),followersGraph:Ys(n.followersGraph),muteGraph:Ys(n.muteGraph),topHoursGraph:Ys(n.topHoursGraph),languagesGraph:n.languagesGraph.token,viewsBySourceGraph:n.viewsBySourceGraph.token,newFollowersBySourceGraph:n.newFollowersBySourceGraph.token,interactionsGraph:n.interactionsGraph.token,followers:ta(n.followers),viewsPerPost:ta(n.viewsPerPost),sharesPerPost:ta(n.sharesPerPost),enabledNotifications:(i=n.enabledNotifications,{percentage:(i.part/i.total*100).toFixed(2)}),recentTopMessages:n.recentMessageInteractions}),users:[]}}async function ia({chat:e}){const t=await(0,p.RE)(new f.Api.stats.GetMegagroupStats({channel:(0,y.yA)(e.id,e.accessHash)}),void 0,void 0,void 0,e.fullInfo.statisticsDcId);var n,i;if(t)return(0,A.eQ)(t.users),{users:t.users.map(m.PH).filter(Boolean),stats:(n=t,{growthGraph:Ys(n.growthGraph),membersGraph:Ys(n.membersGraph),topHoursGraph:Ys(n.topHoursGraph),languagesGraph:n.languagesGraph.token,messagesGraph:n.messagesGraph.token,actionsGraph:n.actionsGraph.token,period:(i=n.period,{maxDate:i.maxDate,minDate:i.minDate}),members:ta(n.members),viewers:ta(n.viewers),messages:ta(n.messages),posters:ta(n.posters)})}}async function sa({chat:e,messageId:t}){const n=await(0,p.RE)(new f.Api.stats.GetMessageStats({channel:(0,y.yA)(e.id,e.accessHash),msgId:t}),void 0,void 0,void 0,e.fullInfo.statisticsDcId);if(n)return{viewsGraph:Ys(n.viewsGraph)}}async function aa({chat:e,messageId:t,dcId:n}){const i=await(0,p.RE)(new f.Api.stats.GetMessagePublicForwards({channel:(0,y.yA)(e.id,e.accessHash),msgId:t,offsetPeer:new f.Api.InputPeerEmpty}),void 0,void 0,void 0,n);if(i)return"chats"in i&&(0,A.eQ)(i.chats),function(e){if(e&&"messages"in e)return e.messages.map((t=>{const n=(0,w.Xo)(t.peerId.channelId,"channel"),i=e.chats.find((e=>(0,w.Xo)(e.id,"channel")===n));return{messageId:t.id,views:t.views,title:i.title,chat:{id:n,type:"chatTypeChannel",title:i.title,username:i.username,avatarHash:(0,l.eb)(i.photo)}}}))}(i)}async function oa({token:e,x:t,isPercentage:n,dcId:i}){const s=await(0,p.RE)(new f.Api.stats.LoadAsyncGraph({token:e,...t&&{x:c()(t)}}),void 0,void 0,void 0,i);if(s)return Ys(s,n)}var ra=n(59109),da=n.n(ra),ua=n(96748),ca=n.n(ua),fa=n(89618),pa=n.n(fa),la=n(13302),ha=n.n(la),ma=n(48764).Buffer;function ga(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ya,Aa;class wa{constructor(e){this.isOutgoing=e,ga(this,"state",void 0),ga(this,"seq",0),ga(this,"gA",void 0),ga(this,"gB",void 0),ga(this,"p",void 0),ga(this,"random",void 0),ga(this,"waitForState",void 0),ga(this,"resolveState",void 0),this.waitForState=new Promise((e=>{this.resolveState=e}))}async requestCall({p:e,g:t,random:n}){const i=pa().readBigIntFromBuffer(ma.from(e),!1),s=pa().readBigIntFromBuffer(ma.from(n),!1),a=pa().modExp(c()(t),s,i);this.gA=a,this.p=i,this.random=s;const o=await pa().sha256(pa().getByteArray(a));return Array.from(o)}acceptCall({p:e,g:t,random:n}){const i=pa().readBigIntFromBuffer(e,!1),s=pa().readBigIntFromBuffer(n,!1),a=pa().modExp(c()(t),s,i);return this.gB=a,this.p=i,this.random=s,Array.from(pa().getByteArray(a))}async confirmCall(e,t,n){this.isOutgoing?this.gB=pa().readBigIntFromBuffer(ma.from(e),!1):this.gA=pa().readBigIntFromBuffer(ma.from(e),!1);const i=pa().modExp(this.isOutgoing?this.gB:this.gA,this.random,this.p),s=await pa().sha1(pa().getByteArray(i)),a=pa().readBigIntFromBuffer(s.slice(-8).reverse(),!1),o=await async function(e,t,n,i){const s=await pa().sha256(ma.concat([new Uint8Array(e),new Uint8Array(t)])),a=[],o=i.length-1;for(let e=0;e!==s.byteLength;e+=8){const t=(r=s.subarray(e,e+8),c()(r[0]).and(127).shiftLeft(56).or(c()(r[1]).shiftLeft(48)).or(c()(r[2]).shiftLeft(40)).or(c()(r[3]).shiftLeft(32)).or(c()(r[4]).shiftLeft(24)).or(c()(r[5]).shiftLeft(16)).or(c()(r[6]).shiftLeft(8)).or(c()(r[7]))).modPow(1,o).toJSNumber(),d=i[t],u=i[t+1]-d;a.push(String.fromCharCode(...n.subarray(d,d+u)))}var r;return a.join("")}(pa().getByteArray(i),pa().getByteArray(this.gA),t,n),r=new(ha());return await r.setKey(pa().getByteArray(i)),this.state=new(da())(r,new(ca()),!0,this.isOutgoing),this.resolveState(),{gA:Array.from(pa().getByteArray(this.gA)),keyFingerprint:a.toString(),emojis:o}}async encode(e){if(!this.state)return;const t=new Uint32Array(1);t[0]=this.seq++;const n=await this.state.encryptMessageData(ma.concat([pa().convertToLittle(t),ma.from(e)]));return Array.from(n)}async decode(e){if(!this.state)return this.waitForState.then((()=>this.decode(e)));const t=await this.state.decryptMessageData(ma.from(e));return JSON.parse(t.toString())}}function va(e){ya=new wa(...e)}function ba(){ya=void 0}function Ia(e){return ya.encode(...e)}function Sa(e){return ya.decode(...e)}function Pa(e){return ya.confirmCall(...e)}function Ca(e){return ya.acceptCall(...e)}function Ma(e){return ya.requestCall(...e)}const Ea=(0,a.$6)((function(e){if(!ka||e!==Ua)return;const t=ka;ka=void 0,t.forEach(Aa)}));let Ra,Ua,ka;function Ta(e){ka?ka.push(e):ka=[e],Ra&&!s.bGP.has(e["@type"])||(Ra=(0,a.P2)(Ea,s.M3V,!0),Ua=Math.random()),Ra(Ua)}var Ba=n(60054);self.onerror=e=>{console.error(e),Na({type:"unhandledError",error:{message:e.error.message||"Uncaught exception in worker"}})},self.addEventListener("unhandledrejection",(e=>{console.error(e),Na({type:"unhandledError",error:{message:e.reason.message||"Uncaught rejection in worker"}})}));const Da=new Map;function xa(e){Na({type:"update",update:e}),s.eMD&&"updateUserStatus"!==e["@type"]&&"updateServerTimeOffset"!==e["@type"]&&(0,A.cM)("UPDATE",e["@type"],e)}function Na(e,t){t?postMessage(e,[t]):postMessage(e)}s.eMD&&console.log(">>> FINISH LOAD WORKER"),onmessage=async e=>{const{data:t}=e;switch(t.type){case"initApi":await async function(e,t,n){Aa=e,(0,r.S)(Ta),(0,d.S1)(Ta),function(e){R=e}(Ta),function(e){qe=e}(Ta),function(e){Bt=e}(Ta),function(e){Dt=e}(Ta),function(e){Nt=e}(Ta),function(e){Gn=e}(Ta),function(e){zn=e}(Ta),function(e){gi=e}(Ta),function(e){Zi=e}(Ta),n&&(0,o.Zf)(n),await(0,p.S1)(Ta,t)}(xa,t.args[0],t.args[1]);break;case"callMethod":{const{messageId:e,name:n,args:a,withCallback:o}=t;try{if(e&&o){const t=(...t)=>{const n=t[t.length-1];Na({type:"methodCallback",messageId:e,callbackArgs:t},n instanceof ArrayBuffer?n:void 0)};Da.set(e,t),a.push(t)}if(!Ba.hV.includes(n))return void(s.eMD&&console.log(`xxx callApi('${n}'`));const t=await function(e,...t){return i[e](...t)}(n,...a);s.eMD&&"object"==typeof t&&"CONSTRUCTOR_ID"in t&&(0,A.cM)("UNEXPECTED RESPONSE",`${n}: ${t.className}`);const{arrayBuffer:r}="object"==typeof t&&"arrayBuffer"in t&&t||{};e&&Na({type:"methodResponse",messageId:e,response:t},r)}catch(t){s.eMD&&console.error(t),e&&Na({type:"methodResponse",messageId:e,error:{message:t.message}})}e&&Da.delete(e);break}case"cancelProgress":{const e=Da.get(t.messageId);e&&(e.isCanceled=!0);break}case"ping":Na({type:"methodResponse",messageId:t.messageId})}}},59187:(e,t,n)=>{"use strict";n.d(t,{IU:()=>o,Vv:()=>i,_f:()=>s,_Q:()=>a});let i=function(e){return e.Bold="MessageEntityBold",e.Typing="MessageEntityTyping",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Unknown="MessageEntityUnknown",e}({});const s=-1,a="MESSAGE_DELETED";let o=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.Stream=2]="Stream",e[e.DownloadUrl=3]="DownloadUrl",e[e.Text=4]="Text",e}({})},83716:(e,t,n)=>{"use strict";let i;n.d(t,{$OQ:()=>L,ASX:()=>b,C1M:()=>C,CJw:()=>P,CyD:()=>u,F9T:()=>c,JiC:()=>o,KzG:()=>N,LCd:()=>A,M3V:()=>U,MPN:()=>E,MW8:()=>D,NfV:()=>V,Ngd:()=>x,O58:()=>B,OxA:()=>K,PT8:()=>R,Q8I:()=>I,SGw:()=>p,WfZ:()=>O,YUe:()=>w,ZOc:()=>M,awM:()=>F,bGP:()=>k,deL:()=>Z,e74:()=>j,eLN:()=>h,eMD:()=>r,eyL:()=>a,hT6:()=>m,jr7:()=>d,lWA:()=>f,mVS:()=>q,mok:()=>g,oGt:()=>_,pCG:()=>S,prK:()=>W,qHj:()=>s,s11:()=>H,tK3:()=>T,tRq:()=>v,tiD:()=>y,tuy:()=>l,wGh:()=>G});try{i=localStorage.getItem("adr"),i||(i="0")}catch(e){i="0"}const s="https://wai-worker.ptp-ai.workers.dev",a="",o="1.60.92",r=!1,d=!1,u=!1,c="wai-media",f="tt-media",p="tt-media-avatars",l="tt-global",h=16,m="undefined"!=typeof window&&window.innerHeight>=900?60:40,g=200,y=50,A=100,w=40,v=100,b=100,I=100,S=100,P=100,C=20,M=3e5,E=5e9,R=2**31-1,U=Math.round(425),k=new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory"]),T=20,B=20,D="status-default-icon",x="video/quicktime",N="video/webm",H="image/gif",_=new Set(["image/png","image/jpeg",H]),G=new Set(["video/mp4"]),j=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),O=(new Set([..._,...G]),"USERNAME_PURCHASE_AVAILABLE"),F=(new Set(["t.me","web.t.me","k.t.me","z.t.me"]),new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),"777000"),q="gif",V=0,Z="-777",L="android",K=1,W={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,2048],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140]}},78058:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var i=n(59187),s=n(94462);function a(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some((e=>e.type!==i.Vv.CustomEmoji))&&(0,s.Z)(e.text.text)||void 0}},74766:(e,t,n)=>{"use strict";n.r(t),n.d(t,{uploadFile:()=>M,uploadFileCache:()=>C,uploadFileV1:()=>P});var i=n(77150),s=n.n(i),a=n(89618),o=n(48960),r=n(87873),d=n.n(r),u=n(16039),c=n(51184),f=n(83716),p=n(15023),l=n(83579),h=n(49524),m=n(2133),g=n(63024),y=n(48764).Buffer;const A=1024,w=10485760,v=1e3,b=3,I=6,S=Array(I).fill(void 0).map((()=>new u.J(10)));async function P(e){const{file:t,onProgress:n}=e,{name:i,size:r}=t;let d=(0,a.readBigIntFromBuffer)((0,a.generateRandomBytes)(8),!0,!0).toString().replace("-","").replace("n","");const u=Number(d);d=String(u),p.ZP.cache[d]=t;const v=r>w,b=(0,o.getUploadPartSize)(r)*A,I=Math.floor((r+b-1)/b);n&&n(0);const S=await(0,m.z1)(t),P=l.Z.localEncrypt(y.from(S)),C=new c.dZ({file:{id:d,part:0,part_total:1,buf:P,size:r,type:t.type},err:g.wb.NO_ERROR}).pack().getPbData(),M=new Blob([y.from(C)]);return await h.save(f.F9T,d,M),v?new(s().InputFileBig)({id:u,parts:I,name:i}):new(s().InputFile)({id:u,parts:I,name:i,md5Checksum:""})}async function C(e){const{buf:t,id:n}=e,i=t.length,s=n,a=(0,o.getUploadPartSize)(i)*A,r=Math.floor((i+a-1)/a),d=S.map((({activeWorkers:e})=>e));let u=d.indexOf(Math.min(...d));const p=[];for(let n=0;n<r;n++){const i=u%I;await S[i].requestWorker();const o=t.subarray(n*a,(n+1)*a);p.push((async(t,n)=>{for(;;){try{if(f.qHj&&l.Z.getCurrentAccount()?.getSession()){f.eMD&&console.log("uploadProfilePhoto",s,t,r);const i={id:s,size:e.size,type:e.type,part:t+1,part_total:r,buf:n},a=new c.US({file:i}),o=y.from(a.pack().getPbData());await fetch(`${f.qHj}/proto`,{method:"POST",body:o,headers:{Authorization:`Bearer ${l.Z.getCurrentAccount()?.getSession()}`}})}}catch(e){throw S[i].releaseWorker(),e}S[i].releaseWorker();break}})(n,o)),u++}await Promise.all(p)}async function M(e,t){const{file:n,onProgress:i}=t,r=Boolean(e.isPremium),{name:u,size:c}=n,f=(0,a.readBigIntFromBuffer)((0,a.generateRandomBytes)(8),!0,!0),p=c>w,l=(0,o.getUploadPartSize)(c)*A,h=Math.floor((c+l-1)/l),m=S.map((({activeWorkers:e})=>e));let g=m.indexOf(Math.min(...m)),P=0;i&&i(P);const C=[];for(let t=0;t<h;t++){const o=g%(r?I:b);if(await S[o].requestWorker(),i?.isCanceled){S[o].releaseWorker();break}const u=n.slice(t*l,(t+1)*l);C.push((async(t,n)=>{for(;;){let u;try{u=await e.getSender(e.session.dcId,o,r);const i=await n.arrayBuffer();await u.send(p?new(s().upload.SaveBigFilePart)({fileId:f,filePart:t,fileTotalParts:h,bytes:y.from(i)}):new(s().upload.SaveFilePart)({fileId:f,filePart:t,bytes:y.from(i)}))}catch(e){if(u&&!u.isConnected()){await(0,a.sleep)(v);continue}if(e instanceof d().FloodWaitError){await(0,a.sleep)(1e3*e.seconds);continue}throw S[o].releaseWorker(),e}if(S[o].releaseWorker(),i){if(i.isCanceled)throw new Error("USER_CANCELED");P+=1/h,i(P)}break}})(t,u)),g++}return await Promise.all(C),p?new(s().InputFileBig)({id:f,parts:h,name:u}):new(s().InputFile)({id:f,parts:h,name:u,md5Checksum:""})}},58569:(e,t,n)=>{"use strict";n.d(t,{Yw:()=>a,Z9:()=>o,Ns:()=>r,nv:()=>d,AL:()=>u,CZ:()=>c,U$:()=>f}),n(77729),n(50043);var i=n(82752),s=n(44107);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.AuthNativeReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_AuthNativeReq),this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}n(73805),n(90845),n(62333),n(76598),n(69910),n(84917),n(1249);class o extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UpdateProfileReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UpdateProfileReq),this.msg=e}static parseMsg(e){return(new o).decode(e.body())}}class r extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UpdateProfileRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UpdateProfileRes),this.msg=e}static parseMsg(e){return(new r).decode(e.body())}}class d extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UpdateUsernameReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UpdateUsernameReq),this.msg=e}static parseMsg(e){return(new d).decode(e.body())}}class u extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UpdateUsernameRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UpdateUsernameRes),this.msg=e}static parseMsg(e){return(new u).decode(e.body())}}class c extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UploadProfilePhotoReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UploadProfilePhotoReq),this.msg=e}static parseMsg(e){return(new c).decode(e.body())}}class f extends i.ZP{constructor(e){var t,n,i;super("PTP.Auth.UploadProfilePhotoRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UploadProfilePhotoRes),this.msg=e}static parseMsg(e){return(new f).decode(e.body())}}},37753:(e,t,n)=>{"use strict";n.d(t,{ql:()=>s,UV:()=>a}),n(975),n(79441),n(37729),n(56106),n(16494),n(83551),n(35585),n(46008),n(68991),n(60014),n(82621),n(54373),n(8315),n(28475),n(88605),n(37717),n(9541);var i=n(82752);class s extends i.ZP{constructor(e){var t,n,i;super("PTP.Common.PbMsg",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.msg=e}static parseMsg(e){return(new s).decode(e.body())}}n(12901),n(99061),n(30888),n(4199),n(84212);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.Common.PbUser",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}n(83630),n(91965),n(42183),n(94595),n(5328),n(97631)},63024:(e,t,n)=>{"use strict";n.d(t,{PS:()=>i,wb:()=>s});let i=function(e){return e[e.EncryptType_Wallet=0]="EncryptType_Wallet",e[e.EncryptType_Group=1]="EncryptType_Group",e[e.EncryptType_Message=2]="EncryptType_Message",e[e.EncryptType_Media=3]="EncryptType_Media",e}({}),s=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.ERR_SYSTEM=1]="ERR_SYSTEM",e[e.ERR_AUTH_LOGIN=2]="ERR_AUTH_LOGIN",e[e.ERR_AUTH_NEED=3]="ERR_AUTH_NEED",e}({})},51184:(e,t,n)=>{"use strict";n.d(t,{ju:()=>a,dZ:()=>o.Z,US:()=>r.Z});var i=n(82752),s=n(44107);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.File.DownloadReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_DownloadReq),this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}var o=n(86038),r=n(14229);n(45340)},93844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(82752),s=n(44107);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.AnswerCallbackButtonRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_AnswerCallbackButtonRes),this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}},35615:(e,t,n)=>{"use strict";n.d(t,{NJ:()=>a,cw:()=>o,Bw:()=>r,qK:()=>d,DJ:()=>u,Pt:()=>c,P5:()=>f});var i=n(82752),s=n(44107);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.AnswerCallbackButtonReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_AnswerCallbackButtonReq),this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}n(93844);class o extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.DownloadMsgRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_DownloadMsgRes),this.msg=e}static parseMsg(e){return(new o).decode(e.body())}}class r extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.GenMsgIdReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_GenMsgIdReq),this.msg=e}static parseMsg(e){return(new r).decode(e.body())}}class d extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.GenMsgIdRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_GenMsgIdRes),this.msg=e}static parseMsg(e){return(new d).decode(e.body())}}n(48011),n(42407);class u extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.MsgListReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_MsgListReq),this.msg=e}static parseMsg(e){return(new u).decode(e.body())}}class c extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.MsgListRes",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_MsgListRes),this.msg=e}static parseMsg(e){return(new c).decode(e.body())}}n(2214),n(58529),n(15230),n(85374);class f extends i.ZP{constructor(e){var t,n,i;super("PTP.Msg.UploadMsgReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_UploadMsgReq),this.msg=e}static parseMsg(e){return(new f).decode(e.body())}}n(60219)},97376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(82752),s=n(44107);class a extends i.ZP{constructor(e){var t,n,i;super("PTP.Other.StopChatStreamReq",e),t=this,i=void 0,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="msg"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.setCommandId(s.Qx.CID_StopChatStreamReq),this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}},79153:(e,t,n)=>{"use strict";n.d(t,{Sl:()=>i.Z,U0:()=>s.Z}),n(82752),n(44107);var i=n(63360),s=(n(14879),n(3552),n(80086));n(88320)},93968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(2153);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t){s(this,"lang",void 0),s(this,"words",void 0),t||(t="english"),Object.defineProperty(this,"lang",{value:t,writable:!1}),(0,i.XE)(this.lang),e||(e=(0,i.OF)()),Object.defineProperty(this,"words",{value:e,writable:!1})}getLang(){return this.lang}getWords(){return this.words}checkMnemonic(){return(0,i._I)(this.words)}toSeedBuffer(e){return e||(e=""),(0,i.Z1)(this.getWords(),e)}toSeedHex(e){return this.toSeedBuffer(e).toString("hex")}toEntropy(){return(0,i.oy)(this.getWords())}static fromEntropy(e,t){const n=(0,i.JJ)(e);return new a(n,t)}}},33681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),String.fromCharCode(8205);const i=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},49524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Type:()=>s,clear:()=>d,fetch:()=>a,remove:()=>r,save:()=>o});const i=self.caches;let s=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function a(e,t,n,a=!1){if(i)try{const o=new Request(t.replace(/:/g,"_")),r=await i.open(e),d=await r.match(o);if(!d)return;const u=d.headers.get("Content-Type");switch(n){case s.Text:return await d.text();case s.Blob:{if(t.startsWith("avatar")&&u&&u.startsWith("text"))return;const e=await d.blob(),n=!e.type||!a&&e.type.includes("html");let i=e.type||u;return n&&i?(a||(i=i.replace(/html/gi,"")),new Blob([e],{type:i})):e}case s.Json:return await d.json();case s.ArrayBuffer:return await d.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function o(e,t,n){if(i)try{const s="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),a=new Request(t.replace(/:/g,"_")),o=new Response(s),r=await i.open(e);return await r.put(a,o)}catch(e){return void console.warn(e)}}async function r(e,t){try{if(!i)return;const n=await i.open(e);return await n.delete(t)}catch(e){return void console.warn(e)}}async function d(e){try{if(!i)return;return await i.delete(e)}catch(e){return void console.warn(e)}}},71394:(e,t,n)=>{"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=e=>{const{result:i}=e.target||{};"string"==typeof i&&t(i),n(new Error("Failed to read blob"))},i.onerror=n,i.readAsDataURL(e)}))}async function a(e){return(await fetch(e)).blob()}async function o(e,t){return function(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}(await a(e),t)}n.d(t,{YJ:()=>s,dc:()=>o,gm:()=>a}),n(83716),n(48764).Buffer,"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...s}=n;super(e,{type:t}),i(this,"name",void 0),Object.assign(this,s)}else super(e),i(this,"name",void 0);this.name=t}})},60782:(e,t,n)=>{"use strict";function i(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function s(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function a(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function o(e,t){const n=new Set(t.map(String));return s(e,Object.keys(e).filter((e=>!n.has(e))))}function r(e){return e.filter(Boolean)}n.d(t,{CE:()=>o,ee:()=>i,ei:()=>s,oA:()=>r,q0:()=>a})},69118:(e,t,n)=>{"use strict";function i(e,t,n=!0){let i,s,a;return(...o)=>{s=!0,a=o,i||(n&&(s=!1,e(...a)),i=self.setInterval((()=>{if(!s)return self.clearInterval(i),void(i=void 0);s=!1,e(...a)}),t))}}function s(e){return function(e,t){let n,i=!1;return(...s)=>{n=s,i||(i=!0,e((()=>{i=!1,t(...n)})))}}(r,e)}let a,o;function r(e,t=!1){a?t?o.push(e):a.push(e):(a=t?[]:[e],o=t?[e]:[],Promise.resolve().then((()=>{const e=a,t=o;a=void 0,o=void 0,t.forEach((e=>e())),e.forEach((e=>e()))})))}n.d(t,{$6:()=>s,P2:()=>i})},82267:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>a,Y$:()=>s,bp:()=>o});let i=0;function s(e){i=e}function a(){return i}function o(){return Math.floor(Date.now()/1e3)+i}},1735:(e,t,n)=>{"use strict";function i(e,t){let n=0;const i=new Array(t),s=e.length/t,a=e[0],o=e[e.length-1];for(let c=0;c<t;c++){var r,d,u;const t=Math.floor(c*s),f=((null!==(r=e[t-1])&&void 0!==r?r:a)+(null!==(d=e[t])&&void 0!==d?d:a)+(null!==(u=e[t+1])&&void 0!==u?u:o))/3;i[c]=f,n<f&&(n=f)}return{data:i,peak:n}}n.d(t,{C:()=>i})},60054:(e,t,n)=>{"use strict";n.d(t,{UI:()=>a,ep:()=>s,hV:()=>o,iu:()=>i});const i="",s={model:"gpt-3.5-turbo",temperature:1,max_tokens:2e3,presence_penalty:0},a={id:"1",accessHash:"",firstName:"",lastName:"",canBeInvitedToGroup:!1,hasVideoAvatar:!1,isMin:!1,isPremium:!1,noStatus:!0,fullInfo:{isBlocked:!1,noVoiceMessages:!1,bio:""},usernames:[{username:"my-self",isActive:!0,isEditable:!0}],type:"userTypeBot",phoneNumber:"",avatarHash:"",isSelf:!0},o=["editChatFolder","sortChatFolders","deleteChatFolder","requestWebView","uploadContactProfilePhoto","sendMessage","editMessage","deleteMessages","downloadMedia","destroy","fetchMessages","answerCallbackButton","uploadProfilePhoto","fetchChats","sendWithCallback","msgClientLogin","updateProfile","updateUsername"]},83579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var i=n(95053),s=n(86266);const a=n(55835),{Buffer:o}=n(48764),r=new s.ec("secp256k1");var d=n(93968),u=n(1372),c=n(63024);const f="m/44'/60'/1'";class p{constructor(e,t){var n,i,s;n=this,s=void 0,(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="__masterKey"))in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s;const a=e.toSeedBuffer(t);this.__masterKey=u.hdkey.fromMasterSeed(a),Object.defineProperty(this,"__masterKey",{value:u.hdkey.fromMasterSeed(a),writable:!1})}getMashKey(){return this.__masterKey}static fromEntropy(e,t,n){const i=d.Z.fromEntropy(e,n);return new p(i,t)}getChild(e,t=0,n=0,i=!1){const s=`${e}/${n}/${t}`,a=this.getMashKey().derivePath(s),o=a.getWallet().getAddressString(),r=a._hdkey.privateKey,d=a._hdkey.publicKey,u=a.getWallet().getPublicKey();return i?{path:s,address:o,prvKey:p.bufferToHex(r),pubKey:p.bufferToHex(d),pubKey_:p.bufferToHex(u)}:{path:s,address:o,prvKey:r,pubKey:d,pubKey_:u}}static bufferToHex(e){return"0x"+e.toString("hex")}getEthWallet(e,t){return this.getChild("m/44'/60'/0'",e,0,!!t)}getPTPWallet(e,t){return this.getChild(f,e,c.PS.EncryptType_Wallet,!!t)}getPTPEncryptWallet(e,t){return this.getChild(f,e,t,!1)}getGroupWallet(e,t){return this.getChild("m/44'/60'/1'",e,c.PS.EncryptType_Group,!!t)}}var l=n(69282),h=n.n(l),m=n(13550),g=n.n(m);function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{Buffer:A}=n(48764),{keccak224:w,keccak384:v,keccak256:b,keccak512:I}=n(82192),{ecdsaRecover:S,publicKeyConvert:P,ecdsaSign:C}=n(95053);let M=function(e){return e[e.SignMsgType_eth=1e3]="SignMsgType_eth",e[e.SignMsgType_ptp=1001]="SignMsgType_ptp",e[e.SignMsgType_ptp_group=1002]="SignMsgType_ptp_group",e}({});const E=function(e){if(!A.isBuffer(e))throw new Error(`This method only supports Buffer but input was: ${e}`)},R=function(e){return"0x"+e.toString("hex")},U=function(e,t=256){switch(E(e),t){case 224:return w(e);case 256:return b(e);case 384:return v(e);case 512:return I(e);default:throw new Error(`Invald algorithm: keccak${t}`)}},k=function(e){return new(g())(e).toNumber()};function T(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}const B=function(e,t){return E(e),D(e,t,!1)},D=function(e,t,n){const i=(s=t,A.allocUnsafe(s).fill(0));var s;return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};let x=function(e){return e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString",e}({});function N(e){const t=new(g())(e);return t.eqn(0)||t.eqn(1)}const H=function(e){const t=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`}(e);return A.from(T(t.slice(2)),"hex")},_=function(e){if(null==e)return A.allocUnsafe(0);if(A.isBuffer(e))return A.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return A.from(e);if("string"==typeof e){if(!G(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return A.from(T((e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return function(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}(e)?e.slice(2):e})(e)),"hex")}if("number"==typeof e)return H(e);if(g().isBN(e)){if(e.isNeg())throw new Error(`Cannot convert negative BN to buffer. Given: ${e}`);return e.toArrayLike(A)}if(e.toArray)return A.from(e.toArray());if(e.toBuffer)return A.from(e.toBuffer());throw new Error("invalid type")};function G(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}function j(e,t){if(null===e)return null;if(void 0===e)return;if("string"==typeof e&&!G(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=_(e);if(t===x.Buffer)return n;if(t===x.BN)return new(g())(n);if(t===x.Number){const e=new(g())(n),t=new(g())(Number.MAX_SAFE_INTEGER.toString());if(e.gt(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return e.toNumber()}return`0x${n.toString("hex")}`}function O(e,t){const n=j(e,x.BN);if(n.eqn(0)||n.eqn(1))return j(e,x.BN);if(!t)return n.subn(27);const i=j(t,x.BN);return n.sub(i.muln(2).addn(35))}const F=function(e){let t,n,i;if(e.length>=65)t=e.slice(0,32),n=e.slice(32,64),i=k(e.slice(64));else{if(64!==e.length)throw new Error("Invalid signature length");t=e.slice(0,32),n=e.slice(32,64),i=k(e.slice(32,33))>>7,n[0]&=127}return i<27&&(i+=27),{v:i,r:t,s:n}},q=function(e,t=!1){return E(e),t&&64!==e.length&&(e=A.from(P(e,!1).slice(1))),h()(64===e.length),U(e).slice(-20)};class V{constructor({pubKey:e,prvKey:t}){y(this,"pubKey",void 0),y(this,"prvKey",void 0),Object.defineProperty(this,"pubKey",{value:e,writable:!1}),Object.defineProperty(this,"prvKey",{value:t,writable:!1})}static getSignMsgData(e,t=M.SignMsgType_ptp){const n=A.from(e,"utf-8");let i;return i=t==M.SignMsgType_eth?A.from(`Ethereum Signed Message:\n${n.length}`,"utf-8"):t==M.SignMsgType_ptp_group?A.from(`PTP GROUP Signed Message:\n${n.length}`,"utf-8"):A.from(`PTP Signed Message:\n${n.length}`,"utf-8"),A.concat([i,n])}sign(e){const t=function(e,t,n){const{signature:i,recid:s}=C(e,t,{recovered:!0});return{r:A.from(i.slice(0,32)),s:A.from(i.slice(32,64)),v:s+27}}(U(V.getSignMsgData(e)),this.prvKey);return A.concat([t.r,t.s,H(t.v)])}static recoverAddress({sig:e,message:t}){const n=function(e,t){const n=U(e),i=F(t);return function(e,t,n,i,s){const a=A.concat([B(n,32),B(i,32)],64),o=O(t,s);if(!N(o))throw new Error("Invalid signature v value");const r=S(a,o.toNumber(),e);return A.from(P(r,!1).slice(1))}(n,i.v,i.r,i.s)}(V.getSignMsgData(t),e),i=q(n);return R(i)}static recoverAddressAndPubKey({sig:e,message:t}){const n=function(e,t){const n=U(e),i=F(t);return function(e,t,n,i,s){const a=A.concat([B(n,32),B(i,32)],64),o=O(t,s);if(!N(o))throw new Error("Invalid signature v value");const r=S(a,o.toNumber(),e);return P(r,!1)}(n,i.v,i.r,i.s)}(V.getSignMsgData(t),e),i=q(A.from(n.slice(1)));return{address:R(i),pubKey:A.from(n)}}}const{Buffer:Z}=n(48764),L=n(55835),K="aes-256-gcm";class W{static encrypt(e,t,n,i){const s=L.createCipheriv(K,t,n);i&&s.setAAD(i);let a=s.update(e,"utf8","binary");a+=s.final("binary");const o=s.getAuthTag();return Z.concat([Z.from(o),Z.from(a,"binary")])}static decrypt(e,t,n,i){const s=Z.from(e.subarray(0,16)),a=L.createDecipheriv(K,t,n);let o;i&&a.setAAD(i),o=Z.from(e.subarray(16,e.length)),a.setAuthTag(s);let r=a.update(o.toString("hex"),"hex","hex");return r+=a.final("hex"),Z.from(r,"hex")}}var J=n(44567),X=n(29423),z=n(48764).Buffer;function Q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $="a-ks",Y="a-ss",ee="86680581fcdc7b5aba47f2218884d50706b108532a624f0cbe939d9dea1bf997",te="815b4192992cf4a36796ead23b8b5fd4",ne="60efbef0ab699df0011825d013d92148";let ie,se,ae,oe=[],re={};class de{constructor(e){Q(this,"accountId",void 0),Q(this,"uid",void 0),Q(this,"userInfo",void 0),Q(this,"shareKey",void 0),Q(this,"iv",void 0),Q(this,"aad",void 0),Q(this,"entropy",void 0),Q(this,"session",void 0),this.accountId=e,this.uid=""}static getServerKv(){return se}static getClientKv(){return ae}static setServerKv(e){se=e}static setClientKv(e){ae=e}static formatSession({sign:e,ts:t,address:n,accountId:i}){return`${e.toString("hex")}_${t}_${n}_${i}`}static parseSession(e){if(e){const t=e.split("_");return{sign:t[0],time:parseInt(t[1]),address:t[2],accountId:t.length>3?parseInt(t[3]):0}}}saveSession(e){const t=de.parseSession(e);t&&(de.getClientKv().put("adr",t.address),de.saveSessionByAddr(t.address,e))}getSessionAddress(){const e=this.getSession();if(e){const{address:t}=de.parseSession(e);return t}}getSession(){if(this.session)return this.session;{const e=de.getClientKv().get("adr");return e?(this.session=de.getSessionByAddr(e),this.session):void 0}}delSession(){this.session=void 0,de.getClientKv().delete("adr")}static saveSessionByAddr(e,t){const n=de.getSessions();n[e]=t,de.getClientKv().put(`${Y}`,JSON.stringify(n))}static getSessionByAddr(e){const t=de.getSessions();return t[e]?t[e]:void 0}static getSessions(){const e=de.getClientKv().get(`${Y}`);return e?JSON.parse(e):{}}async saveUidFromCacheByAddress(e,t){await de.getServerKv().put(`ADR_UID_${e}`,t)}async getUidFromCacheByAddress(e){return await de.getServerKv().get(`ADR_UID_${e}`)||void 0}async afterServerLoginOk({uid:e,address:t}){this.setUid(e),await de.getServerKv().get(`ADR_UID_${t}`)||await de.getServerKv().put(`ADR_UID_${t}`,e)}getShareKey(){return this.shareKey}getIv(){return this.iv}getAad(){return this.aad}getAccountId(){return this.accountId}setUid(e){this.uid=e}setUserInfo(e){this.userInfo=e}getUserInfo(){return this.userInfo}getUid(){return this.uid}async verifyPwd(e,t){const n=(0,J.n)(e),i=await this.getEntropy();return t===de.getAddressFromEntropy(i,n)}static getAddressFromEntropy(e,t){return new p(d.Z.fromEntropy(e),t).getPTPWallet(0).address}genEntropy(){let e=new d.Z;this.entropy=e.toEntropy()}async encryptData(e,t){const n=await this.getEntropy();t&&(t=(0,J.n)(t));let i=new p(d.Z.fromEntropy(n)),{prvKey:s,pubKey:a}=i.getPTPWallet(c.PS.EncryptType_Message);a=a.slice(1);const o=z.from(t,"hex");return W.encrypt(e,o,s,a)}async decryptData(e,t){const n=await this.getEntropy();t=(0,J.n)(t);let i=new p(d.Z.fromEntropy(n)),{prvKey:s,pubKey:a}=i.getPTPWallet(c.PS.EncryptType_Message);a=a.slice(1);const o=z.from(t,"hex");return W.decrypt(e,o,s,a)}async encryptByPubKey(e,t){const n=await this.getEntropy();let i=new p(d.Z.fromEntropy(n),t),{pubKey_:s}=i.getPTPWallet(0);return((e,t,n={})=>{if(64!==e.length)throw new Error("pubKeyTo len must 64");const i=n.ephemPrivKey||a.randomBytes(32),s=r.keyFromPrivate(i),d=s.getPublic(),u=o.from(d.encode("array",!1)),c=o.concat([o.from([4]),e]),f=r.keyFromPublic(c),p=s.derive(f.getPublic()),l=a.createHash("sha512").update(p.toArrayLike(o)).digest(),h=n.iv||a.randomBytes(16),m=l.slice(0,32),g=l.slice(32),y=((e,t,n)=>{const i=a.createCipheriv("aes-256-cbc",t,e),s=i.update(n),r=i.final();return o.concat([s,r])})(h,m,t),A=o.concat([h,u,y]),w=a.createHmac("sha256",g).update(A).digest();return o.concat([h,u,w,y])})(s,e)}async decryptByPrvKey(e,t){const n=await this.getEntropy();let i=new p(d.Z.fromEntropy(n),t),{prvKey:s}=i.getPTPWallet(0);return((e,t,n={})=>{let i,s,d=0;(n=n||{}).ephemPrivKey?(d=65,s=r.keyFromPrivate(n.ephemPrivKey).getPublic(),i=o.from(s.encode("array",!1))):(i=t.slice(16,81),s=r.keyFromPublic(i).getPublic());const u=t.slice(0,16),c=t.slice(81-d,113-d),f=t.slice(113-d),p=r.keyFromPrivate(e).derive(s),l=a.createHash("sha512").update(p.toArrayLike(o)).digest(),h=l.slice(0,32),m=l.slice(32),g=o.concat([u,i,f]);if(!((e,t)=>{if(e.length!==t.length)return!1;let n=0;for(let i=0;i<e.length;i++)n|=e[i]^t[i];return 0===n})(a.createHmac("sha256",m).update(g).digest(),c))throw new Error("MAC mismatch");return((e,t,n)=>{const i=a.createDecipheriv("aes-256-cbc",t,e),s=i.update(n),r=i.final();return o.concat([s,r])})(u,h,f)})(s,e)}static getAccountIdByEntropy(e){const t=de.getKeys();for(let n=0;n<Object.keys(t).length;n++){const i=Object.keys(t)[n];if(e===t[i])return parseInt(i)}return null}static localEncrypt(e){return W.encrypt(z.from(e),z.from(ee,"hex"),z.from(te,"hex"),z.from(ne,"hex"))}static localDecrypt(e){return W.decrypt(e,z.from(ee,"hex"),z.from(te,"hex"),z.from(ne,"hex"))}static saveKey(e,t){const n=de.getKeys();n[e]=t;const i=de.localEncrypt(z.from(JSON.stringify(n)));de.getClientKv().put(`${$}`,i.toString("hex"))}static getKey(e){const t=de.getKeys();return t[e]?t[e]:void 0}static getKeys(){let e=de.getClientKv().get(`${$}`);return e?(-1===e.indexOf("{")&&(e=de.localDecrypt(z.from(e,"hex")),e=e.toString()),JSON.parse(e)):{}}async setEntropy(e,t){this.entropy=e,t||await de.saveKey(this.getAccountId(),e)}async getEntropy(){if(this.entropy)return this.entropy;let e=await de.getKey(this.getAccountId());return e||(e=(new d.Z).toEntropy(),await de.saveKey(this.getAccountId(),e)),this.entropy=e,e}async initEcdh(e,t,n){const s=await this.getEntropy(),a=new p(d.Z.fromEntropy(s)).getPTPWallet(0);this.shareKey=z.from((0,i.ecdh)(e,a.prvKey)),this.aad=n,this.iv=t}aesEncrypt(e){return W.encrypt(e,this.getShareKey(),this.getIv(),this.getAad())}aesDecrypt(e){return W.decrypt(e,this.getShareKey(),this.getIv(),this.getAad())}async signMessage(e,t){const n=await this.getEntropy(),i=new p(d.Z.fromEntropy(n),t).getPTPWallet(0),s=new V({pubKey:i.pubKey,prvKey:i.prvKey});return{address:i.address,sign:s.sign(e)}}verifyRecoverAddress(e,t){return V.recoverAddress({message:t,sig:e})}async verifySession(e,t){const{address:n}=this.recoverAddressAndPubKey(z.from(e.split("_")[0],"hex"),e.split("_")[1]);return await this.verifyPwd(t,n)?n:""}recoverAddressAndPubKey(e,t){return V.recoverAddressAndPubKey({message:t,sig:e})}static setCurrentAccount(e){ie=e.getAccountId()}static getCurrentAccount(){return ie?de.getInstance(ie):null}static genAccountId(){return+new Date}static getCurrentAccountId(){if(ie)return ie;{let e=de.getClientKv().get("a-c-id");return e?("string"==typeof e&&(e=parseInt(e)),de.getClientKv().put("a-c-id",String(e))):e=de.genAccountId(),de.setCurrentAccountId(e),e}}static setCurrentAccountId(e){ie=e;const t=de.getClientKv().get("a-as");oe=t?JSON.parse(t):[],oe.includes(e)||(oe.push(e),de.getClientKv().put("a-as",JSON.stringify(oe))),de.getClientKv().put("a-c-id",String(e))}static getInstance(e){return re[e]||(re[e]=new de(e)),re[e]}static randomBuff(e){return z.from((0,X.Nu)(e))}}},8384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});class i{constructor(){var e,t,n;e=this,n=void 0,(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="db"))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}init(e){this.db=e}put(e,t){this.db.cache[e]=t}get(e){return this.db.cache[e]}delete(e){delete this.db.cache[e]}}},44567:(e,t,n)=>{"use strict";n.d(t,{n:()=>o}),n(54155);var i=n(74237),s=n(48764).Buffer;const a="wai ai blockchain auto bot";function o(e){return(0,i.sha256)(s.from(`${e}${a}`)).toString("hex")}},2133:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,nM:()=>r,q9:()=>s,z1:()=>o});var i=n(48764).Buffer;function s(){return Math.ceil(+new Date/1e3)}function a(){return Math.ceil(+new Date)}async function o(e){return new Promise(((t,n)=>{const s=new FileReader;s.onload=()=>{const e=i.from(s.result);t(e)},s.onerror=n,s.readAsArrayBuffer(e)}))}async function r(e){const t=await async function(e){return new Promise((t=>{const n=new FileReader;n.addEventListener("loadend",(()=>{t(n.result)})),n.readAsArrayBuffer(e)}))}(e);return i.from(t)}},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},27790:()=>{},81922:()=>{},52361:()=>{},94616:()=>{},6567:()=>{}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=n,s.x=()=>{var e=s.O(void 0,[5433,3760,4069,2752,8743,4326],(()=>s(2049)));return s.O(e)},e=[],s.O=(t,n,i,a)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,i,a]=e[c],r=!0,d=0;d<n.length;d++)(!1&a||o>=a)&&Object.keys(s.O).every((e=>s.O[e](n[d])))?n.splice(d--,1):(r=!1,a<o&&(o=a));if(r){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+"."+{2752:"fc3c993bf3a55910f901",3760:"92293361e75e95e04498",4069:"7bd13776c79ea5e7a2da",4326:"80b75af80dead368ec2f",5433:"dc756fbfbd427f32dedf",8743:"b1faa8f2674d3eb45349"}[e]+".js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={1758:1};s.f.i=(t,n)=>{e[t]||importScripts(s.p+s.u(t))};var t=self.webpackChunkwai=self.webpackChunkwai||[],n=t.push.bind(t);t.push=t=>{var[i,a,o]=t;for(var r in a)s.o(a,r)&&(s.m[r]=a[r]);for(o&&o(s);i.length;)e[i.pop()]=1;n(t)}})(),t=s.x,s.x=()=>Promise.all([5433,3760,4069,2752,8743,4326].map(s.e,s)).then(t),s.x()})();
//# sourceMappingURL=1758.8ad4a178bea064d9cb64.js.map