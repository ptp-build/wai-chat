"use strict";(self.webpackChunkwai=self.webpackChunkwai||[]).push([[3041],{18118:(e,t,a)=>{a.r(t),a.d(t,{AuthCode:()=>P,AuthPassword:()=>f,AuthRegister:()=>w,AuthRegisterEmail:()=>A,AuthSignPassword:()=>q});var n=a(60748),r=a(33555),o=a(77361),l=a(60782),s=a(32340),i=a(46590),c=a(59107),u=a(97687),d=a(34288),m=a(83716),h=a(62821),p=a(42797),g=a(97799);const Z=(0,n.X$)((({code:e,codeLength:t,trackingDirection:a,isTracking:r,isBig:o})=>{const[l,s]=(0,n.eJ)(!1),{isMobile:i}=(0,p.ZP)(),c=165/t,u=i?m.qpg:m.z7m,d=(0,n.I4)((()=>s(!0)),[]);return n.ZP.createElement("div",{id:"monkey",className:o?"big":""},!l&&n.ZP.createElement("div",{className:"monkey-preview"}),n.ZP.createElement(g.Z,{size:o?m.K2q:u,className:r?"hidden":void 0,tgsUrl:h.l.MonkeyIdle,play:!r,onLoad:d}),n.ZP.createElement(g.Z,{size:o?m.K2q:u,className:r?"shown":"hidden",tgsUrl:h.l.MonkeyTracking,playSegment:r?function(){const n=e&&e.length>1||a<0?15+c*(e.length-1):0,r=e.length===t?180:15+c*e.length;return a<1?[r,n]:[n,r]}():void 0,speed:2,noLoop:!0}))})),P=(0,n.X$)((0,r.c$)((e=>(0,l.ei)(e,["authPhoneNumber","authIsCodeViaApp","authIsLoading","authError"])))((({authPhoneNumber:e,authIsCodeViaApp:t,authIsLoading:a,authError:l})=>{const{setAuthCode:m,returnToAuthPhoneNumber:h,clearAuthError:p}=(0,r.Sv)(),g=(0,c.Z)(),P=(0,n.sO)(null),[E,v]=(0,n.eJ)(""),[f,b]=(0,n.eJ)(!1),[y,w]=(0,n.eJ)(1);(0,n.d4)((()=>{o.$b||P.current.focus()}),[]),(0,i.Z)({isActive:!0,onBack:h});const N=(0,n.I4)((e=>{l&&p();const{currentTarget:t}=e;t.value=t.value.replace(/[^\d]+/,"").substr(0,5),t.value!==E&&(v(t.value),f?t.value.length||b(!1):b(!0),E&&E.length>t.value.length?w(-1):w(1),5===t.value.length&&m({code:t.value}))}),[l,p,E,f,m]);return n.ZP.createElement("div",{id:"auth-code-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(Z,{code:E,codeLength:5,isTracking:f,trackingDirection:y}),n.ZP.createElement("h1",null,e,n.ZP.createElement("div",{className:"auth-number-edit",onClick:function(){h()},role:"button",tabIndex:0,title:g("WrongNumber")},n.ZP.createElement("i",{className:"icon-edit"}))),n.ZP.createElement("p",{className:"note"},(0,s.Z)(g(t?"SentAppCode":"Login.JustSentSms"),["simple_markdown"])),n.ZP.createElement(u.Z,{ref:P,id:"sign-in-code",label:g("Code"),onInput:N,value:E,error:l&&g(l),autoComplete:"off",inputMode:"numeric"}),a&&n.ZP.createElement(d.Z,null)))})));var E=a(93490),v=a(99364);const f=(0,n.X$)((0,r.c$)((e=>(0,l.ei)(e,["authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,authHint:a})=>{const{setAuthPassword:o,clearAuthError:l}=(0,r.Sv)(),s=(0,c.Z)(),[i,u]=(0,n.eJ)(!1),d=(0,n.I4)((e=>{u(e)}),[]),m=(0,n.I4)((e=>{o({password:e})}),[o]);return n.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(E.Z,{isPasswordVisible:i}),n.ZP.createElement("h1",null,s("Login.Header.Password")),n.ZP.createElement("p",{className:"note"},s("Login.EnterPasswordDescription")),n.ZP.createElement(v.Z,{clearError:l,error:t&&s(t),hint:a,isLoading:e,isPasswordVisible:i,onChangePasswordVisibility:d,onSubmit:m})))})));var b=a(231),y=a(90730);const w=(0,n.X$)((0,r.c$)((e=>(0,l.ei)(e,["authIsLoading","authError"])))((({authIsLoading:e,authError:t})=>{const{signUp:a,clearAuthError:o,uploadProfilePhoto:l}=(0,r.Sv)(),s=(0,c.Z)(),[i,d]=(0,n.eJ)(!1),[m,h]=(0,n.eJ)(),[p,g]=(0,n.eJ)(""),[Z,P]=(0,n.eJ)(""),E=(0,n.I4)((e=>{t&&o();const{target:a}=e;g(a.value),d(a.value.length>0)}),[t,o]),v=(0,n.I4)((e=>{const{target:t}=e;P(t.value)}),[]);return n.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement("form",{action:"",method:"post",onSubmit:function(e){e.preventDefault(),a({firstName:p,lastName:Z}),m&&l({file:m})}},n.ZP.createElement(y.Z,{onChange:h}),n.ZP.createElement("h2",null,s("YourName")),n.ZP.createElement("p",{className:"note"},s("Login.Register.Desc")),n.ZP.createElement(u.Z,{id:"registration-first-name",label:s("Login.Register.FirstName.Placeholder"),onChange:E,value:p,error:t&&s(t),autoComplete:"given-name"}),n.ZP.createElement(u.Z,{id:"registration-last-name",label:s("Login.Register.LastName.Placeholder"),onChange:v,value:Z,autoComplete:"family-name"}),i&&n.ZP.createElement(b.Z,{type:"submit",ripple:!0,isLoading:e},s("Next")))))}))),N=a.p+"github.cc5da41cefbfea31a26e.svg",C=a.p+"google.324ab349caf94c572718.svg";var I=a(89618),k=a(2133),S=a(44567);let L=!1;const A=(0,n.X$)((0,r.c$)((e=>(0,l.ei)(e,["authError"])))((({authError:e})=>{const{clearAuthError:t,showAuthError:a,updateGlobal:o}=(0,r.Sv)(),l=(0,c.Z)(),[s,i]=(0,n.eJ)(!1),[d,h]=(0,n.eJ)(!1),[g,Z]=(0,n.eJ)(m.IKD),[P,E]=(0,n.eJ)((0,k.Ju)(g)),[f,y]=(0,n.eJ)(m.vSM),[w,A]=(0,n.eJ)(""),[J,x]=(0,n.eJ)(""),[T,R]=(0,n.eJ)(""),[$,M]=(0,n.eJ)(!1),[O,j]=(0,n.eJ)(!1),[q,B]=(0,n.eJ)(!1),D=(0,n.I4)((e=>{h(!d)}),[d]),V=(0,n.I4)((a=>{e&&t();const{target:n}=a;Z(n.value),E((0,k.Ju)(n.value))}),[e,t]),z=(0,n.I4)((a=>{J&&x(""),e&&t(),y(a)}),[J,x,t]),H=(0,n.I4)((a=>{T&&R(""),e&&t(),A(a)}),[T,R,t]),_=(0,n.I4)((e=>{j(e)}),[]),U=(0,n.I4)((e=>{B(e)}),[]),K=()=>{o({authState:"authorizationStateReady"})},X=({token:e,user:t})=>{localStorage.setItem(m.IPc,JSON.stringify({token:e,user:t}))};(0,n.d4)((()=>{const{query:e}=(0,k.k1)(window.location.href),{code:t,email:n}=e;t&&!L&&(L=!0,Z(n),M(!0),E(!0),(async()=>{try{const e=await fetch(`${m.qHj}/auth/token`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({code:t})}),n=await e.json();n.err_msg?a(n.err_msg):(X(n),K())}catch(e){a("network error")}})().then((()=>{window.history.replaceState({},"",window.location.href.split("?")[0])})).finally((()=>{L=!1,M(!1)})))}),[]),(0,n.d4)((()=>{const{query:e}=(0,k.k1)(window.location.href),{err_msg:t}=e;t&&(a(t),window.history.replaceState({},"",window.location.href.split("?")[0]))}),[]);const F=(0,n.I4)((()=>{o({authState:"authorizationStateReady"})}),[o]),W=(0,p.W7)();return n.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-close"},n.ZP.createElement(b.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:l("Close"),onClick:F},n.ZP.createElement("i",{className:"icon-close"}))),n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement("form",{action:"",method:"post",onSubmit:async function(e){if(e.preventDefault(),!(0,k.Ju)(g))return a("Email不合法");if(!(0,S.t)(f))return x(l("PasswordTipsCheck"));if(s){const e={password:(await(0,I.sha1)(f.toString())).toString("hex")};M(!0);try{const t=await fetch(`${m.qHj}/auth/password`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(n.err_msg)return a(n.err_msg);K()}catch(e){a("登录异常")}finally{M(!1)}return}if(d&&f!=w)return R("两次输入的密码不一致");const t=f===m.vSM?"da39a3ee5e6b4b0d3255bfef95601890afd80709":await(0,I.sha1)(f.toString()),n={email:g,password:t.toString("hex")};M(!0);try{const e=await fetch(`${m.qHj}/auth/${d?"reg":"login"}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();if(t.err_msg)return a(t.err_msg);X(t),K()}catch(e){a("登录异常")}finally{M(!1)}}},n.ZP.createElement("h2",null,"Wai"),n.ZP.createElement("p",{className:"note"},"An Ai Chat Application"),n.ZP.createElement(u.Z,{onFocus:t,id:"registration-email",type:"email",label:"Email",onChange:V,value:g,error:e&&l(e)||"",autoComplete:"given-name"}),n.ZP.createElement(v.Z,{clearError:()=>x(""),error:J&&l(J),isPasswordVisible:O,onChangePasswordVisibility:_,onInputChange:z}),d&&n.ZP.createElement(v.Z,{placeholder:"Repeat Password",clearError:()=>R(""),error:T&&l(T),isPasswordVisible:q,onChangePasswordVisibility:U,onInputChange:H}),P&&n.ZP.createElement(b.Z,{type:"submit",ripple:!0,isLoading:$},l("Next"))),d?n.ZP.createElement("div",{className:"auth-tips"},"Already have an account? ",n.ZP.createElement("u",{className:"auth-tips-action",onClick:D},"Log in")):n.ZP.createElement("div",{className:"auth-tips"},"Don't have an account? ",n.ZP.createElement("u",{className:"auth-tips-action",onClick:D},"Sign up")),n.ZP.createElement("div",{className:"auth-or-line"},n.ZP.createElement("div",{className:"auth-line"}),n.ZP.createElement("div",{className:"auth-or"},"OR")),n.ZP.createElement("div",{className:"oauth-btn"},n.ZP.createElement(b.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/github`},className:"Button translucent round","aria-label":"Github",style:""},n.ZP.createElement("img",{src:N,alt:"Github"})),n.ZP.createElement(b.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/google`},className:"Button translucent round","aria-label":"Google",style:""},n.ZP.createElement("img",{src:C,alt:"Google"})))),W&&n.ZP.createElement("div",{style:"height:500px"}))})));var J=a(59174),x=a(93968),T=a(77499),R=a(37029),$=a(82752),M=a(63024),O=a(95281),j=a(48764).Buffer;const q=(0,n.X$)((0,r.c$)((e=>(0,l.ei)(e,["session","currentAccountAddress","authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,session:a})=>{const{setAuthPassword:o,clearAuthError:l,showAuthError:s}=(0,r.Sv)(),i=(0,c.Z)(),[u,d]=(0,n.eJ)(!1),[m,h]=(0,n.eJ)(""),[p,g]=(0,n.eJ)(""),[Z,P]=(0,n.eJ)(!1),f=()=>{const e=m.trim().split(" ");return(0===m.trim().length?0:e.length).toString()},y=(0,n.I4)((()=>{P(!Z),h("")}),[Z,P]),w=(0,n.I4)((()=>{const e=new x.Z;h(e.getWords())}),[h]),N=(0,n.I4)((e=>{const t=e.target.files[0],a=new T.h,n=new Blob([t],{type:t.type}),r=URL.createObjectURL(n);a.scan(r).then((e=>{h(e.data)})).catch((e=>{alert("二维码解析失败")}))}),[h]),C=(0,n.I4)((()=>{document.querySelector("#upload_qrcode").click()}),[h]),I=(0,n.I4)((e=>{g(""),h(e.target.value)}),[]),k=(0,n.I4)((e=>{d(e)}),[]),L=(0,n.I4)((async e=>{if(!(0,S.t)(e))return s(i("PasswordTipsCheck"));let t=m.trim();if(Z){if(m.startsWith("wai://")){const a=m.replace("wai://",""),n=j.from(a,"hex"),r=R.zF.parseMsg(new $.es(n));if(!r)return g("解析二维码失败");{const{type:a,data:n}=r;if(a!==M.I.QrCodeType_MNEMONIC)return g("解析二维码失败");try{const a=await(0,O.jz)(n,j.from((0,S.n)(e),"hex"));if(!a)return g("解析二维码失败");t=a.toString()}catch(e){return g("解密二维码失败")}}}else if("12"!==f())return g("助记词需12个单词");if(!new x.Z(t).checkMnemonic())return g("助记词不合法，请输入12个单词,用空格分割")}o({password:e,mnemonic:t})}),[o,m,Z]),A=(0,n.I4)((()=>{(0,r.Sv)().updateGlobal({authState:"authorizationStateReady"}),(0,r.Sv)().loadAllChats({listType:"active",shouldReplace:!0})}),[o]);return n.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},!a&&n.ZP.createElement("div",{className:"auth-close"},n.ZP.createElement(b.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:i("Close"),onClick:A},n.ZP.createElement("i",{className:"icon-close"}))),n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(E.Z,{isPasswordVisible:u}),n.ZP.createElement("h1",null,Z?"助记词导入":i("Login.Header.Password")),n.ZP.createElement("p",{className:"note"}),Z&&n.ZP.createElement(J.Z,{noReplaceNewlines:!0,error:p||"",inputMode:"text",value:m,onChange:I,label:"助记词",disabled:e,maxLength:1e3,maxLengthIndicator:f()}),n.ZP.createElement(v.Z,{clearError:l,error:t&&i(t),hint:i("PasswordTipsLoginPlaceholder"),isLoading:e,isPasswordVisible:u,onChangePasswordVisibility:k,onSubmit:L}),n.ZP.createElement("div",{className:"auth-or-line"},n.ZP.createElement("div",{className:"auth-line"}),n.ZP.createElement("div",{className:"auth-or"},"OR")),Z&&n.ZP.createElement(b.Z,{isText:!0,onClick:w},"助记词生成"),Z&&n.ZP.createElement(n.ZP.Fragment,null,n.ZP.createElement("input",{style:"display:none",onChange:N,type:"file",id:"upload_qrcode"}),n.ZP.createElement(b.Z,{isText:!0,onClick:C},"二维码登录")),n.ZP.createElement(b.Z,{isText:!0,onClick:y},Z?"密码登录":"助记词登录")))})))},99364:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(60748),r=a(83716),o=a(77361),l=a(46752),s=a(3858),i=a(59107),c=a(28183),u=a(42797),d=a(231);const m=(0,n.X$)((({isLoading:e=!1,isPasswordVisible:t,error:a,hint:m,placeholder:h="Password",submitLabel:p="Next",description:g,shouldShowSubmit:Z,shouldResetValue:P,shouldDisablePasswordManager:E=!1,noRipple:v=!1,clearError:f,onChangePasswordVisibility:b,onInputChange:y,onSubmit:w})=>{const N=(0,n.sO)(null),C=(0,i.Z)(),{isMobile:I}=(0,u.ZP)(),[k,S]=(0,n.eJ)(r.vSM),[L,A]=(0,n.eJ)(!1),J=I?550:400;return(0,n.d4)((()=>{P&&!r.vSM&&S("")}),[P]),(0,c.Z)((()=>{o.$b||N.current.focus(),N&&N.current.value&&A(!0)}),J),(0,n.d4)((()=>{a&&requestAnimationFrame((()=>{N.current.focus(),N.current.select()}))}),[a]),n.ZP.createElement("form",{action:"",onSubmit:w?function(t){t.preventDefault(),e||L&&w(k)}:s.Z,autoComplete:"off"},n.ZP.createElement("div",{className:(0,l.Z)("input-group password-input",k&&"touched",a&&"error"),dir:C.isRtl?"rtl":void 0},E&&n.ZP.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),n.ZP.createElement("input",{onKeyDown:e=>{if("Enter"==e.code&&!w)return e.preventDefault(),e.stopPropagation(),!1},ref:N,className:"form-control",type:t?"text":"password",id:"sign-in-password",value:k||"",multiple:!0,autoComplete:E?"one-time-code":"current-password",onChange:function(e){a&&f();const{target:t}=e;S(t.value),A(t.value.length>=r.loe),y&&y(t.value)},maxLength:256,dir:"auto"}),n.ZP.createElement("label",null,a||m||h),n.ZP.createElement("div",{className:"toggle-password",onClick:function(){b(!t)},role:"button",tabIndex:0,title:"Toggle password visibility"},n.ZP.createElement("i",{className:t?"icon-eye":"icon-eye-closed"}))),g&&n.ZP.createElement("p",{className:"description"},g),w&&(L||Z)&&n.ZP.createElement(d.Z,{type:"submit",ripple:!v,isLoading:e,disabled:!L},p))}))},93490:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(60748),r=a(83716),o=a(62821),l=a(97799),s=a(28183),i=a(60706),c=a(42797);const u=[0,50],d=[0,20],m=[20,0],h=(0,n.X$)((({isPasswordVisible:e,isBig:t})=>{const[a,h]=(0,i.Z)(!1),[p,g]=(0,i.Z)(!1),{isMobile:Z}=(0,c.ZP)(),P=Z?r.qpg:r.z7m;(0,s.Z)(g,2e3);const E=(0,n.I4)(h,[h]);return n.ZP.createElement("div",{id:"monkey",className:t?"big":""},!a&&n.ZP.createElement("div",{className:"monkey-preview"}),n.ZP.createElement(l.Z,{size:t?r.K2q:P,className:p?"hidden":"shown",tgsUrl:o.l.MonkeyClose,playSegment:u,noLoop:!0,onLoad:E}),n.ZP.createElement(l.Z,{size:t?r.K2q:P,className:p?"shown":"hidden",tgsUrl:o.l.MonkeyPeek,playSegment:e?d:m,noLoop:!0}))}))},90730:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(60748),r=a(46752),o=a(66735);const l=(0,n.X$)((({title:e="Change your profile picture",disabled:t,isForForum:a,currentAvatarBlobUrl:l,onChange:s})=>{const[i,c]=(0,n.eJ)(),[u,d]=(0,n.eJ)(l);(0,n.d4)((()=>{d(l)}),[l]);const m=(0,n.I4)((e=>{c(void 0),s(e),u&&u!==l&&URL.revokeObjectURL(u),d(URL.createObjectURL(e))}),[u,l,s]),h=(0,n.I4)((()=>{c(void 0)}),[]),p=(0,r.Z)(u&&"filled",t&&"disabled",a&&"rounded-square");return n.ZP.createElement("div",{className:"AvatarEditable"},n.ZP.createElement("label",{className:p,role:"button",tabIndex:0,title:e},n.ZP.createElement("input",{type:"file",onChange:function(e){const t=e.target;t?.files?.[0]&&(c(t.files[0]),t.value="")},accept:"image/png, image/jpeg"}),n.ZP.createElement("i",{className:"icon-camera-add"}),u&&n.ZP.createElement("img",{src:u,alt:"Avatar"})),n.ZP.createElement(o.Z,{file:i,onClose:h,onChange:m}))}))},66735:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(60748),r=a(83716),o=a(71394),l=a(59107),s=a(231),i=a(13103),c=a(34288);const u={type:"blob",quality:1,format:"jpeg",circle:!1,size:{width:1024,height:1024}};let d,m,h;const p=(0,n.X$)((({file:e,onChange:t,onClose:p})=>{const[g,Z]=(0,n.eJ)(!1);(0,n.d4)((()=>{e&&(g?async function(e){try{const t=document.getElementById("avatar-crop");if(!t)return;const{offsetWidth:a,offsetHeight:n}=t;h=new d(t,{enableZoom:!0,boundary:{width:a,height:n},viewport:{width:a-16,height:n-16,type:"circle"}});const r=await(0,o.YJ)(e);await h.bind({url:r})}catch(e){r.eMD&&console.error(e)}}(e):async function(){return m||(m=Promise.all([a.e(5099),a.e(3472)]).then(a.bind(a,23472)),d=(await m).default),m}().then((()=>Z(!0))))}),[e,g]);const P=(0,l.Z)(),E=(0,n.I4)((async()=>{if(!h)return;const e=await h.result(u),a="string"==typeof e?e:(0,o.hl)(e,"avatar.jpg");t(a)}),[t]);return n.ZP.createElement(i.Z,{isOpen:Boolean(e),onClose:p,title:"Drag to reposition",className:"CropModal",hasCloseButton:!0},g?n.ZP.createElement("div",{id:"avatar-crop"}):n.ZP.createElement(c.Z,null),n.ZP.createElement(s.Z,{className:"confirm-button",round:!0,color:"primary",onClick:E,ariaLabel:P("CropImage")},n.ZP.createElement("i",{className:"icon-check"})))}))},13103:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(60748),r=a(517),o=a(46752),l=a(98069),s=a(18674),i=a(31212),c=a(274),u=a(59107),d=a(46590),m=a(231),h=a(62898);const p=({dialogRef:e,title:t,className:a,isOpen:p,isSlim:g,header:Z,hasCloseButton:P,noBackdrop:E,noBackdropClose:v,children:f,style:b,onClose:y,onCloseAnimationEnd:w,onEnter:N,shouldSkipHistoryAnimations:C})=>{const{shouldRender:I,transitionClassNames:k}=(0,i.Z)(p,w,C,void 0,C),S=(0,n.sO)(null);(0,n.d4)((()=>{if(p)return(0,l.l_)(),l.In}),[p]),(0,n.d4)((()=>p?(0,r.Z)({onEsc:y,onEnter:N}):void 0),[p,y,N]),(0,n.d4)((()=>p&&S.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const a=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!a.length)return;const n=a.findIndex((e=>e.isSameNode(document.activeElement)));let r=0;n>=0&&(r=t.shiftKey?n>0?n-1:a.length-1:n<a.length-1?n+1:0),a[r].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(S.current):void 0),[p]),(0,d.Z)({isActive:p,onBack:y}),(0,c.Z)((([e])=>(document.body.classList.toggle("has-open-dialog",Boolean(p)),(p||!p&&void 0!==e)&&(0,s.YW)(200),()=>{document.body.classList.remove("has-open-dialog")})),[p]);const L=(0,u.Z)();if(!I)return;const A=(0,o.Z)("Modal",a,k,E&&"transparent-backdrop",g&&"slim");return n.ZP.createElement(h.Z,null,n.ZP.createElement("div",{ref:S,className:A,tabIndex:-1,role:"dialog"},n.ZP.createElement("div",{className:"modal-container"},n.ZP.createElement("div",{className:"modal-backdrop",onClick:v?void 0:y}),n.ZP.createElement("div",{className:"modal-dialog",ref:e},Z||(t?n.ZP.createElement("div",{className:"modal-header"},P&&n.ZP.createElement(m.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:L("Close"),onClick:y},n.ZP.createElement("i",{className:"icon-close"})),n.ZP.createElement("div",{className:"modal-title"},t)):void 0),n.ZP.createElement("div",{className:"modal-content custom-scroll",style:b},f)))))}},59174:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(59107),r=a(46752),o=a(60748);const l=(0,o.X$)((({ref:e,id:t,className:a,value:l,label:s,error:i,success:c,disabled:u,readOnly:d,placeholder:m,autoComplete:h,inputMode:p,maxLength:g,maxLengthIndicator:Z,tabIndex:P,onChange:E,onInput:v,onKeyPress:f,onKeyDown:b,onBlur:y,onPaste:w,noReplaceNewlines:N})=>{let C=(0,o.sO)(null);e&&(C=e);const I=(0,n.Z)(),k=i||c||s,S=(0,r.Z)("input-group",l&&"touched",i?"error":c&&"success",u&&"disabled",d&&"disabled",k&&"with-label",a);(0,o.d4)((()=>{const e=C.current;e&&(e.style.height="0",e.style.height=`${e.scrollHeight}px`)}),[l]);const L=(0,o.I4)((e=>{if(!N){const t=e.currentTarget.selectionEnd;e.currentTarget.value=e.currentTarget.value.replace(/\n/g," "),e.currentTarget.selectionEnd=t}e.currentTarget.style.height="0",e.currentTarget.style.height=`${e.currentTarget.scrollHeight}px`,E?.(e)}),[N,E]);return o.ZP.createElement("div",{className:S,dir:I.isRtl?"rtl":void 0},o.ZP.createElement("textarea",{ref:C,className:"form-control",id:t,dir:"auto",rows:3,value:l||"",tabIndex:P,placeholder:m,maxLength:g,autoComplete:h,inputMode:p,disabled:u,readOnly:d,onChange:L,onInput:v,onKeyPress:f,onKeyDown:b,onBlur:y,onPaste:w,"aria-label":k}),k&&o.ZP.createElement("label",{htmlFor:t},k),Z&&o.ZP.createElement("div",{className:"max-length-indicator"},Z))}))},28183:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(60748);const r=function(e,t){const a=(0,n.sO)(e);(0,n.bt)((()=>{a.current=e}),[e]),(0,n.d4)((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>a.current()),t);return()=>clearTimeout(e)}),[t])}},98069:(e,t,a)=>{a.d(t,{In:()=>o,l_:()=>r,wT:()=>l});let n=0;function r(){n+=1}function o(){n-=1}function l(){return n>0}},3858:(e,t,a)=>{a.d(t,{Z:()=>n});const n=e=>{e.stopPropagation(),e.preventDefault()}}}]);
//# sourceMappingURL=3041.29b4db3cf591c9b43e87.js.map