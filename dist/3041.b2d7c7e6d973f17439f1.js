"use strict";(self.webpackChunkwai=self.webpackChunkwai||[]).push([[3041],{18118:(e,t,a)=>{a.r(t),a.d(t,{AuthCode:()=>P,AuthPassword:()=>E,AuthRegister:()=>w,AuthRegisterEmail:()=>A,AuthSignPassword:()=>q});var r=a(60748),n=a(33555),o=a(77361),i=a(60782),s=a(32340),l=a(46590),c=a(59107),u=a(97687),d=a(34288),m=a(83716),h=a(62821),p=a(42797),g=a(97799);const Z=(0,r.X$)((({code:e,codeLength:t,trackingDirection:a,isTracking:n,isBig:o})=>{const[i,s]=(0,r.eJ)(!1),{isMobile:l}=(0,p.ZP)(),c=165/t,u=l?m.qpg:m.z7m,d=(0,r.I4)((()=>s(!0)),[]);return r.ZP.createElement("div",{id:"monkey",className:o?"big":""},!i&&r.ZP.createElement("div",{className:"monkey-preview"}),r.ZP.createElement(g.Z,{size:o?m.K2q:u,className:n?"hidden":void 0,tgsUrl:h.l.MonkeyIdle,play:!n,onLoad:d}),r.ZP.createElement(g.Z,{size:o?m.K2q:u,className:n?"shown":"hidden",tgsUrl:h.l.MonkeyTracking,playSegment:n?function(){const r=e&&e.length>1||a<0?15+c*(e.length-1):0,n=e.length===t?180:15+c*e.length;return a<1?[n,r]:[r,n]}():void 0,speed:2,noLoop:!0}))})),P=(0,r.X$)((0,n.c$)((e=>(0,i.ei)(e,["authPhoneNumber","authIsCodeViaApp","authIsLoading","authError"])))((({authPhoneNumber:e,authIsCodeViaApp:t,authIsLoading:a,authError:i})=>{const{setAuthCode:m,returnToAuthPhoneNumber:h,clearAuthError:p}=(0,n.Sv)(),g=(0,c.Z)(),P=(0,r.sO)(null),[f,v]=(0,r.eJ)(""),[E,b]=(0,r.eJ)(!1),[y,w]=(0,r.eJ)(1);(0,r.d4)((()=>{o.$b||P.current.focus()}),[]),(0,l.Z)({isActive:!0,onBack:h});const N=(0,r.I4)((e=>{i&&p();const{currentTarget:t}=e;t.value=t.value.replace(/[^\d]+/,"").substr(0,5),t.value!==f&&(v(t.value),E?t.value.length||b(!1):b(!0),f&&f.length>t.value.length?w(-1):w(1),5===t.value.length&&m({code:t.value}))}),[i,p,f,E,m]);return r.ZP.createElement("div",{id:"auth-code-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement(Z,{code:f,codeLength:5,isTracking:E,trackingDirection:y}),r.ZP.createElement("h1",null,e,r.ZP.createElement("div",{className:"auth-number-edit",onClick:function(){h()},role:"button",tabIndex:0,title:g("WrongNumber")},r.ZP.createElement("i",{className:"icon-edit"}))),r.ZP.createElement("p",{className:"note"},(0,s.Z)(g(t?"SentAppCode":"Login.JustSentSms"),["simple_markdown"])),r.ZP.createElement(u.Z,{ref:P,id:"sign-in-code",label:g("Code"),onInput:N,value:f,error:i&&g(i),autoComplete:"off",inputMode:"numeric"}),a&&r.ZP.createElement(d.Z,null)))})));var f=a(93490),v=a(99364);const E=(0,r.X$)((0,n.c$)((e=>(0,i.ei)(e,["authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,authHint:a})=>{const{setAuthPassword:o,clearAuthError:i}=(0,n.Sv)(),s=(0,c.Z)(),[l,u]=(0,r.eJ)(!1),d=(0,r.I4)((e=>{u(e)}),[]),m=(0,r.I4)((e=>{o({password:e})}),[o]);return r.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement(f.Z,{isPasswordVisible:l}),r.ZP.createElement("h1",null,s("Login.Header.Password")),r.ZP.createElement("p",{className:"note"},s("Login.EnterPasswordDescription")),r.ZP.createElement(v.Z,{clearError:i,error:t&&s(t),hint:a,isLoading:e,isPasswordVisible:l,onChangePasswordVisibility:d,onSubmit:m})))})));var b=a(231),y=a(90730);const w=(0,r.X$)((0,n.c$)((e=>(0,i.ei)(e,["authIsLoading","authError"])))((({authIsLoading:e,authError:t})=>{const{signUp:a,clearAuthError:o,uploadProfilePhoto:i}=(0,n.Sv)(),s=(0,c.Z)(),[l,d]=(0,r.eJ)(!1),[m,h]=(0,r.eJ)(),[p,g]=(0,r.eJ)(""),[Z,P]=(0,r.eJ)(""),f=(0,r.I4)((e=>{t&&o();const{target:a}=e;g(a.value),d(a.value.length>0)}),[t,o]),v=(0,r.I4)((e=>{const{target:t}=e;P(t.value)}),[]);return r.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement("form",{action:"",method:"post",onSubmit:function(e){e.preventDefault(),a({firstName:p,lastName:Z}),m&&i({file:m})}},r.ZP.createElement(y.Z,{onChange:h}),r.ZP.createElement("h2",null,s("YourName")),r.ZP.createElement("p",{className:"note"},s("Login.Register.Desc")),r.ZP.createElement(u.Z,{id:"registration-first-name",label:s("Login.Register.FirstName.Placeholder"),onChange:f,value:p,error:t&&s(t),autoComplete:"given-name"}),r.ZP.createElement(u.Z,{id:"registration-last-name",label:s("Login.Register.LastName.Placeholder"),onChange:v,value:Z,autoComplete:"family-name"}),l&&r.ZP.createElement(b.Z,{type:"submit",ripple:!0,isLoading:e},s("Next")))))}))),N=a.p+"github.cc5da41cefbfea31a26e.svg",C=a.p+"google.324ab349caf94c572718.svg";var S=a(89618),I=a(2133),k=a(44567);let L=!1;const A=(0,r.X$)((0,n.c$)((e=>(0,i.ei)(e,["authError"])))((({authError:e})=>{const{clearAuthError:t,showAuthError:a,updateGlobal:o}=(0,n.Sv)(),i=(0,c.Z)(),[s,l]=(0,r.eJ)(!1),[d,h]=(0,r.eJ)(!1),[g,Z]=(0,r.eJ)(m.IKD),[P,f]=(0,r.eJ)((0,I.Ju)(g)),[E,y]=(0,r.eJ)(m.vSM),[w,A]=(0,r.eJ)(""),[J,x]=(0,r.eJ)(""),[T,j]=(0,r.eJ)(""),[M,R]=(0,r.eJ)(!1),[$,O]=(0,r.eJ)(!1),[q,B]=(0,r.eJ)(!1),D=(0,r.I4)((e=>{h(!d)}),[d]),z=(0,r.I4)((a=>{e&&t();const{target:r}=a;Z(r.value),f((0,I.Ju)(r.value))}),[e,t]),V=(0,r.I4)((a=>{J&&x(""),e&&t(),y(a)}),[J,x,t]),U=(0,r.I4)((a=>{T&&j(""),e&&t(),A(a)}),[T,j,t]),H=(0,r.I4)((e=>{O(e)}),[]),_=(0,r.I4)((e=>{B(e)}),[]),K=()=>{o({authState:"authorizationStateReady"})},X=({token:e,user:t})=>{localStorage.setItem(m.IPc,JSON.stringify({token:e,user:t}))};(0,r.d4)((()=>{const{query:e}=(0,I.k1)(window.location.href),{code:t,email:r}=e;t&&!L&&(L=!0,Z(r),R(!0),f(!0),(async()=>{try{const e=await fetch(`${m.qHj}/auth/token`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({code:t})}),r=await e.json();r.err_msg?a(r.err_msg):(X(r),K())}catch(e){a("network error")}})().then((()=>{window.history.replaceState({},"",window.location.href.split("?")[0])})).finally((()=>{L=!1,R(!1)})))}),[]),(0,r.d4)((()=>{const{query:e}=(0,I.k1)(window.location.href),{err_msg:t}=e;t&&(a(t),window.history.replaceState({},"",window.location.href.split("?")[0]))}),[]);const F=(0,r.I4)((()=>{o({authState:"authorizationStateReady"})}),[o]),W=(0,p.W7)();return r.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},r.ZP.createElement("div",{className:"auth-close"},r.ZP.createElement(b.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:i("Close"),onClick:F},r.ZP.createElement("i",{className:"icon-close"}))),r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement("form",{action:"",method:"post",onSubmit:async function(e){if(e.preventDefault(),!(0,I.Ju)(g))return a("Email不合法");if(!(0,k.t)(E))return x(i("PasswordTipsCheck"));if(s){const e={password:(await(0,S.sha1)(E.toString())).toString("hex")};R(!0);try{const t=await fetch(`${m.qHj}/auth/password`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(r.err_msg)return a(r.err_msg);K()}catch(e){a("登录异常")}finally{R(!1)}return}if(d&&E!=w)return j("两次输入的密码不一致");const t=E===m.vSM?"da39a3ee5e6b4b0d3255bfef95601890afd80709":await(0,S.sha1)(E.toString()),r={email:g,password:t.toString("hex")};R(!0);try{const e=await fetch(`${m.qHj}/auth/${d?"reg":"login"}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(t.err_msg)return a(t.err_msg);X(t),K()}catch(e){a("登录异常")}finally{R(!1)}}},r.ZP.createElement("h2",null,"Wai"),r.ZP.createElement("p",{className:"note"},"An Ai Chat Application"),r.ZP.createElement(u.Z,{onFocus:t,id:"registration-email",type:"email",label:"Email",onChange:z,value:g,error:e&&i(e)||"",autoComplete:"given-name"}),r.ZP.createElement(v.Z,{clearError:()=>x(""),error:J&&i(J),isPasswordVisible:$,onChangePasswordVisibility:H,onInputChange:V}),d&&r.ZP.createElement(v.Z,{placeholder:"Repeat Password",clearError:()=>j(""),error:T&&i(T),isPasswordVisible:q,onChangePasswordVisibility:_,onInputChange:U}),P&&r.ZP.createElement(b.Z,{type:"submit",ripple:!0,isLoading:M},i("Next"))),d?r.ZP.createElement("div",{className:"auth-tips"},"Already have an account? ",r.ZP.createElement("u",{className:"auth-tips-action",onClick:D},"Log in")):r.ZP.createElement("div",{className:"auth-tips"},"Don't have an account? ",r.ZP.createElement("u",{className:"auth-tips-action",onClick:D},"Sign up")),r.ZP.createElement("div",{className:"auth-or-line"},r.ZP.createElement("div",{className:"auth-line"}),r.ZP.createElement("div",{className:"auth-or"},"OR")),r.ZP.createElement("div",{className:"oauth-btn"},r.ZP.createElement(b.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/github`},className:"Button translucent round","aria-label":"Github",style:""},r.ZP.createElement("img",{src:N,alt:"Github"})),r.ZP.createElement(b.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/google`},className:"Button translucent round","aria-label":"Google",style:""},r.ZP.createElement("img",{src:C,alt:"Google"})))),W&&r.ZP.createElement("div",{style:"height:500px"}))})));var J=a(59174),x=a(93968),T=a(77499),j=a(37753),M=a(82752),R=a(63024),$=a(95281),O=a(48764).Buffer;const q=(0,r.X$)((0,n.c$)((e=>(0,i.ei)(e,["session","currentAccountAddress","authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,session:a})=>{const{setAuthPassword:o,clearAuthError:i,showAuthError:s}=(0,n.Sv)(),l=(0,c.Z)(),[u,d]=(0,r.eJ)(!1),[m,h]=(0,r.eJ)(""),[p,g]=(0,r.eJ)(""),[Z,P]=(0,r.eJ)(!1),E=()=>{const e=m.trim().split(" ");return(0===m.trim().length?0:e.length).toString()},y=(0,r.I4)((()=>{P(!Z),h("")}),[Z,P]),w=(0,r.I4)((()=>{const e=new x.Z;h(e.getWords())}),[h]),N=(0,r.I4)((e=>{const t=e.target.files[0],a=new T.h,r=new Blob([t],{type:t.type}),n=URL.createObjectURL(r);a.scan(n).then((e=>{h(e.data)})).catch((e=>{alert("二维码解析失败")}))}),[h]),C=(0,r.I4)((()=>{document.querySelector("#upload_qrcode").click()}),[h]),S=(0,r.I4)((e=>{g(""),h(e.target.value)}),[]),I=(0,r.I4)((e=>{d(e)}),[]),L=(0,r.I4)((async e=>{if(!(0,k.t)(e))return s(l("PasswordTipsCheck"));let t=m.trim();if(Z){if(m.startsWith("wai://")){const a=m.replace("wai://",""),r=O.from(a,"hex"),n=j.zF.parseMsg(new M.es(r));if(!n)return g("解析二维码失败");{const{type:a,data:r}=n;if(a!==R.I.QrCodeType_MNEMONIC)return g("解析二维码失败");try{const a=await(0,$.jz)(r,O.from((0,k.n)(e),"hex"));if(!a)return g("解析二维码失败");t=a.toString()}catch(e){return g("解密二维码失败")}}}else if("12"!==E())return g("助记词需12个单词");if(!new x.Z(t).checkMnemonic())return g("助记词不合法，请输入12个单词,用空格分割")}o({password:e,mnemonic:t})}),[o,m,Z]),A=(0,r.I4)((()=>{(0,n.Sv)().updateGlobal({authState:"authorizationStateReady"}),(0,n.Sv)().loadAllChats({listType:"active",shouldReplace:!0})}),[o]);return r.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},!a&&r.ZP.createElement("div",{className:"auth-close"},r.ZP.createElement(b.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:l("Close"),onClick:A},r.ZP.createElement("i",{className:"icon-close"}))),r.ZP.createElement("div",{className:"auth-form"},r.ZP.createElement(f.Z,{isPasswordVisible:u}),r.ZP.createElement("h1",null,Z?"助记词导入":l("Login.Header.Password")),r.ZP.createElement("p",{className:"note"}),Z&&r.ZP.createElement(J.Z,{noReplaceNewlines:!0,error:p||"",inputMode:"text",value:m,onChange:S,label:"助记词",disabled:e,maxLength:1e3,maxLengthIndicator:E()}),r.ZP.createElement(v.Z,{clearError:i,error:t&&l(t),hint:l("PasswordTipsLoginPlaceholder"),isLoading:e,isPasswordVisible:u,onChangePasswordVisibility:I,onSubmit:L}),r.ZP.createElement("div",{className:"auth-or-line"},r.ZP.createElement("div",{className:"auth-line"}),r.ZP.createElement("div",{className:"auth-or"},"OR")),Z&&r.ZP.createElement(b.Z,{isText:!0,onClick:w},"助记词生成"),Z&&r.ZP.createElement(r.ZP.Fragment,null,r.ZP.createElement("input",{style:"display:none",onChange:N,type:"file",id:"upload_qrcode"}),r.ZP.createElement(b.Z,{isText:!0,onClick:C},"二维码登录")),r.ZP.createElement(b.Z,{isText:!0,onClick:y},Z?"密码登录":"助记词登录")))})))},99364:(e,t,a)=>{a.d(t,{Z:()=>m});var r=a(60748),n=a(83716),o=a(77361),i=a(46752),s=a(3858),l=a(59107),c=a(28183),u=a(42797),d=a(231);const m=(0,r.X$)((({isLoading:e=!1,isPasswordVisible:t,error:a,hint:m,placeholder:h="Password",submitLabel:p="Next",description:g,shouldShowSubmit:Z,shouldResetValue:P,shouldDisablePasswordManager:f=!1,noRipple:v=!1,clearError:E,onChangePasswordVisibility:b,onInputChange:y,onSubmit:w})=>{const N=(0,r.sO)(null),C=(0,l.Z)(),{isMobile:S}=(0,u.ZP)(),[I,k]=(0,r.eJ)(n.vSM),[L,A]=(0,r.eJ)(!1),J=S?550:400;return(0,r.d4)((()=>{P&&!n.vSM&&k("")}),[P]),(0,c.Z)((()=>{o.$b||N.current.focus(),N&&N.current.value&&A(!0)}),J),(0,r.d4)((()=>{a&&requestAnimationFrame((()=>{N.current.focus(),N.current.select()}))}),[a]),r.ZP.createElement("form",{action:"",onSubmit:w?function(t){t.preventDefault(),e||L&&w(I)}:s.Z,autoComplete:"off"},r.ZP.createElement("div",{className:(0,i.Z)("input-group password-input",I&&"touched",a&&"error"),dir:C.isRtl?"rtl":void 0},f&&r.ZP.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),r.ZP.createElement("input",{onKeyDown:e=>{if("Enter"==e.code&&!w)return e.preventDefault(),e.stopPropagation(),!1},ref:N,className:"form-control",type:t?"text":"password",id:"sign-in-password",value:I||"",multiple:!0,autoComplete:f?"one-time-code":"current-password",onChange:function(e){a&&E();const{target:t}=e;k(t.value),A(t.value.length>=n.loe),y&&y(t.value)},maxLength:256,dir:"auto"}),r.ZP.createElement("label",null,a||m||h),r.ZP.createElement("div",{className:"toggle-password",onClick:function(){b(!t)},role:"button",tabIndex:0,title:"Toggle password visibility"},r.ZP.createElement("i",{className:t?"icon-eye":"icon-eye-closed"}))),g&&r.ZP.createElement("p",{className:"description"},g),w&&(L||Z)&&r.ZP.createElement(d.Z,{type:"submit",ripple:!v,isLoading:e,disabled:!L},p))}))},93490:(e,t,a)=>{a.d(t,{Z:()=>h});var r=a(60748),n=a(83716),o=a(62821),i=a(97799),s=a(28183),l=a(60706),c=a(42797);const u=[0,50],d=[0,20],m=[20,0],h=(0,r.X$)((({isPasswordVisible:e,isBig:t})=>{const[a,h]=(0,l.Z)(!1),[p,g]=(0,l.Z)(!1),{isMobile:Z}=(0,c.ZP)(),P=Z?n.qpg:n.z7m;(0,s.Z)(g,2e3);const f=(0,r.I4)(h,[h]);return r.ZP.createElement("div",{id:"monkey",className:t?"big":""},!a&&r.ZP.createElement("div",{className:"monkey-preview"}),r.ZP.createElement(i.Z,{size:t?n.K2q:P,className:p?"hidden":"shown",tgsUrl:o.l.MonkeyClose,playSegment:u,noLoop:!0,onLoad:f}),r.ZP.createElement(i.Z,{size:t?n.K2q:P,className:p?"shown":"hidden",tgsUrl:o.l.MonkeyPeek,playSegment:e?d:m,noLoop:!0}))}))},90730:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(60748),n=a(46752),o=a(66735);const i=(0,r.X$)((({title:e="Change your profile picture",disabled:t,isForForum:a,currentAvatarBlobUrl:i,onChange:s})=>{const[l,c]=(0,r.eJ)(),[u,d]=(0,r.eJ)(i);(0,r.d4)((()=>{d(i)}),[i]);const m=(0,r.I4)((e=>{c(void 0),s(e),u&&u!==i&&URL.revokeObjectURL(u),d(URL.createObjectURL(e))}),[u,i,s]),h=(0,r.I4)((()=>{c(void 0)}),[]),p=(0,n.Z)(u&&"filled",t&&"disabled",a&&"rounded-square");return r.ZP.createElement("div",{className:"AvatarEditable"},r.ZP.createElement("label",{className:p,role:"button",tabIndex:0,title:e},r.ZP.createElement("input",{type:"file",onChange:function(e){const t=e.target;t?.files?.[0]&&(c(t.files[0]),t.value="")},accept:"image/png, image/jpeg"}),r.ZP.createElement("i",{className:"icon-camera-add"}),u&&r.ZP.createElement("img",{src:u,alt:"Avatar"})),r.ZP.createElement(o.Z,{file:l,onClose:h,onChange:m}))}))},66735:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(60748),n=a(83716),o=a(71394),i=a(59107),s=a(231),l=a(13103),c=a(34288);const u={type:"blob",quality:1,format:"jpeg",circle:!1,size:{width:1024,height:1024}};let d,m,h;const p=(0,r.X$)((({file:e,onChange:t,onClose:p})=>{const[g,Z]=(0,r.eJ)(!1);(0,r.d4)((()=>{e&&(g?async function(e){try{const t=document.getElementById("avatar-crop");if(!t)return;const{offsetWidth:a,offsetHeight:r}=t;h=new d(t,{enableZoom:!0,boundary:{width:a,height:r},viewport:{width:a-16,height:r-16,type:"circle"}});const n=await(0,o.YJ)(e);await h.bind({url:n})}catch(e){n.eMD&&console.error(e)}}(e):async function(){return m||(m=Promise.all([a.e(5099),a.e(3472)]).then(a.bind(a,23472)),d=(await m).default),m}().then((()=>Z(!0))))}),[e,g]);const P=(0,i.Z)(),f=(0,r.I4)((async()=>{if(!h)return;const e=await h.result(u),a="string"==typeof e?e:(0,o.hl)(e,"avatar.jpg");t(a)}),[t]);return r.ZP.createElement(l.Z,{isOpen:Boolean(e),onClose:p,title:"Drag to reposition",className:"CropModal",hasCloseButton:!0},g?r.ZP.createElement("div",{id:"avatar-crop"}):r.ZP.createElement(c.Z,null),r.ZP.createElement(s.Z,{className:"confirm-button",round:!0,color:"primary",onClick:f,ariaLabel:P("CropImage")},r.ZP.createElement("i",{className:"icon-check"})))}))},13103:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(60748),n=a(517),o=a(46752),i=a(98069),s=a(18674),l=a(31212),c=a(274),u=a(59107),d=a(46590),m=a(231),h=a(62898);const p=({dialogRef:e,title:t,className:a,isOpen:p,isSlim:g,header:Z,hasCloseButton:P,noBackdrop:f,noBackdropClose:v,children:E,style:b,onClose:y,onCloseAnimationEnd:w,onEnter:N,shouldSkipHistoryAnimations:C})=>{const{shouldRender:S,transitionClassNames:I}=(0,l.Z)(p,w,C,void 0,C),k=(0,r.sO)(null);(0,r.d4)((()=>{if(p)return(0,i.l_)(),i.In}),[p]),(0,r.d4)((()=>p?(0,n.Z)({onEsc:y,onEnter:N}):void 0),[p,y,N]),(0,r.d4)((()=>p&&k.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const a=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!a.length)return;const r=a.findIndex((e=>e.isSameNode(document.activeElement)));let n=0;r>=0&&(n=t.shiftKey?r>0?r-1:a.length-1:r<a.length-1?r+1:0),a[n].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(k.current):void 0),[p]),(0,d.Z)({isActive:p,onBack:y}),(0,c.Z)((([e])=>(document.body.classList.toggle("has-open-dialog",Boolean(p)),(p||!p&&void 0!==e)&&(0,s.YW)(200),()=>{document.body.classList.remove("has-open-dialog")})),[p]);const L=(0,u.Z)();if(!S)return;const A=(0,o.Z)("Modal",a,I,f&&"transparent-backdrop",g&&"slim");return r.ZP.createElement(h.Z,null,r.ZP.createElement("div",{ref:k,className:A,tabIndex:-1,role:"dialog"},r.ZP.createElement("div",{className:"modal-container"},r.ZP.createElement("div",{className:"modal-backdrop",onClick:v?void 0:y}),r.ZP.createElement("div",{className:"modal-dialog",ref:e},Z||(t?r.ZP.createElement("div",{className:"modal-header"},P&&r.ZP.createElement(m.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:L("Close"),onClick:y},r.ZP.createElement("i",{className:"icon-close"})),r.ZP.createElement("div",{className:"modal-title"},t)):void 0),r.ZP.createElement("div",{className:"modal-content custom-scroll",style:b},E)))))}},59174:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(59107),n=a(46752),o=a(60748);const i=(0,o.X$)((({ref:e,id:t,className:a,value:i,label:s,error:l,success:c,disabled:u,readOnly:d,placeholder:m,autoComplete:h,inputMode:p,maxLength:g,maxLengthIndicator:Z,tabIndex:P,onChange:f,onInput:v,onKeyPress:E,onKeyDown:b,onBlur:y,onPaste:w,noReplaceNewlines:N})=>{let C=(0,o.sO)(null);e&&(C=e);const S=(0,r.Z)(),I=l||c||s,k=(0,n.Z)("input-group",i&&"touched",l?"error":c&&"success",u&&"disabled",d&&"disabled",I&&"with-label",a);(0,o.d4)((()=>{const e=C.current;e&&(e.style.height="0",e.style.height=`${e.scrollHeight}px`)}),[i]);const L=(0,o.I4)((e=>{if(!N){const t=e.currentTarget.selectionEnd;e.currentTarget.value=e.currentTarget.value.replace(/\n/g," "),e.currentTarget.selectionEnd=t}e.currentTarget.style.height="0",e.currentTarget.style.height=`${e.currentTarget.scrollHeight}px`,f?.(e)}),[N,f]);return o.ZP.createElement("div",{className:k,dir:S.isRtl?"rtl":void 0},o.ZP.createElement("textarea",{ref:C,className:"form-control",id:t,dir:"auto",rows:3,value:i||"",tabIndex:P,placeholder:m,maxLength:g,autoComplete:h,inputMode:p,disabled:u,readOnly:d,onChange:L,onInput:v,onKeyPress:E,onKeyDown:b,onBlur:y,onPaste:w,"aria-label":I}),I&&o.ZP.createElement("label",{htmlFor:t},I),Z&&o.ZP.createElement("div",{className:"max-length-indicator"},Z))}))},28183:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(60748);const n=function(e,t){const a=(0,r.sO)(e);(0,r.bt)((()=>{a.current=e}),[e]),(0,r.d4)((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>a.current()),t);return()=>clearTimeout(e)}),[t])}},37753:(e,t,a)=>{a.d(t,{ql:()=>n,zF:()=>o,UV:()=>i}),a(975),a(79441),a(37729),a(56106),a(16494),a(83551),a(35585),a(46008),a(68991),a(60014),a(82621),a(54373),a(8315),a(28475),a(88605),a(37717),a(9541);var r=a(82752);class n extends r.ZP{constructor(e){var t,a,r;super("PTP.Common.PbMsg",e),t=this,r=void 0,(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(a="msg"))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,this.msg=e}static parseMsg(e){return(new n).decode(e.body())}}a(12901);class o extends r.ZP{constructor(e){var t,a,r;super("PTP.Common.PbQrCode",e),t=this,r=void 0,(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(a="msg"))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,this.msg=e}static parseMsg(e){return(new o).decode(e.body())}}a(99061),a(30888),a(4199),a(84212);class i extends r.ZP{constructor(e){var t,a,r;super("PTP.Common.PbUser",e),t=this,r=void 0,(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(a="msg"))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,this.msg=e}static parseMsg(e){return(new i).decode(e.body())}}a(83630),a(91965),a(42183),a(94595),a(5328),a(97631)},98069:(e,t,a)=>{a.d(t,{In:()=>o,l_:()=>n,wT:()=>i});let r=0;function n(){r+=1}function o(){r-=1}function i(){return r>0}},3858:(e,t,a)=>{a.d(t,{Z:()=>r});const r=e=>{e.stopPropagation(),e.preventDefault()}},2133:(e,t,a)=>{a.d(t,{Ju:()=>o,K:()=>l,i5:()=>n,k1:()=>i,q9:()=>s,z1:()=>c});var r=a(48764).Buffer;function n(e,t,a,r){return e.substring(0,t)+r+e.substring(t+a)}const o=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function i(e){const t=e.replace(/#/g,"?"),a=new URL(t),r=Array.from(a.searchParams.entries()).reduce(((e,[t,a])=>({...e,[t]:a})),{});return{url:a,query:r}}function s(){return Math.ceil(+new Date/1e3)}function l(){return Math.ceil(+new Date)}async function c(e){return new Promise(((t,a)=>{const n=new FileReader;n.onload=()=>{const e=r.from(n.result);t(e)},n.onerror=a,n.readAsArrayBuffer(e)}))}}}]);
//# sourceMappingURL=3041.b2d7c7e6d973f17439f1.js.map